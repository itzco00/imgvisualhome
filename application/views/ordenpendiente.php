<div style="position:fixed; bottom:5%; left:2%;">
    <div>
        <i id="guardatempentrada" style="cursor: pointer;"></i>
        <i type="button" id="cargardatos" onclick="mostrardatos();"></i>
    </div>
</div>
<section id="main-content">
    <header class="header" style="position:fixed; background:#000000">
        <div>
            <div class="sidebar-toggle-box">
                <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>
            </div>
            <a href="<?= base_url() ?>Dashboard" class="logo"><b>AVANTE TEXTIL</b></a>
            <div class="top-menu">
                <ul class="nav pull-right top-menu">
                    <li>
                        <a class="logout" style="background-color: yellow; color: black" href="<?= base_url() ?>Dashboard/logout">CERRAR SESION</a>
                    </li>
                </ul>
                <?php
                foreach ($usernamepdnt as $ius) {
                ?>
                <?php
                }
                ?>
                <?php if ($ius->pdntaccess == 1) : ?>
                    <ul class="nav pull-right top-menu" style="padding-right:1%;padding-top:14px">
                        <li>
                            <button type="button" id="loading_changes_btn" onclick="sendclicksave()" style="background:#27FFEF;color: #000000; cursor: pointer; font-size: 1em; padding-top:6px; padding-bottom:6px; border-radius:5px; border:none">ACTUALIZAR</button>
                        </li>
                    </ul>
                    <ul class="nav pull-right top-menu" style="padding-right:1%;padding-top:14px">
                        <li>
                            <div id="loading_changes" style="display:none"><img src="<?= base_url() ?>assets/img/loading1.gif" style=" width: 30px"></div>
                        </li>
                    </ul>
                    <ul class="nav pull-right top-menu" style="padding-right:1%;padding-top:8px">
                        <li>
                            <form action="<?= base_url() ?>Dashboard/verPapeleraPendiente" method="post">
                                <?php
                                foreach ($ordenpendiente as $ordpt) {
                                ?>
                                    <input type="hidden" name="ordenpendiente" id="ordenpendiente" value="<?= $ordpt->ordenpendiente ?>">
                                <?php
                                }
                                ?>
                                <?php
                                foreach ($usernamepdnt as $ius) {
                                ?>
                                    <input type="hidden" id="usernamepdnt" name="usernamepdnt" value="<?= $ius->nombreusuario ?>">
                                <?php
                                }
                                ?>
                                <button type="submit" style="border:none; background:transparent"><img src="<?= base_url() ?>assets/img/trashcan.png" style=" width: 40px"></button>
                            </form>
                        </li>
                    </ul>
                <?php else : ?>
                <?php endif ?>

            </div>
            <script type="text/javascript">
                function sendclicksave() {
                    document.getElementById('guardatempentrada').click();
                }
            </script>
        </div>
    </header>
    <section class="wrapper">
        <?php
        foreach ($usernamepdnt as $ius) {
        ?>
        <?php
        }
        ?>
        <?php if ($ius->pdntaccess == 1) : ?>
            <div class="row mt">
                <div class="col-lg-12">
                    <div style="border-radius: 10px; padding: 30px; background-color: black;">
                        <div style="display: flex; justify-content: space-around; padding-top: 20px">
                            <img src="<?= base_url() ?>assets/img/profile2.png" style=" width: 300px">
                            <div style="justify-content: center">
                                <div style="text-align: center; color: white">
                                    <h1>AVANTE TEXTIL</h1>
                                    <h2>Tiendas Optima</h2>
                                </div>
                            </div>
                            <div style="padding-top: 20px">
                                <div style="justify-content: center">
                                    <div style="text-align: center; color: white">
                                        <h4>CONTACTO:</h4>
                                        <h4>MAR√çA TERESA VILLAR DOURADO</h4>
                                        <h4 style="text-decoration-line: underline">mtvillar@tiendasoptima.com.mx</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="text-align: center; padding-top: 40px; color: white">
                            <h3>Av. Industrial Automotriz No. 202 Parque Industrial El Coecillo C.P. 50200 Tel. (722)2790900 Ext. 2909 y 2908</h3>
                        </div>
                    </div>
                </div>
            </div>
            <!--************************activador inicial de encabezados***********************-->
            <i id="traem2pendientes"></i>
            <i id="calculam2pendientes" onclick="seleccionartienda();seleccionarnombre();seleccionarproveedor();"></i>
            <div class="row mt">
                <div class="col-lg-12">
                    <div style="border-radius: 10px; padding: 30px; background-color:#FFFFC4">
                        <div style="display: flex; justify-content: space-around">
                            <div style="justify-content: center">
                                <div style="text-align: center; color: black"><!--
                                <form action="<?= base_url() ?>Dashboard/administrartiendas">
                                    <button type="submit" style="background-color: black; color: #ffffff; width:300px; height: 30px; font-size: 1.3em">ADMINISTRAR TIENDAS</button>
                                </form>-->
                                    <h2>TIENDA</h2>
                                    <select name="tienda" id="tienda" style="width:300px; height: 30px; font-size: 1.3em; color: black" onchange="seleccionartienda();">
                                        <?php
                                        foreach ($cabeceros as $cab) {
                                        ?>
                                        <?php
                                        }
                                        ?>
                                        <option value="<?= $cab->tienda ?>"><?= $cab->tienda ?></option>
                                    </select>
                                    <div style="justify-content: center; padding-top:5px;">
                                        <select id="tipo_tienda" style="width:300px; height: 30px; font-size: 1.3em; color: black">
                                        <?php if ($cab->tipotienda == 'APERTURA'){ ?>
                                            <option value="">TIPO DE TIENDA</option>
                                            <option value="APERTURA" selected>APERTURA</option>
                                            <option value="EXISTENTE">EXISTENTE</option>
                                        <?php
                                        }else if($cab->tipotienda == 'EXISTENTE'){
                                        ?>
                                            <option value="">TIPO DE TIENDA</option>
                                            <option value="APERTURA">APERTURA</option>
                                            <option value="EXISTENTE" selected>EXISTENTE</option>
                                        <?php
                                        }else{
                                        ?>
                                            <option value="">TIPO DE TIENDA</option>
                                            <option value="APERTURA">APERTURA</option>
                                            <option value="EXISTENTE">EXISTENTE</option>
                                        <?php
                                        }
                                        ?>
                                        </select>
                                    </div>
                                    <div style="justify-content: center; padding-top:5px;">
                                        <select id="ubicacion_tienda" style="width:300px; height: 30px; font-size: 1.3em; color: black">
                                        <?php if ($cab->ubicacion == 'A PIE DE CARRETERA'){ ?>
                                            <option value="">UBICACION</option>
                                            <option value="A PIE DE CARRETERA" selected>A PIE DE CARRETERA</option>
                                            <option value="CENTRO COMERCIAL">CENTRO COMERCIAL</option>
                                        <?php
                                        }else if($cab->ubicacion == 'CENTRO COMERCIAL'){
                                        ?>
                                            <option value="">UBICACION</option>
                                            <option value="A PIE DE CARRETERA">A PIE DE CARRETERA</option>
                                            <option value="CENTRO COMERCIAL" selected>CENTRO COMERCIAL</option>
                                        <?php
                                        }else{
                                        ?>
                                            <option value="">UBICACION</option>
                                            <option value="A PIE DE CARRETERA">A PIE DE CARRETERA</option>
                                            <option value="CENTRO COMERCIAL">CENTRO COMERCIAL</option>
                                        <?php
                                        }
                                        ?>
                                        </select>
                                    </div>
                                    <div style="justify-content: center">
                                        <?php
                                        $checkedRB31 = "";
                                        $checkedRB33 = "";
                                        $checkedRB34 = "";
                                        if($cab->cuentacliente == '31'){
                                            $checkedRB31 = "checked";
                                            $checkedRB33 = "";
                                            $checkedRB34 = "";
                                        }else if($cab->cuentacliente == '33'){
                                            $checkedRB31 = "";
                                            $checkedRB33 = "checked";
                                            $checkedRB34 = "";
                                        }else if($cab->cuentacliente == '34'){
                                            $checkedRB31 = "";
                                            $checkedRB33 = "";
                                            $checkedRB34 = "checked";
                                        }else{
                                            $checkedRB31 = "";
                                            $checkedRB33 = "";
                                            $checkedRB34 = "";
                                        }
                                        ?>
                                        <?php
                                        if ($cab->tipotienda == 'APERTURA' && $cab->ubicacion == 'A PIE DE CARRETERA'){ 
                                            $display_cc31 = 'style="display:none"';
                                            $display_cc33 = 'style="display:none"';
                                            $display_cc34 = '';
                                        }else if($cab->tipotienda == 'APERTURA' && $cab->ubicacion == 'CENTRO COMERCIAL'){
                                            $display_cc31 = 'style="display:none"';
                                            $display_cc33 = '';
                                            $display_cc34 = 'style="display:none"';
                                        }else if($cab->tipotienda == 'EXISTENTE' && $cab->ubicacion == 'A PIE DE CARRETERA'){
                                            $display_cc31 = '';
                                            $display_cc33 = 'style="display:none"';
                                            $display_cc34 = 'style="display:none"';
                                        }else if($cab->tipotienda == 'EXISTENTE' && $cab->ubicacion == 'CENTRO COMERCIAL'){
                                            $display_cc31 = '';
                                            $display_cc33 = 'style="display:none"';
                                            $display_cc34 = 'style="display:none"';
                                        }else{
                                            $display_cc31 = 'style="display:none"';
                                            $display_cc33 = 'style="display:none"';
                                            $display_cc34 = 'style="display:none"';
                                        }
                                        ?>
                                        <div style="display: flex; justify-content: space-around">
                                            <div id="section_cc31" <?= $display_cc31 ?>>
                                                <input type="radio" id="change_sku_values_cc31" name="radioGroup" class="radio-btn" <?= $checkedRB31 ?>>
                                                <label for="change_sku_values_cc31" class="radio-label">CC 31</label>
                                            </div>
                                            <div id="section_cc33" <?= $display_cc33 ?>>
                                                <input type="radio" id="change_sku_values_cc33" name="radioGroup" class="radio-btn" <?= $checkedRB33 ?>>
                                                <label for="change_sku_values_cc33" class="radio-label">CC 33</label>
                                            </div>
                                            <div id="section_cc34" <?= $display_cc34 ?>>
                                                <input type="radio" id="change_sku_values_cc34" name="radioGroup" class="radio-btn" <?= $checkedRB34 ?>>
                                                <label for="change_sku_values_cc34" class="radio-label">CC 34</label>
                                            </div>
                                            <div id="limpia_skus_div" style="display:none">
                                                <input type="radio" id="limpia_skus_vals" name="radioGroup" class="radio-btn">
                                                <label for="limpia_skus_vals" class="radio-label">Limpia skus</label>
                                            </div>
                                            <input type="hidden" id="ccstatus" value="<?= $cab->cuentacliente ?>" required>
                                        </div>
                                        <div style="justify-content: center">
                                            <div style="text-align: center; color: black">
                                                <h2 id="resultadotienda" name="resultadotienda"></h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="justify-content: center">
                                <div style="text-align: center; color: black"><!--
                                <form action="<?= base_url() ?>Dashboard/administrarnombresusuario">
                                    <button type="submit" style="background-color: black; color: #ffffff; width:300px; height: 30px; font-size: 1.3em">ADMINISTRAR NOMBRES</button>
                                </form>-->
                                    <h2>NOMBRE</h2>
                                    <select name="nombreusuario" id="nombreusuario" style="width:300px; height: 30px; font-size: 1.3em; color: black" onchange="seleccionarnombre();">
                                        <option value="<?= $cab->nombre ?>"><?= $cab->nombre ?></option>
                                    </select>
                                    <div style="justify-content: center">
                                        <div style="text-align: center; color: black">
                                            <h2 id="resultadonombre" name="resultadonombre"></h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="justify-content: center">
                                <div style="text-align: center; color: black"><!--
                                <form action="<?= base_url() ?>Dashboard/administrarproveedores">
                                    <button type="submit" style="background-color: black; color: #ffffff; width:300px; height: 30px; font-size: 1.3em">ADMINISTRAR PROVEEDORRES</button>
                                </form>-->
                                    <h2>PROVEEDOR</h2>
                                    <select name="proveedor" id="proveedor" style="width:300px; height: 30px; font-size: 1.3em; color: black" onchange="seleccionarproveedor();">
                                        <option value="<?= $cab->proveedor ?>"><?= $cab->proveedor ?></option>
                                        <?php
                                        foreach ($proveedores as $prv) {
                                        ?>
                                            <option value="<?= $prv->proveedor ?>"><?= $prv->proveedor ?></option>
                                        <?php
                                        }
                                        ?>
                                    </select>
                                    <div style="justify-content: center">
                                        <div style="text-align: center; color: black">
                                            <h2 id="resultadoproveedor" name="resultadoproveedor"></h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <form action="<?= base_url() ?>Dashboard/insertarProductosCompra" method="post" id="formcrearcompra">
                <?php
                foreach ($ordenpendiente as $pdntor) {
                ?>
                    <input type="hidden" id="ordenpdntvalue" name="ordenpdntvalue" value="<?= $pdntor->ordenpendiente ?>">
                <?php
                }
                ?>
                <input type="hidden" id="resultadotiendainput" name="resultadotiendainput">
                <input type="hidden" id="resultadonombreinput" name="resultadonombreinput">
                <input type="hidden" id="resultadoproveedorinput" name="resultadoproveedorinput">
                <div id="areadatostienda">
                </div>
                <input type="hidden" id="replicacuentacontable" name="replicacuentacontable" value="<?= $cab->cuentacliente ?>">
                <input type="hidden" id="replicatipotienda" name="replicatipotienda" value="<?= $cab->tipotienda ?>">
                <input type="hidden" id="replicaubicacion" name="replicaubicacion" value="<?= $cab->ubicacion ?>">
                <?php
                foreach ($usernamepdnt as $ius) {
                ?>
                    <input type="hidden" name="username_validate_session" id="username_validate_session" value="<?= $ius->nombreusuario ?>">
                <?php
                }
                ?>
                <div class="row mt">
                    <div class="col-lg-12">
                        <div style="border-radius: 10px; padding: 30px; background-color:#FFFFC4">
                            <div style="display: flex; justify-content: space-around">
                                <div style="justify-content: center">
                                    <div>
                                        <div class="form-panel" style="border-radius: 5px; background-color:#000000">
                                            <div style="justify-content: center">
                                                <div style="text-align: center; color: white">
                                                    <h1>CENTRO DE COSTOS</h1>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div style="padding-left: 15px;">
                                            <div style="justify-content: center">
                                                <div style="text-align: center; color: black">
                                                    <h2> NO. DE TIENDA </h2>
                                                    <h2 id="numtiendah2"></h2>
                                                    <h2 id="cc_tnd"></h2>
                                                    <h2 id="ubicacion_info"></h2>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--<div>
                                        <div style="padding-left: 15px;">
                                            <div style="justify-content: center">
                                                <div style="text-align: center; color: black">
                                                    <h2>DTA</h2>
                                                </div>
                                            </div>
                                        </div>
                                    </div>-->
                                    <div>
                                        <div class="form-panel" style="border-radius: 5px;">
                                            <table class="table">
                                                <thead>
                                                    <tr style="width:100%; justify-content: center; text-align: center">
                                                        <th style="text-align: center; font-size: 1.3em; color: black">CONCEPTO</th>
                                                        <th style="text-align: center; font-size: 1.3em; color: black">TOTAL POR AREA</th>
                                                        <th style="text-align: center; font-size: 1.3em; color: black">PORCENTAJE</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <th style="text-align: center; background-color: #7F521C; font-size: 1.3em; color: white">MUEBLES</th>
                                                        <input type="hidden" id="totalmuebles" name="totalmuebles" readonly>
                                                        <input type="hidden" id="totalmueblesprov" name="totalmueblesprov" readonly>
                                                        <input type="hidden" id="totalmueblesv2" readonly>
                                                        <td id="tdmuebles" style="font-size: 1.3em; color: black"></td>
                                                        <input type="hidden" id="porcentajemuebles" name="porcentajemuebles" class="porcentajemuebles" readonly>
                                                        <input type="hidden" id="porcentajemueblesprov" name="porcentajemueblesprov" class="porcentajemueblesprov" readonly>
                                                        <td id="tdporcentajemuebles" style="text-align: center; font-size: 1.3em; color: black"></td>
                                                    </tr>
                                                    <tr>
                                                        <th style="text-align: center; background-color: #91DDD9; font-size: 1.3em; color: black">HERRAJES</th>
                                                        <input type="hidden" id="totalherrajes" name="totalherrajes" readonly>
                                                        <input type="hidden" id="totalherrajesprov" name="totalherrajesprov" readonly>
                                                        <input type="hidden" id="totalherrajesv2" readonly>
                                                        <td id="tdherrajes" style="font-size: 1.3em; color: black"></td>
                                                        <input type="hidden" id="porcentajeherrajes" name="porcentajeherrajes" class="porcentajeherrajes" readonly>
                                                        <input type="hidden" id="porcentajeherrajesprov" name="porcentajeherrajesprov" class="porcentajeherrajesprov" readonly>
                                                        <td id="tdporcentajeherrajes" style="text-align: center; font-size: 1.3em; color: black"></td>
                                                    </tr>
                                                    <tr>
                                                        <th style="text-align: center; background-color: #83EC81; font-size: 1.3em; color: black">EXTRAS</th>
                                                        <input type="hidden" id="totalextras" name="totalextras" readonly>
                                                        <input type="hidden" id="totalextrasprov" name="totalextrasprov" readonly>
                                                        <input type="hidden" id="totalextrasv2" readonly>
                                                        <td id="tdextras" style="font-size: 1.3em; color: black"></td>
                                                        <input type="hidden" id="porcentajextras" name="porcentajextras" class="porcentajextras" readonly>
                                                        <input type="hidden" id="porcentajextrasprov" name="porcentajextrasprov" class="porcentajextrasprov" readonly>
                                                        <td id="tdporcentajeextras" style=" text-align: center; font-size: 1.3em; color: black"></td>
                                                    </tr>
                                                    <tr>
                                                        <th style="text-align: center; background-color: #FFBD00; font-size: 1.3em; color: black">INSTALACION Y TRANSPORTE</th>
                                                        <input type="hidden" id="totalinstalacionytransporte" name="totalinstalacionytransporte" readonly>
                                                        <td id="tdinstalacionytransporte" style="font-size: 1.3em; color: black"></td>
                                                        <input type="hidden" id="porcentajeinstalacionytransporte" name="porcentajeinstalacionytransporte" class="porcentajeinstalacionytransporte" readonly>
                                                        <td id="tdporcentajeinstalacionytransporte" style=" text-align: center; font-size: 1.3em; color: black"></td>
                                                    </tr>
                                                    <tr>
                                                        <th style="text-align: center; background-color: #B84EED; font-size: 1.3em; color: black">POP</th>
                                                        <input type="hidden" id="totalpop" name="totalpop" readonly>
                                                        <input type="hidden" id="totalpopv2" readonly>
                                                        <td id="tdpop" style="font-size: 1.3em; color: black"></td>
                                                        <input type="hidden" id="porcentajepop" name="porcentajepop" class="porcentajepop" readonly>
                                                        <td id="tdporcentajepop" style="text-align: center; font-size: 1.3em; color: black"></td>
                                                    </tr>
                                                    <tr>
                                                        <th style="text-align: center; background-color: #FDFF78; font-size: 1.3em; color: black">MANIQUIS</th>
                                                        <input type="hidden" id="totalmaniquis" name="totalmaniquis" readonly>
                                                        <input type="hidden" id="totalmaniquisv2" readonly>
                                                        <td id="tdmaniquis" style="font-size: 1.3em; color: black"></td>
                                                        <input type="hidden" id="porcentajemaniquis" name="porcentajemaniquis" class="porcentajemaniquis" readonly>
                                                        <td id="tdporcentajemaniquis" style="text-align: center; font-size: 1.3em; color: black"></td>
                                                    </tr>
                                                    <tr>
                                                        <th style="text-align: center; background-color: #4449F3; font-size: 1.3em; color: white">OTROS</th>
                                                        <input type="hidden" id="totalotros" name="totalotros" readonly>
                                                        <input type="hidden" id="totalotrosv2" readonly>
                                                        <td id="tdotros" style="font-size: 1.3em; color: black"></td>
                                                        <input type="hidden" id="porcentajeotros" name="porcentajeotros" class="porcentajeotros" readonly>
                                                        <td id="tdporcentajeotros" style=" text-align: center; font-size: 1.3em; color: black"></td>
                                                    </tr>
                                                </tbody>
                                                <thead>
                                                    <tr style="width:100%; justify-content: center; text-align: center">
                                                        <th style="text-align: center; font-size: 1.3em; color: black">CONCEPTO</th>
                                                        <th style="text-align: center; font-size: 1.3em; color: black">TOTAL</th>
                                                        <th style="text-align: center; font-size: 1.3em; color: black">TOTAL M.H.E.</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <th style="text-align: center; background-color: #D6D6D6; font-size: 1.3em; color: black">M2 TIENDA
                                                            <input type="hidden" size="10" style="font-size: 1.3em; color: black" name="" id="" oninput="calculatotalentrevalorantespreciototal(); calculatotalentrevalorantespreciototal2(); enviarm2()">
                                                            <label for="" id="redultadom2"></label>
                                                        </th>
                                                        <input type="hidden" id="totalmueblesherrajesextrasinstalacionytransportepopmaniquis" name="totalmueblesherrajesextrasinstalacionytransportepopmaniquis" size="10" style="font-size: 1.3em; color: black" readonly>
                                                        <input type="hidden" id="totalmueblesherrajesextrasinstalacionytransportepopmaniquisv2" name="totalmueblesherrajesextrasinstalacionytransportepopmaniquisv2" size="10" style="font-size: 1.3em; color: black" readonly>
                                                        <td id="tdtotal" style="font-size: 1.3em; color: black"></td>
                                                        <input type="hidden" id="totalmueblesherrajesextras" name="totalmueblesherrajesextras" size="10" style="font-size: 1.3em; color: black" readonly>
                                                        <input type="hidden" id="totalmueblesherrajesextrasv2" name="totalmueblesherrajesextrasv2" size="10" style="font-size: 1.3em; color: black" readonly>
                                                        <td id="tdtotalmhe" style="font-size: 1.3em; color: black"></td>
                                                    </tr>
                                                    <tr>
                                                        <th style="text-align: center; color: black; background-color: #D6D6D6; font-size: 1.3em;">PRECIO TOTAL CON M2</th>
                                                        <input type="hidden" id="totalentrevalorantespreciototalv1" name="totalentrevalorantespreciototalv1" size="10" style="font-size: 1.3em; color: black" readonly>
                                                        <input type="hidden" id="totalentrevalorantespreciototal" name="totalentrevalorantespreciototal" size="10" style="font-size: 1.3em; color: black" readonly>
                                                        <td id="tdtotalm2" style="background-color: #D6D6D6; font-size: 1.3em; color: black"></td>
                                                        <input type="hidden" id="totalentrevalorantespreciototal2v2" name="totalentrevalorantespreciototal2v2" size="10" style="font-size: 1.3em; color: black" readonly>
                                                        <input type="hidden" id="totalentrevalorantespreciototal2" name="totalentrevalorantespreciototal2" size="10" style="font-size: 1.3em; color: black" readonly>
                                                        <td id="tdtotalm2mhe" style="background-color: #D6D6D6; font-size: 1.3em; color: black" style="background-color: #D6D6D6;"></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div style="justify-content: center; padding-top: 3%">
                                    <div class="form-panel" style="background-color:dimgray; border-radius: 5px; color:#ffffff">
                                        <h2 style="text-align: center;">PORCENTAJES POR CONCEPTO</h2>
                                        <div>
                                            <div>
                                                <canvas id="myChart" width="550" height="480"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <div>
                        <input style="background:#FDFF78; color:#000000" id="Tmuebprov" name="Tmuebprov" type="hidden">
                        <input style="background:#FDFF78; color:#000000" id="Tmuebprovprc" name="Tmuebprovprc" type="hidden">
                    </div>
                    <div>
                        <input style="background:#FDFF78; color:#000000" id="THerrprov" name="THerrprov" type="hidden">
                        <input style="background:#FDFF78; color:#000000" id="THerrprovprc" name="THerrprovprc" type="hidden">
                    </div>
                    <div>
                        <input style="background:#FDFF78; color:#000000" id="TExttotm2" name="TExttotm2" type="hidden" value="0">
                        <input style="background:#FDFF78; color:#000000" id="TExtprovprc" name="TExtprovprc" type="hidden" value="0">
                    </div>
                    <div>
                        <input style="background:#FDFF78; color:#000000" id="Tprovtot" name="Tprovtot" type="hidden">
                        <input style="background:#FDFF78; color:#000000" id="Tprovtotmhe" name="Tprovtotmhe" type="hidden">
                    </div>
                    <div>
                        <input style="background:#FDFF78; color:#000000" id="Tprovtotm2" name="Tprovtotm2" type="hidden">
                        <input style="background:#FDFF78; color:#000000" id="Tprovtotmhem2" name="Tprovtotmhem2" type="hidden">
                    </div>
                </div>
                <div>
                    <div>
                        <input style="color:#000000" id="Tprovfin" name="Tprovfin" type="hidden">
                        <input style="color:#000000" id="Tprovfin30prc" name="Tprovfin30prc" type="hidden">
                    </div>
                    <div>
                        <input style="color:#000000" id="Tprovfin16prc" name="Tprovfin16prc" type="hidden">
                        <input style="color:#000000" id="Tprovfin16prc30prc" name="Tprovfin16prc30prc" type="hidden">
                    </div>
                    <div>
                        <input style="color:#000000" id="Tprovtotfin" name="Tprovtotfin" type="hidden">
                        <input style="color:#000000" id="Tprovtotfin30prc" name="Tprovtotfin30prc" type="hidden">
                    </div>
                    <div>
                        <input style="color:#000000" id="Tprovfiniquito" name="Tprovfiniquito" type="hidden">
                    </div>
                </div>

                <div class="row mt">
                    <div class="col-lg-12">
                        <div class="form-panel">
                            <div style="justify-content: space-between;">
                                <div class="col-lg-12 ">
                                    <div style="display: flex; justify-content: flex-start; padding-top: 20px">
                                    </div>
                                    <div style="display:flex; justify-content:center">
                                        <div style="width:100%;">
                                            <div style="display:flex; justify-content:flex-end">
                                                <div>
                                                    <h3 style="padding-right:15px; color:#000000">FECHA DE ENTREGA: </h3>
                                                </div>
                                                <div style="padding-top:1%">
                                                    <input size="12" type="text" id="fecha_entrega" name="fecha_entrega" value="<?= $cab->fecha_entrega ?>" style="border-style: solid;border-color:black;border-width:3px; border-radius:10px;color:black;font-size:1.5em;cursor:pointer;" required autocomplete="off">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div style="font-size:1.4em; color:black;"><b>Precio Inicial</b><img src="<?= base_url() ?>assets/img/reprocess_on.png" style=" width: 25px"></div>
                                        <div style="font-size:1.4em; color:black;"><b>Precio Reproceso</b><img src="<?= base_url() ?>assets/img/reprocess_off.png" style=" width: 25px"></div>
                                    </div>
                                </div>
                                <div class="col-lg-12 ">
                                    <input type="hidden" style="font-size: 1.5em; color: black" id="numordencompra" name="numordencompra" readonly>
                                    <input type="hidden" style="font-size: 1.5em; color: black" id="fecha" name="fecha" readonly>
                                    <input size="60" type="hidden" style="font-size: 1.5em; color: black" id="numordencompra1000" name="numordencompra1000" readonly>
                                </div>
                            </div>



                            <!--*********************** 1. Entrada **********************-->

                            <i id="btncalculatodo" style="cursor: pointer;" onclick="calculatodo();"></i>
                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">1. ENTRADA</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb"></h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalent"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalent" name="finalent" readonly>
                                                                <td style="background-color: #7F521C;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablaentrada">
                                                            <?php
                                                            $filasident = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($entrada as $ent) {
                                                                $filasident++;
                                                                $consec++;
                                                                if($ent->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $ent->id_nuevo ?>" class="ent_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($ent->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $ent->id_nuevo ?>"><input type="hidden" name="idnuevoent[]" size="5" value="<?= $ent->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ent->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ent_[]" id="color_values_<?= $ent->id_nuevo ?>" value="<?= $ent->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ent->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $ent->id_nuevo ?>"><input type="hidden" name="idnuevoent[]" size="5" value="<?= $ent->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ent->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ent_[]" id="color_values_<?= $ent->id_nuevo ?>" value="<?= $ent->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ent->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $ent->id_nuevo ?>"><input type="hidden" name="idnuevoent[]" size="5" value="<?= $ent->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ent->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ent_[]" id="color_values_<?= $ent->id_nuevo ?>" value="<?= $ent->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ent->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $ent->id_nuevo ?>"><input type="hidden" name="idnuevoent[]" size="5" value="<?= $ent->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ent->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ent_[]" id="color_values_<?= $ent->id_nuevo ?>" value="<?= $ent->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ent->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $ent->id_nuevo ?>"><input type="hidden" name="idnuevoent[]" size="5" value="<?= $ent->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ent->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ent_[]" id="color_values_<?= $ent->id_nuevo ?>" value="<?= $ent->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ent->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $ent->id_nuevo ?>"><input type="hidden" name="idnuevoent[]" size="5" value="<?= $ent->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ent->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ent_[]" id="color_values_<?= $ent->id_nuevo ?>" value="<?= $ent->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ent->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $ent->id_nuevo ?>"><input type="hidden" name="idnuevoent[]" size="5" value="<?= $ent->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ent->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ent->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ent->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ent->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ent_[]" id="color_values_<?= $ent->id_nuevo ?>" value="<?= $ent->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $ent->id_nuevo ?>"><input type="hidden" name="idnuevoent[]" size="5" value="<?= $ent->id_nuevo ?>">
                                                                            <input type="hidden" name="color_ent_[]" id="color_values_<?= $ent->id_nuevo ?>" value="<?= $ent->color ?>" size="5">
                                                                        </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_ent[]" value="<?= $ent->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $ent->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $ent->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $ent->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $ent->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $ent->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $ent->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $ent->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="ident[]" size="5" value="<?= $ent->id ?>"><?= $consec ?>.- <?= $ent->nombre ?><input type="hidden" name="nombreent[]" value="<?= $ent->nombre ?>">
                                                                        <?php if ($ent->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="entincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="entincluye[]" id="" cols="50" rows="7"><?= $ent->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $ent->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasident ?>" class="getrowident" style="cursor:pointer"></i>
                                                                        <i id="recalc_ent_<?= $filasident ?>" class="getrowident2" style="cursor:pointer"></i>
                                                                        <?php if ($ent->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaent-<?= $filasident ?>" name="piezaent[]" oninput="Calcent(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaent-<?= $filasident ?>" name="piezaent[]" oninput="Calcent(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $ent->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $ent->unidad ?><input type="hidden" name="unidadent[]" value="<?= $ent->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioent-<?= $filasident ?>" name="precioent[]" oninput="Calcent(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $ent->precio ?>">
                                                                        <?php if ($ent->statusreproceso == 0) : ?>
                                                                            <i id="flag_reprocess_ent<?= $filasident ?>"><img class="get_reprocess_ent check_isfijor" id="<?= $filasident ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                            <i id="flag_normal_ent<?= $filasident ?>" style="display:none"><img class="get_normal_ent check_isfijo" id="<?= $filasident ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_ent<?= $filasident ?>" style="display:none"><img class="get_reprocess_ent check_isfijor" id="<?= $filasident ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                            <i id="flag_normal_ent<?= $filasident ?>"><img class="get_normal_ent check_isfijo" id="<?= $filasident ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusent[]" size="10" id="status_reprocess_val_ent<?= $filasident ?>" value="<?= $ent->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_ent<?= $filasident ?>" value="<?= $ent->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalent-<?= $filasident ?>" name="tdsubtotalent[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalent[]" value="<?= $ent->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesent[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $ent->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosent[]" value="<?= $ent->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosent[]" value="<?= $ent->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i type="button" class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $ent->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($entrada == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="ent_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnent btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!--*********************** 2. Dama Y Caballero **********************-->


                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">2. DAMA Y CABALLERO</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO DE PISO</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinaldcmpi"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finaldcmpi" name="finaldcmpi" readonly>
                                                                <td style="background-color: #7F521C;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotabladcmpi">
                                                            <?php
                                                            $filasiddcmpi = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($dcmpiso as $dcmpi) {
                                                                $filasiddcmpi++;
                                                                $consec++;
                                                                if($dcmpi->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $dcmpi->id_nuevo ?>" class="dcmpi_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($dcmpi->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $dcmpi->id_nuevo ?>"><input type="hidden" name="idnuevodcmpi[]" size="5" value="<?= $dcmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpi_[]" id="color_values_<?= $dcmpi->id_nuevo ?>" value="<?= $dcmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpi->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $dcmpi->id_nuevo ?>"><input type="hidden" name="idnuevodcmpi[]" size="5" value="<?= $dcmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpi_[]" id="color_values_<?= $dcmpi->id_nuevo ?>" value="<?= $dcmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpi->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $dcmpi->id_nuevo ?>"><input type="hidden" name="idnuevodcmpi[]" size="5" value="<?= $dcmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpi_[]" id="color_values_<?= $dcmpi->id_nuevo ?>" value="<?= $dcmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpi->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $dcmpi->id_nuevo ?>"><input type="hidden" name="idnuevodcmpi[]" size="5" value="<?= $dcmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpi_[]" id="color_values_<?= $dcmpi->id_nuevo ?>" value="<?= $dcmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpi->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $dcmpi->id_nuevo ?>"><input type="hidden" name="idnuevodcmpi[]" size="5" value="<?= $dcmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpi_[]" id="color_values_<?= $dcmpi->id_nuevo ?>" value="<?= $dcmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpi->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $dcmpi->id_nuevo ?>"><input type="hidden" name="idnuevodcmpi[]" size="5" value="<?= $dcmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpi_[]" id="color_values_<?= $dcmpi->id_nuevo ?>" value="<?= $dcmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpi->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $dcmpi->id_nuevo ?>"><input type="hidden" name="idnuevodcmpi[]" size="5" value="<?= $dcmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpi_[]" id="color_values_<?= $dcmpi->id_nuevo ?>" value="<?= $dcmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $dcmpi->id_nuevo ?>"><input type="hidden" name="idnuevodcmpi[]" size="5" value="<?= $dcmpi->id_nuevo ?>">
                                                                            <input type="hidden" name="color_dcmpi_[]" id="color_values_<?= $dcmpi->id_nuevo ?>" value="<?= $dcmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_dcmpi[]" value="<?= $dcmpi->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $dcmpi->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $dcmpi->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $dcmpi->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $dcmpi->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $dcmpi->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $dcmpi->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $dcmpi->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="iddcmpi[]" size="5" value="<?= $dcmpi->id ?>"><?= $consec ?>.- <?= $dcmpi->nombre ?><input type="hidden" name="nombredcmpi[]" value="<?= $dcmpi->nombre ?>">
                                                                        <?php if ($dcmpi->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="dcmpiincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="dcmpiincluye[]" id="" cols="50" rows="7"><?= $dcmpi->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $dcmpi->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasiddcmpi ?>" class="getrowiddcmpi" style="cursor:pointer"></i>
                                                                        <i id="recalc_dcmpi_<?= $filasiddcmpi ?>" class="getrowiddcmpi2" style="cursor:pointer"></i>
                                                                        <?php if ($dcmpi->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezadcmpi-<?= $filasiddcmpi ?>" name="piezadcmpi[]" oninput="Calcdcmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezadcmpi-<?= $filasiddcmpi ?>" name="piezadcmpi[]" oninput="Calcdcmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $dcmpi->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $dcmpi->unidad ?><input type="hidden" name="unidaddcmpi[]" value="<?= $dcmpi->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="preciodcmpi-<?= $filasiddcmpi ?>" name="preciodcmpi[]" oninput="Calcdcmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $dcmpi->precio ?>">
                                                                        <?php if ($dcmpi->statusreproceso == 0) : ?>
                                                                            <i id="flag_reprocess_dcmpi<?= $filasiddcmpi ?>"><img class="get_reprocess_dcmpi check_isfijor" id="<?= $filasiddcmpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                            <i id="flag_normal_dcmpi<?= $filasiddcmpi ?>" style="display:none"><img class="get_normal_dcmpi check_isfijo" id="<?= $filasiddcmpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_dcmpi<?= $filasiddcmpi ?>" style="display:none"><img class="get_reprocess_dcmpi check_isfijor" id="<?= $filasiddcmpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                            <i id="flag_normal_dcmpi<?= $filasiddcmpi ?>"><img class="get_normal_dcmpi check_isfijo" id="<?= $filasiddcmpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusdcmpi[]" size="10" id="status_reprocess_val_dcmpi<?= $filasiddcmpi ?>" value="<?= $dcmpi->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_dcmpi<?= $filasiddcmpi ?>" value="<?= $dcmpi->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotaldcmpi-<?= $filasiddcmpi ?>" name="tdsubtotaldcmpi[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotaldcmpi[]" value="<?= $dcmpi->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesdcmpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $dcmpi->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosdcmpi[]" value="<?= $dcmpi->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosdcmpi[]" value="<?= $dcmpi->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $dcmpi->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($dcmpiso == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="dcmpi_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtndcmpi btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO PERIMETRAL</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinaldcmpe"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finaldcmpe" name="finaldcmpe" readonly>
                                                                <td style="background-color: #91DDD9;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotabladcmpe">
                                                            <?php
                                                            $filasiddcmpe = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($dcmperimetral as $dcmpe) {
                                                                $filasiddcmpe++;
                                                                $consec++;
                                                                if($dcmpe->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $dcmpe->id_nuevo ?>" class="dcmpe_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($dcmpe->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $dcmpe->id_nuevo ?>"><input type="hidden" name="idnuevodcmpe[]" size="5" value="<?= $dcmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpe_[]" id="color_values_<?= $dcmpe->id_nuevo ?>" value="<?= $dcmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpe->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $dcmpe->id_nuevo ?>"><input type="hidden" name="idnuevodcmpe[]" size="5" value="<?= $dcmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpe_[]" id="color_values_<?= $dcmpe->id_nuevo ?>" value="<?= $dcmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpe->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $dcmpe->id_nuevo ?>"><input type="hidden" name="idnuevodcmpe[]" size="5" value="<?= $dcmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpe_[]" id="color_values_<?= $dcmpe->id_nuevo ?>" value="<?= $dcmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpe->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $dcmpe->id_nuevo ?>"><input type="hidden" name="idnuevodcmpe[]" size="5" value="<?= $dcmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpe_[]" id="color_values_<?= $dcmpe->id_nuevo ?>" value="<?= $dcmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpe->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $dcmpe->id_nuevo ?>"><input type="hidden" name="idnuevodcmpe[]" size="5" value="<?= $dcmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpe_[]" id="color_values_<?= $dcmpe->id_nuevo ?>" value="<?= $dcmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpe->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $dcmpe->id_nuevo ?>"><input type="hidden" name="idnuevodcmpe[]" size="5" value="<?= $dcmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpe_[]" id="color_values_<?= $dcmpe->id_nuevo ?>" value="<?= $dcmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($dcmpe->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $dcmpe->id_nuevo ?>"><input type="hidden" name="idnuevodcmpe[]" size="5" value="<?= $dcmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $dcmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $dcmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $dcmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $dcmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_dcmpe_[]" id="color_values_<?= $dcmpe->id_nuevo ?>" value="<?= $dcmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $dcmpe->id_nuevo ?>"><input type="hidden" name="idnuevodcmpe[]" size="5" value="<?= $dcmpe->id_nuevo ?>">
                                                                    <input type="hidden" name="color_dcmpe_[]" id="color_values_<?= $dcmpe->id_nuevo ?>" value="<?= $dcmpe->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_dcmpe[]" value="<?= $dcmpe->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $dcmpe->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $dcmpe->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $dcmpe->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $dcmpe->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $dcmpe->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $dcmpe->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $dcmpe->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="iddcmpe[]" size="5" value="<?= $dcmpe->id ?>"><?= $consec ?>.- <?= $dcmpe->nombre ?><input type="hidden" name="nombredcmpe[]" value="<?= $dcmpe->nombre ?>">
                                                                        <?php if ($dcmpe->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="dcmpeincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="dcmpeincluye[]" id="" cols="50" rows="7"><?= $dcmpe->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $dcmpe->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasiddcmpe ?>" class="getrowiddcmpe" style="cursor:pointer"></i>
                                                                        <i id="recalc_dcmpe_<?= $filasiddcmpe ?>" class="getrowiddcmpe2" style="cursor:pointer"></i>
                                                                        <?php if ($dcmpe->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezadcmpe-<?= $filasiddcmpe ?>" name="piezadcmpe[]" oninput="Calcdcmpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezadcmpe-<?= $filasiddcmpe ?>" name="piezadcmpe[]" oninput="Calcdcmpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $dcmpe->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $dcmpe->unidad ?><input type="hidden" name="unidaddcmpe[]" value="<?= $dcmpe->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="preciodcmpe-<?= $filasiddcmpe ?>" name="preciodcmpe[]" oninput="Calcdcmpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $dcmpe->precio ?>">
                                                                        <?php if ($dcmpe->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_dcmpe<?= $filasiddcmpe ?>"><img class="get_reprocess_dcmpe check_isfijor" id="<?= $filasiddcmpe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_dcmpe<?= $filasiddcmpe ?>" style="display:none"><img class="get_normal_dcmpe check_isfijo" id="<?= $filasiddcmpe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_dcmpe<?= $filasiddcmpe ?>" style="display:none"><img class="get_reprocess_dcmpe check_isfijor" id="<?= $filasiddcmpe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                            <i id="flag_normal_dcmpe<?= $filasiddcmpe ?>"><img class="get_normal_dcmpe check_isfijo" id="<?= $filasiddcmpe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusdcmpe[]" size="10" id="status_reprocess_val_dcmpe<?= $filasiddcmpe ?>" value="<?= $dcmpe->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_dcmpe<?= $filasiddcmpe ?>" value="<?= $dcmpe->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotaldcmpe-<?= $filasiddcmpe ?>" name="tdsubtotaldcmpe[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotaldcmpe[]" value="<?= $dcmpe->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesdcmpe[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $dcmpe->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosdcmpe[]" value="<?= $dcmpe->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosdcmpe[]" value="<?= $dcmpe->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $dcmpe->id_nuevo ?>"></i></td>
                                                                    <th></th>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($dcmperimetral == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="dcmpe_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtndcmpe btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!--*********************** 3. Mujer Hombre JR **********************-->


                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">3. MUJER HOMBRE JR</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO DE PISO</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalmhjmpi"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalmhjmpi" name="finalmhjmpi" readonly>
                                                                <td style="background-color: #7F521C;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablamhjmpi">
                                                            <?php
                                                            $filasidmhjmpi = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($mhjmpiso as $mhjmpi) {
                                                                $filasidmhjmpi++;
                                                                $consec++;
                                                                if($mhjmpi->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $mhjmpi->id_nuevo ?>" class="mhjmpi_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($mhjmpi->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $mhjmpi->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpi[]" size="5" value="<?= $mhjmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpi_[]" id="color_values_<?= $mhjmpi->id_nuevo ?>" value="<?= $mhjmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpi->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $mhjmpi->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpi[]" size="5" value="<?= $mhjmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpi_[]" id="color_values_<?= $mhjmpi->id_nuevo ?>" value="<?= $mhjmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpi->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $mhjmpi->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpi[]" size="5" value="<?= $mhjmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpi_[]" id="color_values_<?= $mhjmpi->id_nuevo ?>" value="<?= $mhjmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpi->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $mhjmpi->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpi[]" size="5" value="<?= $mhjmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpi_[]" id="color_values_<?= $mhjmpi->id_nuevo ?>" value="<?= $mhjmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpi->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $mhjmpi->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpi[]" size="5" value="<?= $mhjmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpi_[]" id="color_values_<?= $mhjmpi->id_nuevo ?>" value="<?= $mhjmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpi->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $mhjmpi->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpi[]" size="5" value="<?= $mhjmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpi_[]" id="color_values_<?= $mhjmpi->id_nuevo ?>" value="<?= $mhjmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpi->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $mhjmpi->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpi[]" size="5" value="<?= $mhjmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpi_[]" id="color_values_<?= $mhjmpi->id_nuevo ?>" value="<?= $mhjmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $mhjmpi->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpi[]" size="5" value="<?= $mhjmpi->id_nuevo ?>">
                                                                    <input type="hidden" name="color_mhjmpi_[]" id="color_values_<?= $mhjmpi->id_nuevo ?>" value="<?= $mhjmpi->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_mhjmpi[]" value="<?= $mhjmpi->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $mhjmpi->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $mhjmpi->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $mhjmpi->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $mhjmpi->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $mhjmpi->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $mhjmpi->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $mhjmpi->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idmhjmpi[]" size="5" value="<?= $mhjmpi->id ?>"><?= $consec ?>.- <?= $mhjmpi->nombre ?><input type="hidden" name="nombremhjmpi[]" value="<?= $mhjmpi->nombre ?>">
                                                                        <?php if ($mhjmpi->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="mhjmpiincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="mhjmpiincluye[]" id="" cols="50" rows="7"><?= $mhjmpi->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $mhjmpi->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidmhjmpi ?>" class="getrowidmhjmpi" style="cursor:pointer"></i>
                                                                        <i id="recalc_mhjmpi_<?= $filasidmhjmpi ?>" class="getrowidmhjmpi2" style="cursor:pointer"></i>
                                                                        <?php if ($mhjmpi->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezamhjmpi-<?= $filasidmhjmpi ?>" name="piezamhjmpi[]" oninput="Calcmhjmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezamhjmpi-<?= $filasidmhjmpi ?>" name="piezamhjmpi[]" oninput="Calcmhjmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $mhjmpi->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $mhjmpi->unidad ?><input type="hidden" name="unidadmhjmpi[]" value="<?= $mhjmpi->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="preciomhjmpi-<?= $filasidmhjmpi ?>" name="preciomhjmpi[]" oninput="Calcmhjmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $mhjmpi->precio ?>">
                                                                        <?php if ($mhjmpi->statusreproceso == 0) : ?>
                                                                            <i id="flag_reprocess_mhjmpi<?= $filasidmhjmpi ?>"><img class="get_reprocess_mhjmpi check_isfijor" id="<?= $filasidmhjmpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                            <i id="flag_normal_mhjmpi<?= $filasidmhjmpi ?>" style="display:none"><img class="get_normal_mhjmpi check_isfijo" id="<?= $filasidmhjmpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_mhjmpi<?= $filasidmhjmpi ?>" style="display:none"><img class="get_reprocess_mhjmpi check_isfijor" id="<?= $filasidmhjmpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                            <i id="flag_normal_mhjmpi<?= $filasidmhjmpi ?>"><img class="get_normal_mhjmpi check_isfijo" id="<?= $filasidmhjmpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusmhjmpi[]" size="10" id="status_reprocess_val_mhjmpi<?= $filasidmhjmpi ?>" value="<?= $mhjmpi->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_mhjmpi<?= $filasidmhjmpi ?>" value="<?= $mhjmpi->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalmhjmpi-<?= $filasidmhjmpi ?>" name="tdsubtotalmhjmpi[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalmhjmpi[]" value="<?= $mhjmpi->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesmhjmpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $mhjmpi->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosmhjmpi[]" value="<?= $mhjmpi->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosmhjmpi[]" value="<?= $mhjmpi->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $mhjmpi->id_nuevo ?>"></i></td>
                                                                    <th></th>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($mhjmpiso == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="mhjmpi_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnmhjmpi btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO PERIMETRAL</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalmhjmpe"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalmhjmpe" name="finalmhjmpe" readonly>
                                                                <td style="background-color: #91DDD9;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <td></td>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablamhjmpe">
                                                            <?php
                                                            $filasidmhjmpe = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($mhjmperimetral as $mhjmpe) {
                                                                $filasidmhjmpe++;
                                                                $consec++;
                                                                if($mhjmpe->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $mhjmpe->id_nuevo ?>" class="mhjmpe_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($mhjmpe->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $mhjmpe->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpe[]" size="5" value="<?= $mhjmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpe_[]" id="color_values_<?= $mhjmpe->id_nuevo ?>" value="<?= $mhjmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpe->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $mhjmpe->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpe[]" size="5" value="<?= $mhjmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpe_[]" id="color_values_<?= $mhjmpe->id_nuevo ?>" value="<?= $mhjmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpe->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $mhjmpe->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpe[]" size="5" value="<?= $mhjmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpe_[]" id="color_values_<?= $mhjmpe->id_nuevo ?>" value="<?= $mhjmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpe->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $mhjmpe->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpe[]" size="5" value="<?= $mhjmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpe_[]" id="color_values_<?= $mhjmpe->id_nuevo ?>" value="<?= $mhjmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpe->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $mhjmpe->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpe[]" size="5" value="<?= $mhjmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpe_[]" id="color_values_<?= $mhjmpe->id_nuevo ?>" value="<?= $mhjmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpe->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $mhjmpe->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpe[]" size="5" value="<?= $mhjmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpe_[]" id="color_values_<?= $mhjmpe->id_nuevo ?>" value="<?= $mhjmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpe->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $mhjmpe->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpe[]" size="5" value="<?= $mhjmpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpe_[]" id="color_values_<?= $mhjmpe->id_nuevo ?>" value="<?= $mhjmpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $mhjmpe->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpe[]" size="5" value="<?= $mhjmpe->id_nuevo ?>">
                                                                    <input type="hidden" name="color_mhjmpe_[]" id="color_values_<?= $mhjmpe->id_nuevo ?>" value="<?= $mhjmpe->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_mhjmpe[]" value="<?= $mhjmpe->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $mhjmpe->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $mhjmpe->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $mhjmpe->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $mhjmpe->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $mhjmpe->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $mhjmpe->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $mhjmpe->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idmhjmpe[]" size="5" value="<?= $mhjmpe->id ?>"><?= $consec ?>.- <?= $mhjmpe->nombre ?><input type="hidden" name="nombremhjmpe[]" value="<?= $mhjmpe->nombre ?>">
                                                                        <?php if ($mhjmpe->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="mhjmpeincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="mhjmpeincluye[]" id="" cols="50" rows="7"><?= $mhjmpe->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $mhjmpe->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidmhjmpe ?>" class="getrowidmhjmpe" style="cursor:pointer"></i>
                                                                        <i id="recalc_mhjmpe_<?= $filasidmhjmpe ?>" class="getrowidmhjmpe2" style="cursor:pointer"></i>
                                                                        <?php if ($mhjmpe->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezamhjmpe-<?= $filasidmhjmpe ?>" name="piezamhjmpe[]" oninput="Calcmhjmpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezamhjmpe-<?= $filasidmhjmpe ?>" name="piezamhjmpe[]" oninput="Calcmhjmpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $mhjmpe->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $mhjmpe->unidad ?><input type="hidden" name="unidadmhjmpe[]" value="<?= $mhjmpe->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="preciomhjmpe-<?= $filasidmhjmpe ?>" name="preciomhjmpe[]" oninput="Calcmhjmpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $mhjmpe->precio ?>">
                                                                        <?php if ($mhjmpe->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_mhjmpe<?= $filasidmhjmpe ?>"><img class="get_reprocess_mhjmpe check_isfijor" id="<?= $filasidmhjmpe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_mhjmpe<?= $filasidmhjmpe ?>" style="display:none"><img class="get_normal_mhjmpe check_isfijo" id="<?= $filasidmhjmpe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_mhjmpe<?= $filasidmhjmpe ?>" style="display:none"><img class="get_reprocess_mhjmpe check_isfijor" id="<?= $filasidmhjmpe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_mhjmpe<?= $filasidmhjmpe ?>"><img class="get_normal_mhjmpe check_isfijo" id="<?= $filasidmhjmpe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusmhjmpe[]" size="10" id="status_reprocess_val_mhjmpe<?= $filasidmhjmpe ?>" value="<?= $mhjmpe->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_mhjmpe<?= $filasidmhjmpe ?>" value="<?= $mhjmpe->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalmhjmpe-<?= $filasidmhjmpe ?>" name="tdsubtotalmhjmpe[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalmhjmpe[]" value="<?= $mhjmpe->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesmhjmpe[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $mhjmpe->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosmhjmpe[]" value="<?= $mhjmpe->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosmhjmpe[]" value="<?= $mhjmpe->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $mhjmpe->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($mhjmperimetral == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="mhjmpe_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnmhjmpe btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO PERIMETRO JEANS</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalmhjmpje"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalmhjmpje" name="finalmhjmpje" readonly>
                                                                <td style="background-color: #91DDD9;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablamhjmpje">
                                                            <?php
                                                            $filasidmhjmpje = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($mhjmpjeans as $mhjmpje) {
                                                                $filasidmhjmpje++;
                                                                $consec++;
                                                                if($mhjmpje->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $mhjmpje->id_nuevo ?>" class="mhjmpje_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($mhjmpje->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $mhjmpje->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpje[]" size="5" value="<?= $mhjmpje->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpje->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpje_[]" id="color_values_<?= $mhjmpje->id_nuevo ?>" value="<?= $mhjmpje->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpje->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $mhjmpje->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpje[]" size="5" value="<?= $mhjmpje->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpje->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpje_[]" id="color_values_<?= $mhjmpje->id_nuevo ?>" value="<?= $mhjmpje->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpje->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $mhjmpje->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpje[]" size="5" value="<?= $mhjmpje->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpje->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpje_[]" id="color_values_<?= $mhjmpje->id_nuevo ?>" value="<?= $mhjmpje->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpje->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $mhjmpje->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpje[]" size="5" value="<?= $mhjmpje->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpje->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpje_[]" id="color_values_<?= $mhjmpje->id_nuevo ?>" value="<?= $mhjmpje->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpje->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $mhjmpje->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpje[]" size="5" value="<?= $mhjmpje->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpje->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpje_[]" id="color_values_<?= $mhjmpje->id_nuevo ?>" value="<?= $mhjmpje->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpje->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $mhjmpje->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpje[]" size="5" value="<?= $mhjmpje->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpje->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpje_[]" id="color_values_<?= $mhjmpje->id_nuevo ?>" value="<?= $mhjmpje->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpje->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $mhjmpje->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpje[]" size="5" value="<?= $mhjmpje->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpje->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpje->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpje->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpje->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpje_[]" id="color_values_<?= $mhjmpje->id_nuevo ?>" value="<?= $mhjmpje->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $mhjmpje->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpje[]" size="5" value="<?= $mhjmpje->id_nuevo ?>">
                                                                    <input type="hidden" name="color_mhjmpje_[]" id="color_values_<?= $mhjmpje->id_nuevo ?>" value="<?= $mhjmpje->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_mhjmpje[]" value="<?= $mhjmpje->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $mhjmpje->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $mhjmpje->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $mhjmpje->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $mhjmpje->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $mhjmpje->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $mhjmpje->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $mhjmpje->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idmhjmpje[]" size="5" value="<?= $mhjmpje->id ?>"><?= $consec ?>.- <?= $mhjmpje->nombre ?><input type="hidden" name="nombremhjmpje[]" value="<?= $mhjmpje->nombre ?>">
                                                                        <?php if ($mhjmpje->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="mhjmpjeincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="mhjmpjeincluye[]" id="" cols="50" rows="7"><?= $mhjmpje->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $mhjmpje->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidmhjmpje ?>" class="getrowidmhjmpje" style="cursor:pointer"></i>
                                                                        <i id="recalc_mhjmpje_<?= $filasidmhjmpje ?>" class="getrowidmhjmpje2" style="cursor:pointer"></i>
                                                                        <?php if ($mhjmpje->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezamhjmpje-<?= $filasidmhjmpje ?>" name="piezamhjmpje[]" oninput="Calcmhjmpje(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezamhjmpje-<?= $filasidmhjmpje ?>" name="piezamhjmpje[]" oninput="Calcmhjmpje(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $mhjmpje->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $mhjmpje->unidad ?><input type="hidden" name="unidadmhjmpje[]" value="<?= $mhjmpje->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="preciomhjmpje-<?= $filasidmhjmpje ?>" name="preciomhjmpje[]" oninput="Calcmhjmpje(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $mhjmpje->precio ?>">
                                                                        <?php if ($mhjmpje->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_mhjmpje<?= $filasidmhjmpje ?>"><img class="get_reprocess_mhjmpje check_isfijor" id="<?= $filasidmhjmpje ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_mhjmpje<?= $filasidmhjmpje ?>" style="display:none"><img class="get_normal_mhjmpje check_isfijo" id="<?= $filasidmhjmpje ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_mhjmpje<?= $filasidmhjmpje ?>" style="display:none"><img class="get_reprocess_mhjmpje check_isfijor" id="<?= $filasidmhjmpje ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_mhjmpje<?= $filasidmhjmpje ?>"><img class="get_normal_mhjmpje check_isfijo" id="<?= $filasidmhjmpje ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusmhjmpje[]" size="10" id="status_reprocess_val_mhjmpje<?= $filasidmhjmpje ?>" value="<?= $mhjmpje->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_mhjmpje<?= $filasidmhjmpje ?>" value="<?= $mhjmpje->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalmhjmpje-<?= $filasidmhjmpje ?>" name="tdsubtotalmhjmpje[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalmhjmpje[]" value="<?= $mhjmpje->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesmhjmpje[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $mhjmpje->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosmhjmpje[]" value="<?= $mhjmpje->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosmhjmpje[]" value="<?= $mhjmpje->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $mhjmpje->id_nuevo ?>"></i></td>
                                                                    <th></th>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($mhjmpjeans == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="mhjmpje_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnmhjmpje btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO PERIMETRO LICENCIAS</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalmhjmpli"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalmhjmpli" name="finalmhjmpli" readonly>
                                                                <td style="background-color: #91DDD9;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablamhjmpli">
                                                            <?php
                                                            $filasidmhjmpli = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($mhjmplicencias as $mhjmpli) {
                                                                $filasidmhjmpli++;
                                                                $consec++;
                                                                if($mhjmpli->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $mhjmpli->id_nuevo ?>" class="mhjmpli_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($mhjmpli->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $mhjmpli->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpli[]" size="5" value="<?= $mhjmpli->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpli->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpli_[]" id="color_values_<?= $mhjmpli->id_nuevo ?>" value="<?= $mhjmpli->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpli->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $mhjmpli->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpli[]" size="5" value="<?= $mhjmpli->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpli->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpli_[]" id="color_values_<?= $mhjmpli->id_nuevo ?>" value="<?= $mhjmpli->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpli->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $mhjmpli->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpli[]" size="5" value="<?= $mhjmpli->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpli->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpli_[]" id="color_values_<?= $mhjmpli->id_nuevo ?>" value="<?= $mhjmpli->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpli->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $mhjmpli->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpli[]" size="5" value="<?= $mhjmpli->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpli->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpli_[]" id="color_values_<?= $mhjmpli->id_nuevo ?>" value="<?= $mhjmpli->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpli->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $mhjmpli->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpli[]" size="5" value="<?= $mhjmpli->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpli->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpli_[]" id="color_values_<?= $mhjmpli->id_nuevo ?>" value="<?= $mhjmpli->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpli->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $mhjmpli->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpli[]" size="5" value="<?= $mhjmpli->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpli->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpli_[]" id="color_values_<?= $mhjmpli->id_nuevo ?>" value="<?= $mhjmpli->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($mhjmpli->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $mhjmpli->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpli[]" size="5" value="<?= $mhjmpli->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $mhjmpli->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $mhjmpli->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $mhjmpli->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $mhjmpli->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_mhjmpli_[]" id="color_values_<?= $mhjmpli->id_nuevo ?>" value="<?= $mhjmpli->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $mhjmpli->id_nuevo ?>"><input type="hidden" name="idnuevomhjmpli[]" size="5" value="<?= $mhjmpli->id_nuevo ?>">
                                                                    <input type="hidden" name="color_mhjmpli_[]" id="color_values_<?= $mhjmpli->id_nuevo ?>" value="<?= $mhjmpli->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_mhjmpli[]" value="<?= $mhjmpli->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $mhjmpli->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $mhjmpli->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $mhjmpli->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $mhjmpli->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $mhjmpli->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $mhjmpli->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $mhjmpli->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idmhjmpli[]" size="5" value="<?= $mhjmpli->id ?>"><?= $consec ?>.- <?= $mhjmpli->nombre ?><input type="hidden" name="nombremhjmpli[]" value="<?= $mhjmpli->nombre ?>">
                                                                        <?php if ($mhjmpli->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="mhjmpliincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="mhjmpliincluye[]" id="" cols="50" rows="7"><?= $mhjmpli->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $mhjmpli->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidmhjmpli ?>" class="getrowidmhjmpli" style="cursor:pointer"></i>
                                                                        <i id="recalc_mhjmpli_<?= $filasidmhjmpli ?>" class="getrowidmhjmpli2" style="cursor:pointer"></i>
                                                                        <?php if ($mhjmpli->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezamhjmpli-<?= $filasidmhjmpli ?>" name="piezamhjmpli[]" oninput="Calcmhjmpli(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezamhjmpli-<?= $filasidmhjmpli ?>" name="piezamhjmpli[]" oninput="Calcmhjmpli(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $mhjmpli->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $mhjmpli->unidad ?><input type="hidden" name="unidadmhjmpli[]" value="<?= $mhjmpli->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="preciomhjmpli-<?= $filasidmhjmpli ?>" name="preciomhjmpli[]" oninput="Calcmhjmpli(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $mhjmpli->precio ?>">
                                                                        <?php if ($mhjmpli->statusreproceso == 0) : ?>
                                                                            <i id="flag_reprocess_mhjmpli<?= $filasidmhjmpli ?>"><img class="get_reprocess_mhjmpli check_isfijor" id="<?= $filasidmhjmpli ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_mhjmpli<?= $filasidmhjmpli ?>" style="display:none"><img class="get_normal_mhjmpli check_isfijo" id="<?= $filasidmhjmpli ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_mhjmpli<?= $filasidmhjmpli ?>" style="display:none"><img class="get_reprocess_mhjmpli check_isfijor" id="<?= $filasidmhjmpli ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_mhjmpli<?= $filasidmhjmpli ?>"><img class="get_normal_mhjmpli check_isfijo" id="<?= $filasidmhjmpli ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusmhjmpli[]" size="10" id="status_reprocess_val_mhjmpli<?= $filasidmhjmpli ?>" value="<?= $mhjmpli->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_mhjmpli<?= $filasidmhjmpli ?>" value="<?= $mhjmpli->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalmhjmpli-<?= $filasidmhjmpli ?>" name="tdsubtotalmhjmpli[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalmhjmpli[]" value="<?= $mhjmpli->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesmhjmpli[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $mhjmpli->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosmhjmpli[]" value="<?= $mhjmpli->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosmhjmpli[]" value="<?= $mhjmpli->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $mhjmpli->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($mhjmplicencias == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="mhjmpli_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnmhjmpli btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!--*********************** 4. Interior Mujer **********************-->


                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">4. INTERIOR MUJER</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO DE PISO</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalimpi"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalimpi" name="finalimpi" readonly>
                                                                <td style="background-color: #7F521C;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablaimpi">
                                                            <?php
                                                            $filasidimpi = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($impiso as $impi) {
                                                                $filasidimpi++;
                                                                $consec++;
                                                                if($impi->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $impi->id_nuevo ?>" class="impi_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($impi->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $impi->id_nuevo ?>"><input type="hidden" name="idnuevoimpi[]" size="5" value="<?= $impi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impi_[]" id="color_values_<?= $impi->id_nuevo ?>" value="<?= $impi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impi->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $impi->id_nuevo ?>"><input type="hidden" name="idnuevoimpi[]" size="5" value="<?= $impi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impi_[]" id="color_values_<?= $impi->id_nuevo ?>" value="<?= $impi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impi->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $impi->id_nuevo ?>"><input type="hidden" name="idnuevoimpi[]" size="5" value="<?= $impi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impi_[]" id="color_values_<?= $impi->id_nuevo ?>" value="<?= $impi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impi->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $impi->id_nuevo ?>"><input type="hidden" name="idnuevoimpi[]" size="5" value="<?= $impi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impi_[]" id="color_values_<?= $impi->id_nuevo ?>" value="<?= $impi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impi->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $impi->id_nuevo ?>"><input type="hidden" name="idnuevoimpi[]" size="5" value="<?= $impi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impi_[]" id="color_values_<?= $impi->id_nuevo ?>" value="<?= $impi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impi->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $impi->id_nuevo ?>"><input type="hidden" name="idnuevoimpi[]" size="5" value="<?= $impi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impi_[]" id="color_values_<?= $impi->id_nuevo ?>" value="<?= $impi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impi->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $impi->id_nuevo ?>"><input type="hidden" name="idnuevoimpi[]" size="5" value="<?= $impi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impi_[]" id="color_values_<?= $impi->id_nuevo ?>" value="<?= $impi->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $impi->id_nuevo ?>"><input type="hidden" name="idnuevoimpi[]" size="5" value="<?= $impi->id_nuevo ?>">
                                                                    <input type="hidden" name="color_impi_[]" id="color_values_<?= $impi->id_nuevo ?>" value="<?= $impi->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_impi[]" value="<?= $impi->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $impi->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $impi->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $impi->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $impi->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $impi->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $impi->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $impi->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idimpi[]" size="5" value="<?= $impi->id ?>"><?= $consec ?>.- <?= $impi->nombre ?><input type="hidden" name="nombreimpi[]" value="<?= $impi->nombre ?>">
                                                                        <?php if ($impi->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="impiincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="impiincluye[]" id="" cols="50" rows="7"><?= $impi->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $impi->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidimpi ?>" class="getrowidimpi" style="cursor:pointer"></i>
                                                                        <i id="recalc_impi_<?= $filasidimpi ?>" class="getrowidimpi2" style="cursor:pointer"></i>
                                                                        <?php if ($impi->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaimpi-<?= $filasidimpi ?>" name="piezaimpi[]" oninput="Calcimpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaimpi-<?= $filasidimpi ?>" name="piezaimpi[]" oninput="Calcimpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $impi->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $impi->unidad ?><input type="hidden" name="unidadimpi[]" value="<?= $impi->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioimpi-<?= $filasidimpi ?>" name="precioimpi[]" oninput="Calcimpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $impi->precio ?>">
                                                                        <?php if ($impi->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_impi<?= $filasidimpi ?>"><img class="get_reprocess_impi check_isfijor" id="<?= $filasidimpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_impi<?= $filasidimpi ?>" style="display:none"><img class="get_normal_impi check_isfijo" id="<?= $filasidimpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_impi<?= $filasidimpi ?>" style="display:none"><img class="get_reprocess_impi check_isfijor" id="<?= $filasidimpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_impi<?= $filasidimpi ?>"><img class="get_normal_impi check_isfijo" id="<?= $filasidimpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusimpi[]" size="10" id="status_reprocess_val_impi<?= $filasidimpi ?>" value="<?= $impi->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_impi<?= $filasidimpi ?>" value="<?= $impi->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalimpi-<?= $filasidimpi ?>" name="tdsubtotalimpi[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalimpi[]" value="<?= $impi->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesimpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $impi->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosimpi[]" value="<?= $impi->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosimpi[]" value="<?= $impi->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $impi->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($impiso == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="impi_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnimpi btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO PERIMETRAL</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalimpe"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalimpe" name="finalimpe" readonly>
                                                                <td style="background-color: #91DDD9;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablaimpe">
                                                            <?php
                                                            $filasidimpe = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($imperimetral as $impe) {
                                                                $filasidimpe++;
                                                                $consec++;
                                                                if($impe->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $impe->id_nuevo ?>" class="impe_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($impe->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $impe->id_nuevo ?>"><input type="hidden" name="idnuevoimpe[]" size="5" value="<?= $impe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impe_[]" id="color_values_<?= $impe->id_nuevo ?>" value="<?= $impe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impe->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $impe->id_nuevo ?>"><input type="hidden" name="idnuevoimpe[]" size="5" value="<?= $impe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impe_[]" id="color_values_<?= $impe->id_nuevo ?>" value="<?= $impe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impe->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $impe->id_nuevo ?>"><input type="hidden" name="idnuevoimpe[]" size="5" value="<?= $impe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impe_[]" id="color_values_<?= $impe->id_nuevo ?>" value="<?= $impe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impe->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $impe->id_nuevo ?>"><input type="hidden" name="idnuevoimpe[]" size="5" value="<?= $impe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impe_[]" id="color_values_<?= $impe->id_nuevo ?>" value="<?= $impe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impe->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $impe->id_nuevo ?>"><input type="hidden" name="idnuevoimpe[]" size="5" value="<?= $impe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impe_[]" id="color_values_<?= $impe->id_nuevo ?>" value="<?= $impe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impe->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $impe->id_nuevo ?>"><input type="hidden" name="idnuevoimpe[]" size="5" value="<?= $impe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impe_[]" id="color_values_<?= $impe->id_nuevo ?>" value="<?= $impe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($impe->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $impe->id_nuevo ?>"><input type="hidden" name="idnuevoimpe[]" size="5" value="<?= $impe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $impe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $impe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $impe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $impe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_impe_[]" id="color_values_<?= $impe->id_nuevo ?>" value="<?= $impe->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $impe->id_nuevo ?>"><input type="hidden" name="idnuevoimpe[]" size="5" value="<?= $impe->id_nuevo ?>">
                                                                    <input type="hidden" name="color_impe_[]" id="color_values_<?= $impe->id_nuevo ?>" value="<?= $impe->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_impe[]" value="<?= $impe->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $impe->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $impe->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $impe->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $impe->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $impe->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $impe->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $impe->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idimpe[]" size="5" value="<?= $impe->id ?>"><?= $consec ?>.- <?= $impe->nombre ?><input type="hidden" name="nombreimpe[]" value="<?= $impe->nombre ?>">
                                                                        <?php if ($impe->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="impeincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="impeincluye[]" id="" cols="50" rows="7"><?= $impe->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $impe->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidimpe ?>" class="getrowidimpe" style="cursor:pointer"></i>
                                                                        <i id="recalc_impe_<?= $filasidimpe ?>" class="getrowidimpe2" style="cursor:pointer"></i>
                                                                        <?php if ($impe->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaimpe-<?= $filasidimpe ?>" name="piezaimpe[]" oninput="Calcimpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaimpe-<?= $filasidimpe ?>" name="piezaimpe[]" oninput="Calcimpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $impe->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $impe->unidad ?><input type="hidden" name="unidadimpe[]" value="<?= $impe->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioimpe-<?= $filasidimpe ?>" name="precioimpe[]" oninput="Calcimpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $impe->precio ?>">
                                                                        <?php if ($impe->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_impe<?= $filasidimpe ?>"><img class="get_reprocess_impe check_isfijor" id="<?= $filasidimpe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_impe<?= $filasidimpe ?>" style="display:none"><img class="get_normal_impe check_isfijo" id="<?= $filasidimpe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_impe<?= $filasidimpe ?>" style="display:none"><img class="get_reprocess_impe check_isfijor" id="<?= $filasidimpe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_impe<?= $filasidimpe ?>"><img class="get_normal_impe check_isfijo" id="<?= $filasidimpe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusimpe[]" size="10" id="status_reprocess_val_impe<?= $filasidimpe ?>" value="<?= $impe->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_impe<?= $filasidimpe ?>" value="<?= $impe->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalimpe-<?= $filasidimpe ?>" name="tdsubtotalimpe[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalimpe[]" value="<?= $impe->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesimpe[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $impe->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosimpe[]" value="<?= $impe->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosimpe[]" value="<?= $impe->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $impe->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($imperimetral == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="impe_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnimpe btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">HERRAJE</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalimhe"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalimhe" name="finalimhe" readonly>
                                                                <td style="background-color: #91DDD9;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablaimhe">
                                                            <?php
                                                            $filasidimhe = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($imherraje as $imhe) {
                                                                $filasidimhe++;
                                                                $consec++;
                                                                if($imhe->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $imhe->id_nuevo ?>" class="imhe_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($imhe->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $imhe->id_nuevo ?>"><input type="hidden" name="idnuevoimhe[]" size="5" value="<?= $imhe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imhe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imhe_[]" id="color_values_<?= $imhe->id_nuevo ?>" value="<?= $imhe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imhe->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $imhe->id_nuevo ?>"><input type="hidden" name="idnuevoimhe[]" size="5" value="<?= $imhe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imhe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imhe_[]" id="color_values_<?= $imhe->id_nuevo ?>" value="<?= $imhe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imhe->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $imhe->id_nuevo ?>"><input type="hidden" name="idnuevoimhe[]" size="5" value="<?= $imhe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imhe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imhe_[]" id="color_values_<?= $imhe->id_nuevo ?>" value="<?= $imhe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imhe->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $imhe->id_nuevo ?>"><input type="hidden" name="idnuevoimhe[]" size="5" value="<?= $imhe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imhe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imhe_[]" id="color_values_<?= $imhe->id_nuevo ?>" value="<?= $imhe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imhe->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $imhe->id_nuevo ?>"><input type="hidden" name="idnuevoimhe[]" size="5" value="<?= $imhe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imhe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imhe_[]" id="color_values_<?= $imhe->id_nuevo ?>" value="<?= $imhe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imhe->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $imhe->id_nuevo ?>"><input type="hidden" name="idnuevoimhe[]" size="5" value="<?= $imhe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imhe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imhe_[]" id="color_values_<?= $imhe->id_nuevo ?>" value="<?= $imhe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imhe->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $imhe->id_nuevo ?>"><input type="hidden" name="idnuevoimhe[]" size="5" value="<?= $imhe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imhe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imhe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imhe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imhe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imhe_[]" id="color_values_<?= $imhe->id_nuevo ?>" value="<?= $imhe->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $imhe->id_nuevo ?>"><input type="hidden" name="idnuevoimhe[]" size="5" value="<?= $imhe->id_nuevo ?>">
                                                                    <input type="hidden" name="color_imhe_[]" id="color_values_<?= $imhe->id_nuevo ?>" value="<?= $imhe->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_imhe[]" value="<?= $imhe->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $imhe->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $imhe->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $imhe->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $imhe->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $imhe->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $imhe->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $imhe->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idimhe[]" size="5" value="<?= $imhe->id ?>"><?= $consec ?>.- <?= $imhe->nombre ?><input type="hidden" name="nombreimhe[]" value="<?= $imhe->nombre ?>">
                                                                        <?php if ($imhe->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="imheincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="imheincluye[]" id="" cols="50" rows="7"><?= $imhe->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $imhe->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidimhe ?>" class="getrowidimhe" style="cursor:pointer"></i>
                                                                        <i id="recalc_imhe_<?= $filasidimhe ?>" class="getrowidimhe2" style="cursor:pointer"></i>
                                                                        <?php if ($imhe->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaimhe-<?= $filasidimhe ?>" name="piezaimhe[]" oninput="Calcimhe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaimhe-<?= $filasidimhe ?>" name="piezaimhe[]" oninput="Calcimhe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $imhe->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $imhe->unidad ?><input type="hidden" name="unidadimhe[]" value="<?= $imhe->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioimhe-<?= $filasidimhe ?>" name="precioimhe[]" oninput="Calcimhe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $imhe->precio ?>">
                                                                        <?php if ($imhe->statusreproceso == 0) : ?>
                                                                            <i id="flag_reprocess_imhe<?= $filasidimhe ?>"><img class="get_reprocess_imhe check_isfijor" id="<?= $filasidimhe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_imhe<?= $filasidimhe ?>" style="display:none"><img class="get_normal_imhe check_isfijo" id="<?= $filasidimhe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_imhe<?= $filasidimhe ?>" style="display:none"><img class="get_reprocess_imhe check_isfijor" id="<?= $filasidimhe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_imhe<?= $filasidimhe ?>"><img class="get_normal_imhe check_isfijo" id="<?= $filasidimhe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusimhe[]" size="10" id="status_reprocess_val_imhe<?= $filasidimhe ?>" value="<?= $imhe->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_imhe<?= $filasidimhe ?>" value="<?= $imhe->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalimhe-<?= $filasidimhe ?>" name="tdsubtotalimhe[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalimhe[]" value="<?= $imhe->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesimhe[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $imhe->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosimhe[]" value="<?= $imhe->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosimhe[]" value="<?= $imhe->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $imhe->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($imherraje == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="imhe_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnimhe btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!--***********************5. Infantil Ni√±o y Ni√±a**********************-->


                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">5. INFANTIL NI√ëO Y NI√ëA</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO DE PISO</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalinnpi"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalinnpi" name="finalinnpi" readonly>
                                                                <td style="background-color: #7F521C;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablainnpi">
                                                            <?php
                                                            $filasidinnpi = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($innpiso as $innpi) {
                                                                $filasidinnpi++;
                                                                $consec++;
                                                                if($innpi->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $innpi->id_nuevo ?>" class="innpi_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($innpi->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $innpi->id_nuevo ?>"><input type="hidden" name="idnuevoinnpi[]" size="5" value="<?= $innpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpi_[]" id="color_values_<?= $innpi->id_nuevo ?>" value="<?= $innpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpi->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $innpi->id_nuevo ?>"><input type="hidden" name="idnuevoinnpi[]" size="5" value="<?= $innpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpi_[]" id="color_values_<?= $innpi->id_nuevo ?>" value="<?= $innpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpi->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $innpi->id_nuevo ?>"><input type="hidden" name="idnuevoinnpi[]" size="5" value="<?= $innpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpi_[]" id="color_values_<?= $innpi->id_nuevo ?>" value="<?= $innpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpi->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $innpi->id_nuevo ?>"><input type="hidden" name="idnuevoinnpi[]" size="5" value="<?= $innpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpi_[]" id="color_values_<?= $innpi->id_nuevo ?>" value="<?= $innpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpi->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $innpi->id_nuevo ?>"><input type="hidden" name="idnuevoinnpi[]" size="5" value="<?= $innpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpi_[]" id="color_values_<?= $innpi->id_nuevo ?>" value="<?= $innpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpi->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $innpi->id_nuevo ?>"><input type="hidden" name="idnuevoinnpi[]" size="5" value="<?= $innpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpi_[]" id="color_values_<?= $innpi->id_nuevo ?>" value="<?= $innpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpi->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $innpi->id_nuevo ?>"><input type="hidden" name="idnuevoinnpi[]" size="5" value="<?= $innpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpi_[]" id="color_values_<?= $innpi->id_nuevo ?>" value="<?= $innpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $innpi->id_nuevo ?>"><input type="hidden" name="idnuevoinnpi[]" size="5" value="<?= $innpi->id_nuevo ?>">
                                                                    <input type="hidden" name="color_innpi_[]" id="color_values_<?= $innpi->id_nuevo ?>" value="<?= $innpi->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_innpi[]" value="<?= $innpi->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $innpi->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $innpi->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $innpi->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $innpi->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $innpi->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $innpi->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $innpi->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idinnpi[]" size="5" value="<?= $innpi->id ?>"><?= $consec ?>.- <?= $innpi->nombre ?><input type="hidden" name="nombreinnpi[]" value="<?= $innpi->nombre ?>">
                                                                        <?php if ($innpi->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="innpiincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="innpiincluye[]" id="" cols="50" rows="7"><?= $innpi->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $innpi->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidinnpi ?>" class="getrowidinnpi" style="cursor:pointer"></i>
                                                                        <i id="recalc_innpi_<?= $filasidinnpi ?>" class="getrowidinnpi2" style="cursor:pointer"></i>
                                                                        <?php if ($innpi->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezainnpi-<?= $filasidinnpi ?>" name="piezainnpi[]" oninput="Calcinnpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezainnpi-<?= $filasidinnpi ?>" name="piezainnpi[]" oninput="Calcinnpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $innpi->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $innpi->unidad ?><input type="hidden" name="unidadinnpi[]" value="<?= $innpi->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioinnpi-<?= $filasidinnpi ?>" name="precioinnpi[]" oninput="Calcinnpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $innpi->precio ?>">
                                                                        <?php if ($innpi->statusreproceso == 0) : ?>
                                                                            <i id="flag_reprocess_innpi<?= $filasidinnpi ?>"><img class="get_reprocess_innpi check_isfijor" id="<?= $filasidinnpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_innpi<?= $filasidinnpi ?>" style="display:none"><img class="get_normal_innpi check_isfijo" id="<?= $filasidinnpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_innpi<?= $filasidinnpi ?>" style="display:none"><img class="get_reprocess_innpi check_isfijor" id="<?= $filasidinnpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_innpi<?= $filasidinnpi ?>"><img class="get_normal_innpi check_isfijo" id="<?= $filasidinnpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusinnpi[]" size="10" id="status_reprocess_val_innpi<?= $filasidinnpi ?>" value="<?= $innpi->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_innpi<?= $filasidinnpi ?>" value="<?= $innpi->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalinnpi-<?= $filasidinnpi ?>" name="tdsubtotalinnpi[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalinnpi[]" value="<?= $innpi->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesinnpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $innpi->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosinnpi[]" value="<?= $innpi->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosinnpi[]" value="<?= $innpi->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $innpi->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($innpiso == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="innpi_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtninnpi btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO PERIMETRAL</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalinnpe"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalinnpe" name="finalinnpe" readonly>
                                                                <td style="background-color: #91DDD9;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablainnpe">
                                                            <?php
                                                            $filasidinnpe = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($innperimetral as $innpe) {
                                                                $filasidinnpe++;
                                                                $consec++;
                                                                if($innpe->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $innpe->id_nuevo ?>" class="innpe_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($innpe->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $innpe->id_nuevo ?>"><input type="hidden" name="idnuevoinnpe[]" size="5" value="<?= $innpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpe_[]" id="color_values_<?= $innpe->id_nuevo ?>" value="<?= $innpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpe->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $innpe->id_nuevo ?>"><input type="hidden" name="idnuevoinnpe[]" size="5" value="<?= $innpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpe_[]" id="color_values_<?= $innpe->id_nuevo ?>" value="<?= $innpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpe->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $innpe->id_nuevo ?>"><input type="hidden" name="idnuevoinnpe[]" size="5" value="<?= $innpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpe_[]" id="color_values_<?= $innpe->id_nuevo ?>" value="<?= $innpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpe->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $innpe->id_nuevo ?>"><input type="hidden" name="idnuevoinnpe[]" size="5" value="<?= $innpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpe_[]" id="color_values_<?= $innpe->id_nuevo ?>" value="<?= $innpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpe->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $innpe->id_nuevo ?>"><input type="hidden" name="idnuevoinnpe[]" size="5" value="<?= $innpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpe_[]" id="color_values_<?= $innpe->id_nuevo ?>" value="<?= $innpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpe->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $innpe->id_nuevo ?>"><input type="hidden" name="idnuevoinnpe[]" size="5" value="<?= $innpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpe_[]" id="color_values_<?= $innpe->id_nuevo ?>" value="<?= $innpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($innpe->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $innpe->id_nuevo ?>"><input type="hidden" name="idnuevoinnpe[]" size="5" value="<?= $innpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $innpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $innpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $innpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $innpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_innpe_[]" id="color_values_<?= $innpe->id_nuevo ?>" value="<?= $innpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $innpe->id_nuevo ?>"><input type="hidden" name="idnuevoinnpe[]" size="5" value="<?= $innpe->id_nuevo ?>">
                                                                    <input type="hidden" name="color_innpe_[]" id="color_values_<?= $innpe->id_nuevo ?>" value="<?= $innpe->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_innpe[]" value="<?= $innpe->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $innpe->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $innpe->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $innpe->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $innpe->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $innpe->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $innpe->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $innpe->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idinnpe[]" size="5" value="<?= $innpe->id ?>"><?= $consec ?>.- <?= $innpe->nombre ?><input type="hidden" name="nombreinnpe[]" value="<?= $innpe->nombre ?>">
                                                                        <?php if ($innpe->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="innpeincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="innpeincluye[]" id="" cols="50" rows="7"><?= $innpe->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $innpe->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidinnpe ?>" class="getrowidinnpe" style="cursor:pointer"></i>
                                                                        <i id="recalc_innpe_<?= $filasidinnpe ?>" class="getrowidinnpe2" style="cursor:pointer"></i>
                                                                        <?php if ($innpe->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezainnpe-<?= $filasidinnpe ?>" name="piezainnpe[]" oninput="Calcinnpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezainnpe-<?= $filasidinnpe ?>" name="piezainnpe[]" oninput="Calcinnpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $innpe->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $innpe->unidad ?><input type="hidden" name="unidadinnpe[]" value="<?= $innpe->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioinnpe-<?= $filasidinnpe ?>" name="precioinnpe[]" oninput="Calcinnpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $innpe->precio ?>">
                                                                        <?php if ($innpe->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_innpe<?= $filasidinnpe ?>"><img class="get_reprocess_innpe check_isfijor" id="<?= $filasidinnpe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_innpe<?= $filasidinnpe ?>" style="display:none"><img class="get_normal_innpe check_isfijo" id="<?= $filasidinnpe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_innpe<?= $filasidinnpe ?>" style="display:none"><img class="get_reprocess_innpe check_isfijor" id="<?= $filasidinnpe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_innpe<?= $filasidinnpe ?>"><img class="get_normal_innpe check_isfijo" id="<?= $filasidinnpe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusinnpe[]" size="10" id="status_reprocess_val_innpe<?= $filasidinnpe ?>" value="<?= $innpe->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_innpe<?= $filasidinnpe ?>" value="<?= $innpe->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalinnpe-<?= $filasidinnpe ?>" name="tdsubtotalinnpe[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalinnpe[]" value="<?= $innpe->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesinnpe[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $innpe->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosinnpe[]" value="<?= $innpe->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosinnpe[]" value="<?= $innpe->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $innpe->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($innperimetral == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="innpe_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtninnpe btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>



                            <!--*********************** 6. Toddler Ni√±o Ni√±a Y Bebes **********************-->


                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">6. TODDLER NI√ëO NI√ëA Y BEBES</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO DE PISO</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinaltnnbpi"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finaltnnbpi" name="finaltnnbpi" readonly>
                                                                <td style="background-color: #7F521C;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablatnnbpi">
                                                            <?php
                                                            $filasidtnnbpi = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($tnnbpiso as $tnnbpi) {
                                                                $filasidtnnbpi++;
                                                                $consec++;
                                                                if($tnnbpi->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $tnnbpi->id_nuevo ?>" class="tnnbpi_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($tnnbpi->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $tnnbpi->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpi[]" size="5" value="<?= $tnnbpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpi_[]" id="color_values_<?= $tnnbpi->id_nuevo ?>" value="<?= $tnnbpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpi->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $tnnbpi->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpi[]" size="5" value="<?= $tnnbpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpi_[]" id="color_values_<?= $tnnbpi->id_nuevo ?>" value="<?= $tnnbpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpi->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $tnnbpi->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpi[]" size="5" value="<?= $tnnbpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpi_[]" id="color_values_<?= $tnnbpi->id_nuevo ?>" value="<?= $tnnbpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpi->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $tnnbpi->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpi[]" size="5" value="<?= $tnnbpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpi_[]" id="color_values_<?= $tnnbpi->id_nuevo ?>" value="<?= $tnnbpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpi->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $tnnbpi->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpi[]" size="5" value="<?= $tnnbpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpi_[]" id="color_values_<?= $tnnbpi->id_nuevo ?>" value="<?= $tnnbpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpi->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $tnnbpi->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpi[]" size="5" value="<?= $tnnbpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpi_[]" id="color_values_<?= $tnnbpi->id_nuevo ?>" value="<?= $tnnbpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpi->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $tnnbpi->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpi[]" size="5" value="<?= $tnnbpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpi_[]" id="color_values_<?= $tnnbpi->id_nuevo ?>" value="<?= $tnnbpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $tnnbpi->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpi[]" size="5" value="<?= $tnnbpi->id_nuevo ?>">
                                                                    <input type="hidden" name="color_tnnbpi_[]" id="color_values_<?= $tnnbpi->id_nuevo ?>" value="<?= $tnnbpi->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_tnnbpi[]" value="<?= $tnnbpi->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $tnnbpi->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $tnnbpi->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $tnnbpi->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $tnnbpi->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $tnnbpi->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $tnnbpi->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $tnnbpi->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idtnnbpi[]" size="5" value="<?= $tnnbpi->id ?>"><?= $consec ?>.- <?= $tnnbpi->nombre ?><input type="hidden" name="nombretnnbpi[]" value="<?= $tnnbpi->nombre ?>">
                                                                        <?php if ($tnnbpi->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="tnnbpiincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="tnnbpiincluye[]" id="" cols="50" rows="7"><?= $tnnbpi->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $tnnbpi->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidtnnbpi ?>" class="getrowidtnnbpi" style="cursor:pointer"></i>
                                                                        <i id="recalc_tnnbpi_<?= $filasidtnnbpi ?>" class="getrowidtnnbpi2" style="cursor:pointer"></i>
                                                                        <?php if ($tnnbpi->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezatnnbpi-<?= $filasidtnnbpi ?>" name="piezatnnbpi[]" oninput="Calctnnbpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezatnnbpi-<?= $filasidtnnbpi ?>" name="piezatnnbpi[]" oninput="Calctnnbpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $tnnbpi->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $tnnbpi->unidad ?><input type="hidden" name="unidadtnnbpi[]" value="<?= $tnnbpi->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="preciotnnbpi-<?= $filasidtnnbpi ?>" name="preciotnnbpi[]" oninput="Calctnnbpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $tnnbpi->precio ?>">
                                                                        <?php if ($tnnbpi->statusreproceso == 0) : ?>
                                                                            <i id="flag_reprocess_tnnbpi<?= $filasidtnnbpi ?>"><img class="get_reprocess_tnnbpi check_isfijor" id="<?= $filasidtnnbpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_tnnbpi<?= $filasidtnnbpi ?>" style="display:none"><img class="get_normal_tnnbpi check_isfijo" id="<?= $filasidtnnbpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_tnnbpi<?= $filasidtnnbpi ?>" style="display:none"><img class="get_reprocess_tnnbpi check_isfijor" id="<?= $filasidtnnbpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_tnnbpi<?= $filasidtnnbpi ?>"><img class="get_normal_tnnbpi check_isfijo" id="<?= $filasidtnnbpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatustnnbpi[]" size="10" id="status_reprocess_val_tnnbpi<?= $filasidtnnbpi ?>" value="<?= $tnnbpi->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_tnnbpi<?= $filasidtnnbpi ?>" value="<?= $tnnbpi->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotaltnnbpi-<?= $filasidtnnbpi ?>" name="tdsubtotaltnnbpi[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotaltnnbpi[]" value="<?= $tnnbpi->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionestnnbpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $tnnbpi->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentostnnbpi[]" value="<?= $tnnbpi->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentostnnbpi[]" value="<?= $tnnbpi->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $tnnbpi->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($tnnbpiso == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="tnnbpi_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtntnnbpi btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO PERIMETRAL</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinaltnnbpe"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finaltnnbpe" name="finaltnnbpe" readonly>
                                                                <td style="background-color: #91DDD9;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablatnnbpe">
                                                            <?php
                                                            $filasidtnnbpe = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($tnnbperimetral as $tnnbpe) {
                                                                $filasidtnnbpe++;
                                                                $consec++;
                                                                if($tnnbpe->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $tnnbpe->id_nuevo ?>" class="tnnbpe_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($tnnbpe->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $tnnbpe->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpe[]" size="5" value="<?= $tnnbpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpe_[]" id="color_values_<?= $tnnbpe->id_nuevo ?>" value="<?= $tnnbpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpe->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $tnnbpe->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpe[]" size="5" value="<?= $tnnbpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpe_[]" id="color_values_<?= $tnnbpe->id_nuevo ?>" value="<?= $tnnbpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpe->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $tnnbpe->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpe[]" size="5" value="<?= $tnnbpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpe_[]" id="color_values_<?= $tnnbpe->id_nuevo ?>" value="<?= $tnnbpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpe->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $tnnbpe->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpe[]" size="5" value="<?= $tnnbpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpe_[]" id="color_values_<?= $tnnbpe->id_nuevo ?>" value="<?= $tnnbpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpe->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $tnnbpe->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpe[]" size="5" value="<?= $tnnbpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpe_[]" id="color_values_<?= $tnnbpe->id_nuevo ?>" value="<?= $tnnbpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpe->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $tnnbpe->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpe[]" size="5" value="<?= $tnnbpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpe_[]" id="color_values_<?= $tnnbpe->id_nuevo ?>" value="<?= $tnnbpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($tnnbpe->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $tnnbpe->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpe[]" size="5" value="<?= $tnnbpe->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $tnnbpe->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $tnnbpe->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $tnnbpe->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $tnnbpe->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_tnnbpe_[]" id="color_values_<?= $tnnbpe->id_nuevo ?>" value="<?= $tnnbpe->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $tnnbpe->id_nuevo ?>"><input type="hidden" name="idnuevotnnbpe[]" size="5" value="<?= $tnnbpe->id_nuevo ?>">
                                                                    <input type="hidden" name="color_tnnbpe_[]" id="color_values_<?= $tnnbpe->id_nuevo ?>" value="<?= $tnnbpe->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_tnnbpe[]" value="<?= $tnnbpe->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $tnnbpe->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $tnnbpe->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $tnnbpe->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $tnnbpe->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $tnnbpe->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $tnnbpe->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $tnnbpe->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idtnnbpe[]" size="5" value="<?= $tnnbpe->id ?>"><?= $consec ?>.- <?= $tnnbpe->nombre ?><input type="hidden" name="nombretnnbpe[]" value="<?= $tnnbpe->nombre ?>">
                                                                        <?php if ($tnnbpe->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="tnnbpeincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="tnnbpeincluye[]" id="" cols="50" rows="7"><?= $tnnbpe->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $tnnbpe->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidtnnbpe ?>" class="getrowidtnnbpe" style="cursor:pointer"></i>
                                                                        <i id="recalc_tnnbpe_<?= $filasidtnnbpe ?>" class="getrowidtnnbpe2" style="cursor:pointer"></i>
                                                                        <?php if ($tnnbpe->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezatnnbpe-<?= $filasidtnnbpe ?>" name="piezatnnbpe[]" oninput="Calctnnbpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezatnnbpe-<?= $filasidtnnbpe ?>" name="piezatnnbpe[]" oninput="Calctnnbpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $tnnbpe->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $tnnbpe->unidad ?><input type="hidden" name="unidadtnnbpe[]" value="<?= $tnnbpe->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="preciotnnbpe-<?= $filasidtnnbpe ?>" name="preciotnnbpe[]" oninput="Calctnnbpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $tnnbpe->precio ?>">
                                                                        <?php if ($tnnbpe->statusreproceso == 0) : ?>
                                                                            <i id="flag_reprocess_tnnbpe<?= $filasidtnnbpe ?>"><img class="get_reprocess_tnnbpe check_isfijor" id="<?= $filasidtnnbpe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_tnnbpe<?= $filasidtnnbpe ?>" style="display:none"><img class="get_normal_tnnbpe check_isfijo" id="<?= $filasidtnnbpe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_tnnbpe<?= $filasidtnnbpe ?>" style="display:none"><img class="get_reprocess_tnnbpe check_isfijor" id="<?= $filasidtnnbpe ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_tnnbpe<?= $filasidtnnbpe ?>"><img class="get_normal_tnnbpe check_isfijo" id="<?= $filasidtnnbpe ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatustnnbpe[]" size="10" id="status_reprocess_val_tnnbpe<?= $filasidtnnbpe ?>" value="<?= $tnnbpe->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_tnnbpe<?= $filasidtnnbpe ?>" value="<?= $tnnbpe->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotaltnnbpe-<?= $filasidtnnbpe ?>" name="tdsubtotaltnnbpe[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotaltnnbpe[]" value="<?= $tnnbpe->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionestnnbpe[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $tnnbpe->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentostnnbpe[]" value="<?= $tnnbpe->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentostnnbpe[]" value="<?= $tnnbpe->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $tnnbpe->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($tnnbperimetral == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="tnnbpe_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtntnnbpe btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!--*********************** 7. Herraje **********************-->


                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">7. HERRAJES</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb"></h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalherna"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalherna" name="finalherna" readonly>
                                                                <td style="background-color: #91DDD9;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablaherna">
                                                            <?php
                                                            $filasidherna = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($hernoaplica as $herna) {
                                                                $filasidherna++;
                                                                $consec++;
                                                                if($herna->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $herna->id_nuevo ?>" class="herna_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($herna->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $herna->id_nuevo ?>"><input type="hidden" name="idnuevoherna[]" size="5" value="<?= $herna->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $herna->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_herna_[]" id="color_values_<?= $herna->id_nuevo ?>" value="<?= $herna->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($herna->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $herna->id_nuevo ?>"><input type="hidden" name="idnuevoherna[]" size="5" value="<?= $herna->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $herna->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_herna_[]" id="color_values_<?= $herna->id_nuevo ?>" value="<?= $herna->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($herna->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $herna->id_nuevo ?>"><input type="hidden" name="idnuevoherna[]" size="5" value="<?= $herna->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $herna->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_herna_[]" id="color_values_<?= $herna->id_nuevo ?>" value="<?= $herna->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($herna->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $herna->id_nuevo ?>"><input type="hidden" name="idnuevoherna[]" size="5" value="<?= $herna->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $herna->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_herna_[]" id="color_values_<?= $herna->id_nuevo ?>" value="<?= $herna->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($herna->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $herna->id_nuevo ?>"><input type="hidden" name="idnuevoherna[]" size="5" value="<?= $herna->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $herna->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_herna_[]" id="color_values_<?= $herna->id_nuevo ?>" value="<?= $herna->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($herna->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $herna->id_nuevo ?>"><input type="hidden" name="idnuevoherna[]" size="5" value="<?= $herna->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $herna->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_herna_[]" id="color_values_<?= $herna->id_nuevo ?>" value="<?= $herna->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($herna->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $herna->id_nuevo ?>"><input type="hidden" name="idnuevoherna[]" size="5" value="<?= $herna->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $herna->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $herna->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $herna->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $herna->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_herna_[]" id="color_values_<?= $herna->id_nuevo ?>" value="<?= $herna->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $herna->id_nuevo ?>"><input type="hidden" name="idnuevoherna[]" size="5" value="<?= $herna->id_nuevo ?>">
                                                                    <input type="hidden" name="color_herna_[]" id="color_values_<?= $herna->id_nuevo ?>" value="<?= $herna->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_herna[]" value="<?= $herna->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $herna->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $herna->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $herna->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $herna->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $herna->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $herna->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $herna->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idherna[]" size="5" value="<?= $herna->id ?>"><?= $consec ?>.- <?= $herna->nombre ?><input type="hidden" name="nombreherna[]" value="<?= $herna->nombre ?>">
                                                                        <?php if ($herna->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="hernaincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="hernaincluye[]" id="" cols="50" rows="7"><?= $herna->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $herna->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidherna ?>" class="getrowidherna" style="cursor:pointer"></i>
                                                                        <i id="recalc_herna_<?= $filasidherna ?>" class="getrowidherna2" style="cursor:pointer"></i>
                                                                        <?php if ($herna->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaherna-<?= $filasidherna ?>" name="piezaherna[]" oninput="Calcherna(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaherna-<?= $filasidherna ?>" name="piezaherna[]" oninput="Calcherna(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $herna->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $herna->unidad ?><input type="hidden" name="unidadherna[]" value="<?= $herna->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioherna-<?= $filasidherna ?>" name="precioherna[]" oninput="Calcherna(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $herna->precio ?>">
                                                                        <?php if ($herna->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_herna<?= $filasidherna ?>"><img class="get_reprocess_herna check_isfijor" id="<?= $filasidherna ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_herna<?= $filasidherna ?>" style="display:none"><img class="get_normal_herna check_isfijo" id="<?= $filasidherna ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_herna<?= $filasidherna ?>" style="display:none"><img class="get_reprocess_herna check_isfijor" id="<?= $filasidherna ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_herna<?= $filasidherna ?>"><img class="get_normal_herna check_isfijo" id="<?= $filasidherna ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusherna[]" size="10" id="status_reprocess_val_herna<?= $filasidherna ?>" value="<?= $herna->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_herna<?= $filasidherna ?>" value="<?= $herna->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalherna-<?= $filasidherna ?>" name="tdsubtotalherna[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalherna[]" value="<?= $herna->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesherna[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $herna->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosherna[]" value="<?= $herna->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosherna[]" value="<?= $herna->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $herna->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($hernoaplica == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="herna_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnherna btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!--*********************** 8. Provadores **********************-->


                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">8. PROBADORES</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO DE PISO</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalprobmpi"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalprobmpi" name="finalprobmpi" readonly>
                                                                <td style="background-color: #7F521C;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablaprobmpi">
                                                            <?php
                                                            $filasidprobmpi = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($probmpiso as $probmpi) {
                                                                $filasidprobmpi++;
                                                                $consec++;
                                                                if($probmpi->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $probmpi->id_nuevo ?>" class="probmpi_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($probmpi->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $probmpi->id_nuevo ?>"><input type="hidden" name="idnuevoprobmpi[]" size="5" value="<?= $probmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $probmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_probmpi_[]" id="color_values_<?= $probmpi->id_nuevo ?>" value="<?= $probmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($probmpi->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $probmpi->id_nuevo ?>"><input type="hidden" name="idnuevoprobmpi[]" size="5" value="<?= $probmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $probmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_probmpi_[]" id="color_values_<?= $probmpi->id_nuevo ?>" value="<?= $probmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($probmpi->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $probmpi->id_nuevo ?>"><input type="hidden" name="idnuevoprobmpi[]" size="5" value="<?= $probmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $probmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_probmpi_[]" id="color_values_<?= $probmpi->id_nuevo ?>" value="<?= $probmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($probmpi->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $probmpi->id_nuevo ?>"><input type="hidden" name="idnuevoprobmpi[]" size="5" value="<?= $probmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $probmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_probmpi_[]" id="color_values_<?= $probmpi->id_nuevo ?>" value="<?= $probmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($probmpi->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $probmpi->id_nuevo ?>"><input type="hidden" name="idnuevoprobmpi[]" size="5" value="<?= $probmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $probmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_probmpi_[]" id="color_values_<?= $probmpi->id_nuevo ?>" value="<?= $probmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($probmpi->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $probmpi->id_nuevo ?>"><input type="hidden" name="idnuevoprobmpi[]" size="5" value="<?= $probmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $probmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_probmpi_[]" id="color_values_<?= $probmpi->id_nuevo ?>" value="<?= $probmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($probmpi->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $probmpi->id_nuevo ?>"><input type="hidden" name="idnuevoprobmpi[]" size="5" value="<?= $probmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $probmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $probmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $probmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $probmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_probmpi_[]" id="color_values_<?= $probmpi->id_nuevo ?>" value="<?= $probmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $probmpi->id_nuevo ?>"><input type="hidden" name="idnuevoprobmpi[]" size="5" value="<?= $probmpi->id_nuevo ?>">
                                                                    <input type="hidden" name="color_probmpi_[]" id="color_values_<?= $probmpi->id_nuevo ?>" value="<?= $probmpi->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_probmpi[]" value="<?= $probmpi->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $probmpi->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $probmpi->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $probmpi->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $probmpi->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $probmpi->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $probmpi->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $probmpi->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idprobmpi[]" size="5" value="<?= $probmpi->id ?>"><?= $consec ?>.- <?= $probmpi->nombre ?><input type="hidden" name="nombreprobmpi[]" value="<?= $probmpi->nombre ?>">
                                                                        <?php if ($probmpi->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="probmpiincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="probmpiincluye[]" id="" cols="50" rows="7"><?= $probmpi->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $probmpi->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidprobmpi ?>" class="getrowidprobmpi" style="cursor:pointer"></i>
                                                                        <i id="recalc_probmpi_<?= $filasidprobmpi ?>" class="getrowidprobmpi2" style="cursor:pointer"></i>
                                                                        <?php if ($probmpi->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaprobmpi-<?= $filasidprobmpi ?>" name="piezaprobmpi[]" oninput="Calcprobmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaprobmpi-<?= $filasidprobmpi ?>" name="piezaprobmpi[]" oninput="Calcprobmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $probmpi->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $probmpi->unidad ?><input type="hidden" name="unidadprobmpi[]" value="<?= $probmpi->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioprobmpi-<?= $filasidprobmpi ?>" name="precioprobmpi[]" oninput="Calcprobmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $probmpi->precio ?>">
                                                                        <?php if ($probmpi->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_probmpi<?= $filasidprobmpi ?>"><img class="get_reprocess_probmpi check_isfijor" id="<?= $filasidprobmpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_probmpi<?= $filasidprobmpi ?>" style="display:none"><img class="get_normal_probmpi check_isfijo" id="<?= $filasidprobmpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_probmpi<?= $filasidprobmpi ?>" style="display:none"><img class="get_reprocess_probmpi check_isfijor" id="<?= $filasidprobmpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_probmpi<?= $filasidprobmpi ?>"><img class="get_normal_probmpi check_isfijo" id="<?= $filasidprobmpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusprobmpi[]" size="10" id="status_reprocess_val_probmpi<?= $filasidprobmpi ?>" value="<?= $probmpi->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_probmpi<?= $filasidprobmpi ?>" value="<?= $probmpi->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalprobmpi-<?= $filasidprobmpi ?>" name="tdsubtotalprobmpi[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalprobmpi[]" value="<?= $probmpi->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesprobmpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $probmpi->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosprobmpi[]" value="<?= $probmpi->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosprobmpi[]" value="<?= $probmpi->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $probmpi->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($probmpiso == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="probmpi_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnprobmpi btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!--*********************** 9. Paneles **********************-->


                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">9. PANELES</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO DE PISO</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalpanmpi"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalpanmpi" name="finalpanmpi" readonly>
                                                                <td style="background-color: #7F521C;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablapanmpi">
                                                            <?php
                                                            $filasidpanmpi = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($panmpiso as $panmpi) {
                                                                $filasidpanmpi++;
                                                                $consec++;
                                                                if($panmpi->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $panmpi->id_nuevo ?>" class="panmpi_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($panmpi->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $panmpi->id_nuevo ?>"><input type="hidden" name="idnuevopanmpi[]" size="5" value="<?= $panmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $panmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_panmpi_[]" id="color_values_<?= $panmpi->id_nuevo ?>" value="<?= $panmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($panmpi->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $panmpi->id_nuevo ?>"><input type="hidden" name="idnuevopanmpi[]" size="5" value="<?= $panmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $panmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_panmpi_[]" id="color_values_<?= $panmpi->id_nuevo ?>" value="<?= $panmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($panmpi->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $panmpi->id_nuevo ?>"><input type="hidden" name="idnuevopanmpi[]" size="5" value="<?= $panmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $panmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_panmpi_[]" id="color_values_<?= $panmpi->id_nuevo ?>" value="<?= $panmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($panmpi->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $panmpi->id_nuevo ?>"><input type="hidden" name="idnuevopanmpi[]" size="5" value="<?= $panmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $panmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_panmpi_[]" id="color_values_<?= $panmpi->id_nuevo ?>" value="<?= $panmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($panmpi->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $panmpi->id_nuevo ?>"><input type="hidden" name="idnuevopanmpi[]" size="5" value="<?= $panmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $panmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_panmpi_[]" id="color_values_<?= $panmpi->id_nuevo ?>" value="<?= $panmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($panmpi->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $panmpi->id_nuevo ?>"><input type="hidden" name="idnuevopanmpi[]" size="5" value="<?= $panmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $panmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_panmpi_[]" id="color_values_<?= $panmpi->id_nuevo ?>" value="<?= $panmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($panmpi->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $panmpi->id_nuevo ?>"><input type="hidden" name="idnuevopanmpi[]" size="5" value="<?= $panmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $panmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $panmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $panmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $panmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_panmpi_[]" id="color_values_<?= $panmpi->id_nuevo ?>" value="<?= $panmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $panmpi->id_nuevo ?>"><input type="hidden" name="idnuevopanmpi[]" size="5" value="<?= $panmpi->id_nuevo ?>">
                                                                    <input type="hidden" name="color_panmpi_[]" id="color_values_<?= $panmpi->id_nuevo ?>" value="<?= $panmpi->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_panmpi[]" value="<?= $panmpi->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $panmpi->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $panmpi->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $panmpi->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $panmpi->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $panmpi->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $panmpi->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $panmpi->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idpanmpi[]" size="5" value="<?= $panmpi->id ?>"><?= $consec ?>.- <?= $panmpi->nombre ?><input type="hidden" name="nombrepanmpi[]" value="<?= $panmpi->nombre ?>">
                                                                        <?php if ($panmpi->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="panmpiincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="panmpiincluye[]" id="" cols="50" rows="7"><?= $panmpi->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $panmpi->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidpanmpi ?>" class="getrowidpanmpi" style="cursor:pointer"></i>
                                                                        <i id="recalc_panmpi_<?= $filasidpanmpi ?>" class="getrowidpanmpi2" style="cursor:pointer"></i>
                                                                        <?php if ($panmpi->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezapanmpi-<?= $filasidpanmpi ?>" name="piezapanmpi[]" oninput="Calcpanmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezapanmpi-<?= $filasidpanmpi ?>" name="piezapanmpi[]" oninput="Calcpanmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $panmpi->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $panmpi->unidad ?><input type="hidden" name="unidadpanmpi[]" value="<?= $panmpi->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="preciopanmpi-<?= $filasidpanmpi ?>" name="preciopanmpi[]" oninput="Calcpanmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $panmpi->precio ?>">
                                                                        <?php if ($panmpi->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_panmpi<?= $filasidpanmpi ?>"><img class="get_reprocess_panmpi check_isfijor" id="<?= $filasidpanmpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_panmpi<?= $filasidpanmpi ?>" style="display:none"><img class="get_normal_panmpi check_isfijo" id="<?= $filasidpanmpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_panmpi<?= $filasidpanmpi ?>" style="display:none"><img class="get_reprocess_panmpi check_isfijor" id="<?= $filasidpanmpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_panmpi<?= $filasidpanmpi ?>"><img class="get_normal_panmpi check_isfijo" id="<?= $filasidpanmpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatuspanmpi[]" size="10" id="status_reprocess_val_panmpi<?= $filasidpanmpi ?>" value="<?= $panmpi->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_panmpi<?= $filasidpanmpi ?>" value="<?= $panmpi->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalpanmpi-<?= $filasidpanmpi ?>" name="tdsubtotalpanmpi[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalpanmpi[]" value="<?= $panmpi->subtotal ?>" readonly>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionespanmpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $panmpi->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentospanmpi[]" value="<?= $panmpi->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentospanmpi[]" value="<?= $panmpi->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $panmpi->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($panmpiso == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="panmpi_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnpanmpi btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!--*********************** 10. Extras **********************-->


                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">10. EXTRAS</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black">MOBILIARIO DE PISO</h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalextmpi"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalextmpi" name="finalextmpi" readonly>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalextmpiprov" name="finalextmpiprov" readonly>
                                                                <td style="background-color: #83EC81;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablaextmpi">
                                                            <?php
                                                            $filasidextmpi = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($extmpiso as $extmpi) {
                                                                $filasidextmpi++;
                                                                $consec++;
                                                                if($extmpi->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $extmpi->id_nuevo ?>" class="extmpi_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($extmpi->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $extmpi->id_nuevo ?>"><input type="hidden" name="idnuevoextmpi[]" size="5" value="<?= $extmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $extmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_extmpi_[]" id="color_values_<?= $extmpi->id_nuevo ?>" value="<?= $extmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($extmpi->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $extmpi->id_nuevo ?>"><input type="hidden" name="idnuevoextmpi[]" size="5" value="<?= $extmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $extmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_extmpi_[]" id="color_values_<?= $extmpi->id_nuevo ?>" value="<?= $extmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($extmpi->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $extmpi->id_nuevo ?>"><input type="hidden" name="idnuevoextmpi[]" size="5" value="<?= $extmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $extmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_extmpi_[]" id="color_values_<?= $extmpi->id_nuevo ?>" value="<?= $extmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($extmpi->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $extmpi->id_nuevo ?>"><input type="hidden" name="idnuevoextmpi[]" size="5" value="<?= $extmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $extmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_extmpi_[]" id="color_values_<?= $extmpi->id_nuevo ?>" value="<?= $extmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($extmpi->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $extmpi->id_nuevo ?>"><input type="hidden" name="idnuevoextmpi[]" size="5" value="<?= $extmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $extmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_extmpi_[]" id="color_values_<?= $extmpi->id_nuevo ?>" value="<?= $extmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($extmpi->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $extmpi->id_nuevo ?>"><input type="hidden" name="idnuevoextmpi[]" size="5" value="<?= $extmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $extmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_extmpi_[]" id="color_values_<?= $extmpi->id_nuevo ?>" value="<?= $extmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($extmpi->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $extmpi->id_nuevo ?>"><input type="hidden" name="idnuevoextmpi[]" size="5" value="<?= $extmpi->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $extmpi->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $extmpi->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $extmpi->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $extmpi->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_extmpi_[]" id="color_values_<?= $extmpi->id_nuevo ?>" value="<?= $extmpi->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $extmpi->id_nuevo ?>"><input type="hidden" name="idnuevoextmpi[]" size="5" value="<?= $extmpi->id_nuevo ?>">
                                                                    <input type="hidden" name="color_extmpi_[]" id="color_values_<?= $extmpi->id_nuevo ?>" value="<?= $extmpi->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_extmpi[]" value="<?= $extmpi->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $extmpi->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $extmpi->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $extmpi->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $extmpi->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $extmpi->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $extmpi->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $extmpi->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idextmpi[]" size="5" value="<?= $extmpi->id ?>"><?= $consec ?>.- <?= $extmpi->nombre ?><input type="hidden" name="nombreextmpi[]" value="<?= $extmpi->nombre ?>">
                                                                        <?php if ($extmpi->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="extmpiincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="extmpiincluye[]" id="" cols="50" rows="7"><?= $extmpi->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $extmpi->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidextmpi ?>" class="getrowidextmpi" style="cursor:pointer"></i>
                                                                        <i id="recalc_extmpi_<?= $filasidextmpi ?>" class="getrowidextmpi2" style="cursor:pointer"></i>
                                                                        <?php if ($extmpi->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaextmpi-<?= $filasidextmpi ?>" name="piezaextmpi[]" oninput="Calcextmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaextmpi-<?= $filasidextmpi ?>" name="piezaextmpi[]" oninput="Calcextmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $extmpi->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $extmpi->unidad ?><input type="hidden" name="unidadextmpi[]" value="<?= $extmpi->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioextmpi-<?= $filasidextmpi ?>" name="precioextmpi[]" oninput="Calcextmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $extmpi->precio ?>">
                                                                        <?php if ($extmpi->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_extmpi<?= $filasidextmpi ?>"><img class="get_reprocess_extmpi check_isfijor" id="<?= $filasidextmpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_extmpi<?= $filasidextmpi ?>" style="display:none"><img class="get_normal_extmpi check_isfijo" id="<?= $filasidextmpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_extmpi<?= $filasidextmpi ?>" style="display:none"><img class="get_reprocess_extmpi check_isfijor" id="<?= $filasidextmpi ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_extmpi<?= $filasidextmpi ?>"><img class="get_normal_extmpi check_isfijo" id="<?= $filasidextmpi ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusextmpi[]" size="10" id="status_reprocess_val_extmpi<?= $filasidextmpi ?>" value="<?= $extmpi->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_extmpi<?= $filasidextmpi ?>" value="<?= $extmpi->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalextmpi-<?= $filasidextmpi ?>" name="tdsubtotalextmpi[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalextmpi[]" value="<?= $extmpi->subtotal ?>">
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesextmpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $extmpi->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosextmpi[]" value="<?= $extmpi->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosextmpi[]" value="<?= $extmpi->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $extmpi->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($extmpiso == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="extmpi_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnextmpi btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!--*********************** 11. Imagen **********************-->


                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">11. IMAGEN</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb"></h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalimgp2"></td>
                                                                <td style="background-color: #B84EED;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">TOTAL</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablaimgp">
                                                            <?php
                                                            $filasidimgp = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($imgpop as $imgp) {
                                                                $filasidimgp++;
                                                                $consec++;
                                                                if($imgp->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $imgp->id_nuevo ?>" class="imgp_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($imgp->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $imgp->id_nuevo ?>"><input type="hidden" name="idnuevoimgp[]" size="5" value="<?= $imgp->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgp->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgp_[]" id="color_values_<?= $imgp->id_nuevo ?>" value="<?= $imgp->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgp->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $imgp->id_nuevo ?>"><input type="hidden" name="idnuevoimgp[]" size="5" value="<?= $imgp->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgp->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgp_[]" id="color_values_<?= $imgp->id_nuevo ?>" value="<?= $imgp->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgp->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $imgp->id_nuevo ?>"><input type="hidden" name="idnuevoimgp[]" size="5" value="<?= $imgp->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgp->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgp_[]" id="color_values_<?= $imgp->id_nuevo ?>" value="<?= $imgp->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgp->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $imgp->id_nuevo ?>"><input type="hidden" name="idnuevoimgp[]" size="5" value="<?= $imgp->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgp->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgp_[]" id="color_values_<?= $imgp->id_nuevo ?>" value="<?= $imgp->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgp->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $imgp->id_nuevo ?>"><input type="hidden" name="idnuevoimgp[]" size="5" value="<?= $imgp->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgp->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgp_[]" id="color_values_<?= $imgp->id_nuevo ?>" value="<?= $imgp->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgp->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $imgp->id_nuevo ?>"><input type="hidden" name="idnuevoimgp[]" size="5" value="<?= $imgp->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgp->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgp_[]" id="color_values_<?= $imgp->id_nuevo ?>" value="<?= $imgp->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgp->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $imgp->id_nuevo ?>"><input type="hidden" name="idnuevoimgp[]" size="5" value="<?= $imgp->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgp->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgp->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgp->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgp->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgp_[]" id="color_values_<?= $imgp->id_nuevo ?>" value="<?= $imgp->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $imgp->id_nuevo ?>"><input type="hidden" name="idnuevoimgp[]" size="5" value="<?= $imgp->id_nuevo ?>">
                                                                    <input type="hidden" name="color_imgp_[]" id="color_values_<?= $imgp->id_nuevo ?>" value="<?= $imgp->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_imgp[]" value="<?= $imgp->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $imgp->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $imgp->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $imgp->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $imgp->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $imgp->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $imgp->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $imgp->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idimgp[]" size="5" value="<?= $imgp->id ?>"><?= $consec ?>.- <?= $imgp->nombre ?><input type="hidden" name="nombreimgp[]" value="<?= $imgp->nombre ?>">
                                                                        <?php if ($imgp->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="imgpincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="imgpincluye[]" id="" cols="50" rows="7"><?= $imgp->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $imgp->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="width:10%">
                                                                        <i id="<?= $filasidimgp ?>" class="getrowidimgp" style="cursor:pointer"></i>
                                                                        <i id="recalc_imgp_<?= $filasidimgp ?>" class="getrowidimgp2" style="cursor:pointer"></i>
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioimgp-<?= $filasidimgp ?>" name="precioimgp[]" oninput=" enviarimagenpops(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes(); " value="<?= $imgp->precio ?>">
                                                                        <?php if ($imgp->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_imgp<?= $filasidimgp ?>"><img class="get_reprocess_imgp check_isfijor" id="<?= $filasidimgp ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_imgp<?= $filasidimgp ?>" style="display:none"><img class="get_normal_imgp check_isfijo" id="<?= $filasidimgp ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_imgp<?= $filasidimgp ?>" style="display:none"><img class="get_reprocess_imgp check_isfijor" id="<?= $filasidimgp ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_imgp<?= $filasidimgp ?>"><img class="get_normal_imgp check_isfijo" id="<?= $filasidimgp ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusimgp[]" size="10" id="status_reprocess_val_imgp<?= $filasidimgp ?>" value="<?= $imgp->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_imgp<?= $filasidimgp ?>" value="<?= $imgp->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesimgp[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $imgp->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="piezaimgp[]" value="1">
                                                                        <input type="hidden" id="subtotalimgp-<?= $filasidimgp ?>" name="subtotalimgp[]" value="<?= $imgp->subtotal ?>">
                                                                        <input type="hidden" name="unidadimgp[]" value="<?= $imgp->unidad ?>">
                                                                        <input type="hidden" name="departamentosimgp[]" value="<?= $imgp->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosimgp[]" value="<?= $imgp->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalimgp-<?= $filasidimgp ?>" name="tdfinalimgp[]"></td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $imgp->id_nuevo ?>"></i></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($imgpop == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="imgp_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnimgp btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalimgm2"></td>
                                                                <td style="background-color: #FDFF78;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">TOTAL</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablaimgm">
                                                            <?php
                                                            $filasidimgm = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($imgmaniquis as $imgm) {
                                                                $filasidimgm++;
                                                                $consec++;
                                                                if($imgm->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $imgm->id_nuevo ?>" class="imgm_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($imgm->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $imgm->id_nuevo ?>"><input type="hidden" name="idnuevoimgm[]" size="5" value="<?= $imgm->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgm->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgm_[]" id="color_values_<?= $imgm->id_nuevo ?>" value="<?= $imgm->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgm->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $imgm->id_nuevo ?>"><input type="hidden" name="idnuevoimgm[]" size="5" value="<?= $imgm->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgm->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgm_[]" id="color_values_<?= $imgm->id_nuevo ?>" value="<?= $imgm->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgm->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $imgm->id_nuevo ?>"><input type="hidden" name="idnuevoimgm[]" size="5" value="<?= $imgm->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgm->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgm_[]" id="color_values_<?= $imgm->id_nuevo ?>" value="<?= $imgm->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgm->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $imgm->id_nuevo ?>"><input type="hidden" name="idnuevoimgm[]" size="5" value="<?= $imgm->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgm->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgm_[]" id="color_values_<?= $imgm->id_nuevo ?>" value="<?= $imgm->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgm->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $imgm->id_nuevo ?>"><input type="hidden" name="idnuevoimgm[]" size="5" value="<?= $imgm->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgm->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgm_[]" id="color_values_<?= $imgm->id_nuevo ?>" value="<?= $imgm->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgm->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $imgm->id_nuevo ?>"><input type="hidden" name="idnuevoimgm[]" size="5" value="<?= $imgm->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgm->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgm_[]" id="color_values_<?= $imgm->id_nuevo ?>" value="<?= $imgm->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($imgm->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $imgm->id_nuevo ?>"><input type="hidden" name="idnuevoimgm[]" size="5" value="<?= $imgm->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $imgm->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $imgm->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $imgm->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $imgm->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_imgm_[]" id="color_values_<?= $imgm->id_nuevo ?>" value="<?= $imgm->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $imgm->id_nuevo ?>"><input type="hidden" name="idnuevoimgm[]" size="5" value="<?= $imgm->id_nuevo ?>">
                                                                    <input type="hidden" name="color_imgm_[]" id="color_values_<?= $imgm->id_nuevo ?>" value="<?= $imgm->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_imgm[]" value="<?= $imgm->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $imgm->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $imgm->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $imgm->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $imgm->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $imgm->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $imgm->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $imgm->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idimgm[]" size="5" value="<?= $imgm->id ?>"><?= $consec ?>.- <?= $imgm->nombre ?><input type="hidden" name="nombreimgm[]" value="<?= $imgm->nombre ?>">
                                                                        <?php if ($imgm->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="imgmincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="imgmincluye[]" id="" cols="50" rows="7"><?= $imgm->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $imgm->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="width:10%">
                                                                        <i id="<?= $filasidimgm ?>" class="getrowidimgm" style="cursor:pointer"></i>
                                                                        <i id="recalc_imgm_<?= $filasidimgm ?>" class="getrowidimgm2" style="cursor:pointer"></i>
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioimgm-<?= $filasidimgm ?>" name="precioimgm[]" oninput=" enviarimagenmaniquis(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes(); " value="<?= $imgm->precio ?>">
                                                                        <?php if ($imgm->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_imgm<?= $filasidimgm ?>"><img class="get_reprocess_imgm check_isfijor" id="<?= $filasidimgm ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_imgm<?= $filasidimgm ?>" style="display:none"><img class="get_normal_imgm check_isfijo" id="<?= $filasidimgm ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_imgm<?= $filasidimgm ?>" style="display:none"><img class="get_reprocess_imgm check_isfijor" id="<?= $filasidimgm ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_imgm<?= $filasidimgm ?>"><img class="get_normal_imgm check_isfijo" id="<?= $filasidimgm ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusimgm[]" size="10" id="status_reprocess_val_imgm<?= $filasidimgm ?>" value="<?= $imgm->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_imgm<?= $filasidimgm ?>" value="<?= $imgm->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesimgm[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $imgm->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="piezaimgm[]" value="1">
                                                                        <input type="hidden" id="subtotalimgm-<?= $filasidimgm ?>" name="subtotalimgm[]" value="<?= $imgm->subtotal ?>">
                                                                        <input type="hidden" name="unidadimgm[]" value="<?= $imgm->unidad ?>">
                                                                        <input type="hidden" name="departamentosimgm[]" value="<?= $imgm->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosimgm[]" value="<?= $imgm->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalimgm-<?= $filasidimgm ?>" name="tdfinalimgm[]"></td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $imgm->id_nuevo ?>"></i></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>

                                                        </tbody>
                                                        <?php if ($imgmaniquis == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="imgm_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnimgm btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                    <!--ESTOS INPUTS DEBEN PERMANECER FUERA DE LAS TABLAS PARA QUE PUEDA REFLEJAR EL VALOR DEL RESULTADO EN EL HTML-->
                                                    <input type="hidden" size="10" style="font-size: .8em; color: black" id="finalimgp" name="finalimgp" value="<?= $imgp->subtotal ?>" readonly>
                                                    <input type="hidden" size="10" style="font-size: .8em; color: black" id="finalimgm" name="finalimgm" value="<?= $imgm->subtotal ?>" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt">
                                <div class="col-lg-12">
                                    <div class="form-panel" style="background-color:#FFFFC4">
                                        <h3 class="mb" style="color: black">12. OTROS</h3>
                                        <div class="row mt">
                                            <div class="col-lg-12">
                                                <div class="form-panel">
                                                    <h5 class="mb" style="font-size: 1.6em; color: black"></h5>
                                                    <table class="table">
                                                        <thead>
                                                            <tr style="text-align: right">
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td style="font-size: 1.5em; color: black">Total</td>
                                                                <td style="font-size: 1.5em; color: black" id="tdfinalots"></td>
                                                                <input size="10" style="font-size: .8em; color: black" type="hidden" id="finalots" name="finalots" readonly>
                                                                <td style="background-color: #4449F3;"></td>
                                                            </tr>
                                                        </thead>
                                                        <thead>
                                                            <tr style="width:100%; justify-content: center; text-align: center">
                                                                <th></th>
                                                                <th style="text-align: center; color: black">SKU</th>
                                                                <th style="text-align: center; color: black">DESC. PRODUCTO</th>
                                                                <th style="text-align: center; color: black">CANTIDAD</th>
                                                                <th style="text-align: center; color: black">UNIDAD</th>
                                                                <th style="text-align: center; color: black">PRECIO MXN</th>
                                                                <th style="text-align: center; color: black">SUBTOTAL</th>
                                                                <th style="text-align: center; color: black">OBSERVACIONES (opcional)</th>
                                                                <th style="text-align: center; color: black">DETALLE</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="contenidotablaots">
                                                            <?php
                                                            $filasidots = 0;
                                                            $consec = 0;
                                                            $isfijo = 0; // para identificar si es activo fijo si es 0 no es, si es 1 si es Activo fijo
                                                            foreach ($otros as $ots) {
                                                                $filasidots++;
                                                                $consec++;
                                                                if($ots->activof !== '') { $isfijo = 1; }else{ $isfijo = 0; }
                                                            ?>
                                                                <tr id="rowproducto<?= $ots->id_nuevo ?>" class="ots_rows_to_delete" style="justify-content: center; text-align: center">
                                                                    <?php if ($ots->color == 1) : ?>
                                                                        <td style="background:#FF0000" id="color_prods_<?= $ots->id_nuevo ?>"><input type="hidden" name="idnuevoots[]" size="5" value="<?= $ots->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ots->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ots_[]" id="color_values_<?= $ots->id_nuevo ?>" value="<?= $ots->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ots->color == 2) : ?>
                                                                        <td style="background:#FF8B00" id="color_prods_<?= $ots->id_nuevo ?>"><input type="hidden" name="idnuevoots[]" size="5" value="<?= $ots->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ots->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ots_[]" id="color_values_<?= $ots->id_nuevo ?>" value="<?= $ots->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ots->color == 3) : ?>
                                                                        <td style="background:#F7FF00" id="color_prods_<?= $ots->id_nuevo ?>"><input type="hidden" name="idnuevoots[]" size="5" value="<?= $ots->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ots->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ots_[]" id="color_values_<?= $ots->id_nuevo ?>" value="<?= $ots->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ots->color == 4) : ?>
                                                                        <td style="background:#4DFF00" id="color_prods_<?= $ots->id_nuevo ?>"><input type="hidden" name="idnuevoots[]" size="5" value="<?= $ots->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ots->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ots_[]" id="color_values_<?= $ots->id_nuevo ?>" value="<?= $ots->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ots->color == 5) : ?>
                                                                        <td style="background:#0055FF" id="color_prods_<?= $ots->id_nuevo ?>"><input type="hidden" name="idnuevoots[]" size="5" value="<?= $ots->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ots->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ots_[]" id="color_values_<?= $ots->id_nuevo ?>" value="<?= $ots->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ots->color == 6) : ?>
                                                                        <td style="background:#CD00FF" id="color_prods_<?= $ots->id_nuevo ?>"><input type="hidden" name="idnuevoots[]" size="5" value="<?= $ots->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ots->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ots_[]" id="color_values_<?= $ots->id_nuevo ?>" value="<?= $ots->color ?>" size="5">
                                                                        </td>
                                                                    <?php elseif ($ots->color == 0) : ?>
                                                                        <td style="background:#trasnparent" id="color_prods_<?= $ots->id_nuevo ?>"><input type="hidden" name="idnuevoots[]" size="5" value="<?= $ots->id_nuevo ?>">
                                                                            <div>
                                                                                <div id="show_pallete_color_button_<?= $ots->id_nuevo ?>">
                                                                                    <i style="cursor:pointer" class="show_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                                <div id="hide_pallete_color_button_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                    <i style="cursor:pointer" class="hide_pallete_color" id="<?= $ots->id_nuevo ?>">
                                                                                        <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                                                                                    </i>
                                                                                </div>
                                                                            </div>
                                                                            <div id="color_palete_<?= $ots->id_nuevo ?>" style="display:none;">
                                                                                <i type="button" class="btn set_red" style="background-color: #FF0000; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_orange" style="background-color: #FF8B00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_yellow" style="background-color: #F7FF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_green" style="background-color: #4DFF00; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_blue" style="background-color: #0055FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn set_purple" style="background-color: #CD00FF; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                                <i type="button" class="btn quit_color" style="background-color: #ffffff; cursor: pointer" id="<?= $ots->id_nuevo ?>"></i>
                                                                            </div>
                                                                            <input type="hidden" name="color_ots_[]" id="color_values_<?= $ots->id_nuevo ?>" value="<?= $ots->color ?>" size="5">
                                                                        </td>
                                                                    <?php else : ?>
                                                                        <td id="color_prods_<?= $ots->id_nuevo ?>"><input type="hidden" name="idnuevoots[]" size="5" value="<?= $ots->id_nuevo ?>">
                                                                    <input type="hidden" name="color_ots_[]" id="color_values_<?= $ots->id_nuevo ?>" value="<?= $ots->color ?>" size="5">    
                                                                    </td>
                                                                    <?php endif ?>
                                                                    <td>
                                                                        <input class="skuvalueinsert" name="sku_ots[]" value="<?= $ots->sku ?>" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" readonly>
                                                                        <input type="hidden" class="skuvaluecc31" value="<?= $ots->cc31 ?>">
                                                                        <input type="hidden" class="skuvaluecc33" value="<?= $ots->cc33 ?>">
                                                                        <input type="hidden" class="skuvaluecc34" value="<?= $ots->cc34 ?>">
                                                                        <input type="hidden" class="skuvaluecc31r" value="<?= $ots->cc31r ?>">
                                                                        <input type="hidden" class="skuvaluecc33r" value="<?= $ots->cc33r ?>">
                                                                        <input type="hidden" class="skuvaluecc34r" value="<?= $ots->cc34r ?>">
                                                                        <input type="hidden" class="skuvalueactivof" value="<?= $ots->activof ?>">
                                                                        <i class="isfijoval" isfijo="<?= $isfijo ?>"></i>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black; text-align:left;width: 30%;"><input type="hidden" name="idots[]" size="5" value="<?= $ots->id ?>"><?= $consec ?>.- <?= $ots->nombre ?><input type="hidden" name="nombreots[]" value="<?= $ots->nombre ?>">
                                                                        <?php if ($ots->incluye == '') : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="otsincluye[]" id="" cols="50" rows="7"></textarea>
                                                                            </div>
                                                                        <?php else : ?>
                                                                            <div style="padding-left: 10%; display: none;">
                                                                                <textarea style="border:none; background: transparent" name="otsincluye[]" id="" cols="50" rows="7"><?= $ots->incluye ?></textarea>
                                                                            </div>
                                                                            <div style="padding-left: 10%;">
                                                                                <textarea style="border:none; background: transparent" cols="50" rows="7" disabled><?= $ots->incluye ?></textarea>
                                                                            </div>
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td>
                                                                        <i id="<?= $filasidots ?>" class="getrowidots" style="cursor:pointer"></i>
                                                                        <i id="recalc_ots_<?= $filasidots ?>" class="getrowidots2" style="cursor:pointer"></i>
                                                                        <?php if ($ots->pieza == 0) : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaots-<?= $filasidots ?>" name="piezaots[]" oninput="Calcots(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                                                                        <?php else : ?>
                                                                            <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="text" min="1" inputmode="numeric" step="any" placeholder="0" required id="piezaots-<?= $filasidots ?>" name="piezaots[]" oninput="Calcots(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $ots->pieza ?>">
                                                                        <?php endif ?>
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black"><?= $ots->unidad ?><input type="hidden" name="unidadots[]" value="<?= $ots->unidad ?>"></td>
                                                                    <td style="width:10%">
                                                                        <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required id="precioots-<?= $filasidots ?>" name="precioots[]" oninput="Calcots(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="<?= $ots->precio ?>">
                                                                        <?php if ($ots->statusreproceso == 0) : ?>
                                                                        <i id="flag_reprocess_ots<?= $filasidots ?>"><img class="get_reprocess_ots check_isfijor" id="<?= $filasidots ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_ots<?= $filasidots ?>" style="display:none"><img class="get_normal_ots check_isfijo" id="<?= $filasidots ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php else : ?>
                                                                            <i id="flag_reprocess_ots<?= $filasidots ?>" style="display:none"><img class="get_reprocess_ots check_isfijor" id="<?= $filasidots ?>" src="<?= base_url() ?>assets/img/reprocess_on.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <i id="flag_normal_ots<?= $filasidots ?>"><img class="get_normal_ots check_isfijo" id="<?= $filasidots ?>" src="<?= base_url() ?>assets/img/reprocess_off.png" style="width: 20px; cursor:pointer;"></i>
                                                                        <?php endif ?>
                                                                        <input type="hidden" name="reprocesstatusots[]" size="10" id="status_reprocess_val_ots<?= $filasidots ?>" value="<?= $ots->statusreproceso ?>">
                                                                        <input type="hidden" size="10" id="reprocess_id_val_ots<?= $filasidots ?>" value="<?= $ots->id ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.3em; color: black;width:12%" id="tdsubtotalots-<?= $filasidots ?>" name="tdsubtotalots[]">
                                                                    </td>
                                                                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="" name="subtotalots[]" value="<?= $ots->subtotal ?>">
                                                                    <td style="font-size: 1em; color: black;width:35%">
                                                                        <input type="text" name="observacionesots[]" style="width:100%;border:none;border-bottom:1px solid gray;" value="<?= $ots->observaciones ?>" class="auto_complete_obs">
                                                                        <input type="hidden" name="departamentosots[]" value="<?= $ots->departamentos ?>">
                                                                        <input type="hidden" name="subdepartamentosots[]" value="<?= $ots->subdepartamentos ?>">
                                                                    </td>
                                                                    <td style="font-size: 1.8em;width:3%"><i class="enviarpapelera fa fa-trash-o" style="color: #000000; cursor: pointer" id="producto-<?= $ots->id_nuevo ?>"></i></td>
                                                                    <td></td>
                                                                </tr>
                                                            <?php
                                                            }
                                                            ?>
                                                        </tbody>
                                                        <?php if ($otros == '') : ?>
                                                        <?php else : ?>
                                                            <div style="display:flex; justify-content:end;padding-right:10px;">
                                                                <i style="cursor: pointer; padding-bottom:5px" id="ots_rows_delete"><img src="<?= base_url() ?>assets/img/trash_2.png" width="30px" height="30px"></i>
                                                            </div>
                                                        <?php endif ?>
                                                        <i class="additembtnots btn btn-outline-dark fa fa-plus" style="background-color: chartreuse; color: #000000; cursor: pointer" id="producto-<?= $t->id ?>"></i>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <div class="form-panel" style="border-radius: 5px; background-color:#000000">
                                    <div style="text-align: right">
                                        <input style="color: black" type="hidden" id="totalmueblesherrajesextrasinstalacionytransportepopmaniquis2" name="totalmueblesherrajesextrasinstalacionytransportepopmaniquis2" readonly>

                                        <div style="display: flex; justify-content: flex-end;">
                                            <div>
                                                <h2 style="color: white">SUBTOTAL </h2>
                                                <h2 style="color: white" id="tdtotalmueblesherrajesextrasinstalacionytransportepopmaniquis2"></h2>
                                            </div>
                                        </div>
                                        <input style="color: black" type="hidden" id="totalmueblesherrajesextrasinstalacionytransportepopmaniquis2v2" name="" readonly>
                                    </div>
                                </div>
                                <div>
                                    <div class="row mt">
                                        <div class="col-lg-12">
                                            <div style="padding: 10px;">
                                                <div style="display: flex; justify-content: flex-end">
                                                    <div style="justify-content: center">
                                                        <div class="form-panel" style="background-color: #E1E1E1;">
                                                            <table class="table">
                                                                <thead>
                                                                    <tr>
                                                                        <th></th>
                                                                        <th style="text-align: center; background-color: #000000; color: white; font-size: 15px">TOTAL TIENDA</th>
                                                                        <th style="text-align: center; background-color: #000000; color: white; font-size: 15px">ANTICIPO 30%</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <th style="text-align: center; color: black; font-size: 15px">SUBTOTAL</th>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totalmueblesherrajesextrasinstalacionytransportepopmaniquis3" name="totalmueblesherrajesextrasinstalacionytransportepopmaniquis3" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totalmueblesherrajesextrasinstalacionytransportepopmaniquis3prov" name="totalmueblesherrajesextrasinstalacionytransportepopmaniquis3prov" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totalmueblesherrajesextrasinstalacionytransportepopmaniquis3v2" readonly>
                                                                        <td style="font-size: 1.5em; color: black" id="tdtotalmueblesherrajesextrasinstalacionytransportepopmaniquis3"></td>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="anticipo" name="anticipo" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="anticipoprov" name="anticipoprov" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="anticipov2" readonly>
                                                                        <td style="font-size: 1.5em; color: black" id="tdanticipo"></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th style="text-align: center; color: black; font-size: 15px">IVA 16%</th>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totalconiva" name="totalconiva" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totalconivaprov" name="totalconivaprov" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totalconivav2" readonly>
                                                                        <td style="font-size: 1.5em; color: black" id="tdtotalconiva"></td>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="anticipoconiva" name="anticipoconiva" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="anticipoconivaprov" name="anticipoconivaprov" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="anticipoconivav2" readonly>
                                                                        <td style="font-size: 1.5em; color: black" id="tdanticipoconiva"></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th style="text-align: center; color: black; font-size: 15px">TOTAL</th>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totaltiendav2" name="totaltiendav2" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totaltiendav2prov" name="totaltiendav2prov" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totaltienda" readonly>
                                                                        <td style="font-size: 1.5em; color: black" id="tdtotaltiendav2"></td>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totaltiendaanticipov2" name="totaltiendaanticipov2" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totaltiendaanticipov2prov" name="totaltiendaanticipov2prov" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="totaltiendaanticipo" readonly>
                                                                        <td style="font-size: 1.5em; color: black" id="tdtotaltiendaanticipov2"></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td></td>
                                                                        <th style="text-align: center; background-color: #000000; color: white; font-size: 15px">M2 DE TIENDA</th>
                                                                        <th style="text-align: center; background-color: #000000; color: white; font-size: 15px">PRECIO POR M2</th>
                                                                    </tr>
                                                                    <tr>
                                                                        <td></td>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="mismom2inicio" name="mismom2inicio" readonly>
                                                                        <td style="font-size: 1.5em; color: black" id="tdmismom2inicio"><label for="" id="redultadom2_2"></label></td>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="m2tiendafinalv2" name="m2tiendafinalv2" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="m2tiendafinalv2prov" name="m2tiendafinalv2prov" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="m2tiendafinal" readonly>
                                                                        <td style="font-size: 1.5em; color: black" id="tdm2tiendafinalv2"></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td></td>
                                                                        <th style="text-align: center; background-color: #000000; color: white; font-size: 20px">FINIQUITO</th>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="finiquitov2" name="finiquitov2" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="finiquitov2prov" name="finiquitov2prov" readonly>
                                                                        <input type="hidden" size="15" style="font-size: 1.5em; color: black" id="finiquito" readonly>
                                                                        <td style="font-size: 1.5em; color: black" id="tdfiniquitov2"></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button type="submit" id="validacompra" class="generacompra btn btn-outline-dark" style="color: #000000; cursor: pointer; float: right; font-size: 1.7em">GENERAR ORDEN</button>
                <div>
                    <label for=""> </label>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                </div>
                <div>
                    <label for=""> </label>
                </div>
            </form>
        <?php else : ?>
        <?php endif ?>

    </section>
</section>
<script type="text/javascript">
    $('#tipo_tienda').change(function (){
        var tienda = $('#tienda').val();
        var proveedor = $('#proveedor').val();
        var nombreusuario = $('#nombreusuario').val();
        var fecha_entrega = $('#fecha_entrega').val();
        var tipo_tienda = $('#tipo_tienda').val();
        var ubicacion_tienda = $('#ubicacion_tienda').val();
        var encabezados_error = $('#encabezados_error');

        limpia_radio_butons();
        $('#ccstatus').val('');
        var section_cc31 = $('#section_cc31');
        var section_cc33 = $('#section_cc33');
        var section_cc34 = $('#section_cc34');
        section_cc31.css('display', 'none');
        section_cc33.css('display', 'none');
        section_cc34.css('display', 'none');
        $('#limpia_skus_vals').trigger('click');
    });
    $('#ubicacion_tienda').change(function (){
        var tienda = $('#tienda').val();
        var proveedor = $('#proveedor').val();
        var nombreusuario = $('#nombreusuario').val();
        var fecha_entrega = $('#fecha_entrega').val();
        var tipo_tienda = $('#tipo_tienda').val();
        var ubicacion_tienda = $('#ubicacion_tienda').val();

        var section_cc31 = $('#section_cc31');
        var section_cc33 = $('#section_cc33');
        var section_cc34 = $('#section_cc34');

        limpia_radio_butons();
        $('#ccstatus').val('');
        if(tipo_tienda == ''){
            if (ubicacion_tienda == ''){
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }else if(ubicacion_tienda == 'A PIE DE CARRETERA'){
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }else if(ubicacion_tienda == 'CENTRO COMERCIAL'){
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }else{
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }
        }else if(tipo_tienda == 'APERTURA'){
            if (ubicacion_tienda == ''){
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }else if(ubicacion_tienda == 'A PIE DE CARRETERA'){
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'block');
                var change_sku_values_cc34 = $('#change_sku_values_cc34');
                change_sku_values_cc34.prop('checked', true);
                $('#change_sku_values_cc34').trigger('click');
            }else if(ubicacion_tienda == 'CENTRO COMERCIAL'){
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'block');
                var change_sku_values_cc33 = $('#change_sku_values_cc33');
                change_sku_values_cc33.prop('checked', true);
                $('#change_sku_values_cc33').trigger('click');
                section_cc34.css('display', 'none');
            }else{
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }
        }else if(tipo_tienda == 'EXISTENTE'){
            if (ubicacion_tienda == ''){
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }else if(ubicacion_tienda == 'A PIE DE CARRETERA'){
                section_cc31.css('display', 'block');
                var change_sku_values_cc31 = $('#change_sku_values_cc31');
                change_sku_values_cc31.prop('checked', true);
                $('#change_sku_values_cc31').trigger('click');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
            }else if(ubicacion_tienda == 'CENTRO COMERCIAL'){
                section_cc31.css('display', 'block');
                var change_sku_values_cc31 = $('#change_sku_values_cc31');
                change_sku_values_cc31.prop('checked', true);
                $('#change_sku_values_cc31').trigger('click');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
            }else{
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }
        }else{
            if (ubicacion_tienda == ''){
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }else if(ubicacion_tienda == 'A PIE DE CARRETERA'){
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }else if(ubicacion_tienda == 'CENTRO COMERCIAL'){
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }else{
                section_cc31.css('display', 'none');
                section_cc33.css('display', 'none');
                section_cc34.css('display', 'none');
                $('#limpia_skus_vals').trigger('click');
            }
        }
    });
    function radio_ischeked(){
        var radioGroups = document.getElementsByName('radioGroup');
        var ischeked = false;

        for (var i = 0; i < radioGroups.length; i++) {
            if (radioGroups[i].checked) {
                ischeked = true;
                break;
            }
        }
        return ischeked;
    }
    function limpia_radio_butons(){
        var radioGroup = document.getElementsByName('radioGroup');
        radioGroup.forEach(function(radio_btn){
            radio_btn.checked = false;
        });
    }
    $(".enviarpapelera").click(function() {
        var idproducto = this.id;
        var res = idproducto.split("-");
        var id = res[1];
        $.post("<?= base_url() ?>Dashboard/enviarPapeleraPendiente", {
            "idproducto": id
        }).done(function(data) {
            $("#rowproducto" + id).remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>
<script type="text/javascript">
    $("#ent_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "entrada" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_ent_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".ent_rows_to_delete").remove();
                            $("#ent_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#dcmpi_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "dama y caballero ","mobiliario de piso" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_dcmpi_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".dcmpi_rows_to_delete").remove();
                            $("#dcmpi_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#dcmpe_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "dama y caballero ","mobiliario perimetral" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_dcmpe_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".dcmpe_rows_to_delete").remove();
                            $("#dcmpe_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#mhjmpi_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "mujer hombre jr","mobiliario de piso" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_mhjmpi_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".mhjmpi_rows_to_delete").remove();
                            $("#mhjmpi_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#mhjmpe_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "mujer hombre jr","mobiliario perimetral" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_mhjmpe_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".mhjmpe_rows_to_delete").remove();
                            $("#mhjmpe_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#mhjmpje_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "mujer hombre jr",""mobiliario perimetro jeans" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_mhjmpje_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".mhjmpje_rows_to_delete").remove();
                            $("#mhjmpje_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#mhjmpli_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "mujer hombre jr","mobiliario perimetro licencias" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_mhjmpli_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".mhjmpli_rows_to_delete").remove();
                            $("#mhjmpli_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#impi_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "interior mujer","mobiliario de piso" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_impi_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".impi_rows_to_delete").remove();
                            $("#impi_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#impe_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "interior mujer","mobiliario perimetral" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_impe_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".impe_rows_to_delete").remove();
                            $("#impe_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#imhe_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "interior mujer","herraje" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_imhe_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".imhe_rows_to_delete").remove();
                            $("#imhe_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#innpi_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "infantil ni√±o y ni√±a","mobiliario de piso" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_innpi_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".innpi_rows_to_delete").remove();
                            $("#innpi_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#innpe_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "infantil ni√±o y ni√±a","mobiliario perimetral" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_innpe_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".innpe_rows_to_delete").remove();
                            $("#innpe_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#tnnbpi_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "toddler ni√±o ni√±a y bebes","mobiliario de piso" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_tnnbpi_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".tnnbpi_rows_to_delete").remove();
                            $("#tnnbpi_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#tnnbpe_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "toddler ni√±o ni√±a y bebes","mobiliario perimetral" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_tnnbpe_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".tnnbpe_rows_to_delete").remove();
                            $("#tnnbpe_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#herna_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "herrajes" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_herna_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".herna_rows_to_delete").remove();
                            $("#herna_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#probmpi_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "probadores","mobiliario de piso" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_probmpi_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".probmpi_rows_to_delete").remove();
                            $("#probmpi_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#panmpi_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "paneles","mobiliario de piso" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_panmpi_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".panmpi_rows_to_delete").remove();
                            $("#panmpi_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#extmpi_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "extras","mobiliario de piso" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_extmpi_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".extmpi_rows_to_delete").remove();
                            $("#extmpi_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#imgp_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "imagen","pop" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_imgp_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".imgp_rows_to_delete").remove();
                            $("#imgp_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#imgm_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "imagen","maniquis" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_imgm_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".imgm_rows_to_delete").remove();
                            $("#imgm_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
    $("#ots_rows_delete").click(function() {
        var ordenpendiente = $('#ordenpendiente').val();
        $.confirm({
            title: 'Enviar a la papelera',
            content: 'Desea enviar los productos del departamento "otros" a la papelera?',
            buttons: {
                Aceptar: {
                    btnClass: 'btn-blue',
                    action: function() {
                        $.post("<?= base_url() ?>Dashboard/delete_all_from_ots_pdnt", {
                            "ordenpendiente": ordenpendiente
                        }).done(function() {
                            $(".ots_rows_to_delete").remove();
                            $("#ots_rows_delete").remove();
                            GetTotalent();

                            GetTotaldcmpi();
                            GetTotaldcmpe();

                            GetTotalmhjmpi();
                            GetTotalmhjmpe();
                            GetTotalmhjmpje();
                            GetTotalmhjmpli();

                            GetTotalimpi();
                            GetTotalimpe();
                            GetTotalimhe();

                            GetTotalinnpi();
                            GetTotalinnpe();

                            GetTotaltnnbpi();
                            GetTotaltnnbpe();

                            GetTotalherna();

                            GetTotalprobmpi();

                            GetTotalpanmpi();

                            GetTotalextmpi();

                            GetTotalpop();
                            GetTotalmaniquis();

                            GetTotalots();

                            calculamuebles();
                            calculaherrajes();
                            calculaextras();
                            calculapop();
                            calculamaniquis();
                            calculaotros();
                            calculatotalmueherextintytrapopman();
                            calculatotalentrevalorantespreciototal();
                            calculatotalmueherext();
                            calculatotalentrevalorantespreciototal2();
                            getanticipo();
                            gettotaliva();
                            getanticipoiva();
                            gettotaltiendatotal();
                            gettotaltiendaanticipo();
                            getfiniquito();
                            getPorcentajes();
                        }).fail(function() {
                            alert("Error al actualizar registros.");
                        });
                    }
                },
                Cancelar: function() {},
            }
        });
    });
</script>
<script type="text/javascript">
    $(".agregarcarro").click(function() {
        var idproducto = this.id;
        var res = idproducto.split("-");
        var id = res[1];
        $.post("<?= base_url() ?>Dashboard/agregarCarro", {
            "idproducto": id
        }).done(function(data) {});
    });
</script>
<script type="text/javascript">
    $(".generacompra").click(function() {
        var idproducto = this.id;
        var res = idproducto.split("-");
        var id = res[1];
        $.post("<?= base_url() ?>Dashboard/consultaCompraYRestableceInventario", {
            "idproducto": id
        }).done(function(data) {});
    });
</script>

<!--id="mostrar_generar_orden" onclick="mostrar()"-->
<!--id="boton_generar_orden" style="display: none"-->
<script type="text/javascript">
    function mostrar() {
        document.getElementById('boton_generar_orden').style.display = 'inline';
    }
</script>
<script type="text/javascript">
    function sumar() {
        try {
            var a = parseFloat(document.getElementsByName("precio").value) || 0,
                b = parseFloat(document.getElementsByName("pieza").value) || 0;
            document.getElementsByName("total").value = a + b;
        } catch (e) {}
    }
</script>
<script type="text/javascript">
    $(document).on('ready', constructor);

    function constructor() {
        sumarEntradas();
    }

    function sumarEntradas() {
        $('#contenido').on('change', '#valor1, #valor2', function() {
            var num1 = parseInt($('#valor1').val());
            var num2 = parseInt($('#valor2').val());
            if (isNaN(num1)) {
                num1 = 0;
            }
            if (isNaN(num2)) {
                num2 = 0;
            }
            $('#total').val(num1 * num2)
        })
    }
</script>
<!--
<script type="text/javascript">
    function insertarfilatablaentrada() {
        let tbldatosentrada = document.getElementById('contenidotablaentrada').insertRow(0);
        let col1 = tbldatosentrada.insertCell(0);
        let col2 = tbldatosentrada.insertCell(1);
        let col3 = tbldatosentrada.insertCell(2);
        let col4 = tbldatosentrada.insertCell(3);
        let col5 = tbldatosentrada.insertCell(4);
        let col6 = tbldatosentrada.insertCell(5);
        let col7 = tbldatosentrada.insertCell(6);
        let col8 = tbldatosentrada.insertCell(7);


        col1.innerHTML = 'Celda1';
        col2.innerHTML = 'Celda2';
        col3.innerHTML = 'Celda3';
        col4.innerHTML = 'Celda4';
        col5.innerHTML = 'Celda5';
        col6.innerHTML = 'Celda6';
        col7.innerHTML = 'Celda7';
        col8.innerHTML = 'Celda8';
    }
</script>
-->
<script>
    $(function() {
        $("#fecha_entrega").datepicker({
            dateFormat: 'dd/mm/yy',
            onSelect: function(dateText) {
                $("#fecha_entrega").val(dateText);
            }
        });
    });
</script>
<script type="text/javascript">
    $("#tienda").change(function() {
        var tienda = $("#tienda").val();
        $.ajax({
            type: "POST",
            url: "<?= base_url() ?>Dashboard/traerNumerodetienda",
            data: {
                tienda: tienda
            }
        }).done(function(response) {
            document.getElementById("areadatostienda").innerHTML = response;
            //console.log(response);
        });
        $("#panel_tienda").css("display", "inline");
    });
</script>
<script type="text/javascript">
    $("#tienda").change(function() {
        var tienda = $("#tienda").val();
        $.ajax({
            type: "POST",
            url: "<?= base_url() ?>Dashboard/traerm2detienda",
            data: {
                tienda: tienda
            }
        }).done(function(response) {
            document.getElementById("redultadom2").innerHTML = response;
            document.getElementById("redultadom2_2").innerHTML = response;
            //console.log(response);
        });
        $("#panel_tienda_m2").css("display", "inline");
    });
</script>
<script type="text/javascript">
    $("#tienda").change(function() {
        var tienda = $("#tienda").val();
        $.ajax({
            type: "POST",
            url: "<?= base_url() ?>Dashboard/traernumdetienda",
            data: {
                tienda: tienda
            }
        }).done(function(response) {
            document.getElementById("numtiendah2").innerHTML = response;
            //console.log(response);
        });
        $("#panel_tienda_numerotienda").css("display", "inline");
    });
</script>
<script type="text/javascript">
    $("#tienda").change(function() {
        var tienda = $("#tienda").val();
        $.ajax({
            type: "POST",
            url: "<?= base_url() ?>Dashboard/traercentrocostos",
            data: {
                tienda: tienda
            }
        }).done(function(response) {
            document.getElementById("cc_tnd").innerHTML = response;
            //console.log(response);
        });
        $("#centro_costos_tnd_after").css("display", "inline");
    });
</script>
<script type="text/javascript">
    $("#tienda").change(function() {
        var tienda = $("#tienda").val();
        $.ajax({
            type: "POST",
            url: "<?= base_url() ?>Dashboard/traerubicacion",
            data: {
                tienda: tienda
            }
        }).done(function(response) {
            document.getElementById("ubicacion_info").innerHTML = response;
            //console.log(response);
        });
        $("#ubicacion_span").css("display", "inline");
    });
</script>



<script type="text/javascript">
    $(document).ready(function() {
        setTimeout(function() {
            $("#traem2pendientes").trigger("click");
        }, 500);
    });
    $("#traem2pendientes").click(function() {
        var tienda = $("#tienda").val();
        $.ajax({
            type: "POST",
            url: "<?= base_url() ?>Dashboard/traerNumerodetienda",
            data: {
                tienda: tienda
            }
        }).done(function(response) {
            document.getElementById("areadatostienda").innerHTML = response;
            //console.log(response);
        });
        $("#panel_tienda").css("display", "inline");
    });
    $("#traem2pendientes").click(function() {
        var tienda = $("#tienda").val();
        $.ajax({
            type: "POST",
            url: "<?= base_url() ?>Dashboard/traerm2detienda",
            data: {
                tienda: tienda
            }
        }).done(function(response) {
            document.getElementById("redultadom2").innerHTML = response;
            document.getElementById("redultadom2_2").innerHTML = response;
            //console.log(response);
            setTimeout(function() {
                $("#calculam2pendientes").trigger("click");
            }, 500);
        });
        $("#panel_tienda_m2").css("display", "inline");
    });
    $("#traem2pendientes").click(function() {
        var tienda = $("#tienda").val();
        $.ajax({
            type: "POST",
            url: "<?= base_url() ?>Dashboard/traernumdetienda",
            data: {
                tienda: tienda
            }
        }).done(function(response) {
            document.getElementById("numtiendah2").innerHTML = response;
            //console.log(response);
        });
        $("#panel_tienda_numerotienda").css("display", "inline");
    });
    $("#traem2pendientes").click(function() {
        var tienda = $("#tienda").val();
        $.ajax({
            type: "POST",
            url: "<?= base_url() ?>Dashboard/traercentrocostos",
            data: {
                tienda: tienda
            }
        }).done(function(response) {
            document.getElementById("cc_tnd").innerHTML = response;
            //console.log('response');
        });
        $("#centro_costos_tnd_after").css("display", "inline");
    });
    $("#traem2pendientes").click(function() {
        var tienda = $("#tienda").val();
        $.ajax({
            type: "POST",
            url: "<?= base_url() ?>Dashboard/traerubicacion",
            data: {
                tienda: tienda
            }
        }).done(function(response) {
            document.getElementById("ubicacion_info").innerHTML = response;
            //console.log(response);
        });
        $("#ubicacion_span").css("display", "inline");
    });
</script>


<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 1000;
        $(".additembtnent").click(function() {
            i++;
            x++;
            $("#contenidotablaentrada").append(`
            <tr id="rowent` + i + `" style="justify-content: center; text-align: center" class="ent_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_ent` + i + `">
                    <input type="hidden" id="idnuevoentrada` + i + `" name="ident[]" value="" readonly>
                    <input type="hidden" id="idnuevoentrada2` + i + `" name="idnuevoent[]" value="" readonly>
                    <div id="btnguardarnuevoent` + i + `">
                        <i type="button" class="changecolorentrada btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_ent` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_ent" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_ent` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_ent" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_ent` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_ent" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_ent" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_ent" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_ent" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_ent" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_ent" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_ent" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_ent_[]" id="color_values_ent` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreent` + i + `" name="nombreent[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="entincluye[]" id="entincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_ent` + i + `" placeholder="sku" value="" name="sku_ent[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31ent` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33ent` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34ent` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezaent` + i + `" name="piezaent[]" oninput="Calcent(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadent` + i + `" name="unidadent[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioent` + i + `" name="precioent[]" oninput="Calcent(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesoent` + i + `" name="reprocesoent[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusent[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalent[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalent` + i + `" name="subtotalent[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesent` + i + `" name="observacionesent[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosent` + i + `" name="departamentosent[]" value="entrada">
                    <input type="hidden" id="subdepartamentosent` + i + `" name="subdepartamentosent[]" value="no aplica">
                    <input type="hidden" id="statusent` + i + `" name="statusent[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papentfilanueva` + i + `">
                        <i type="button" class="removeitembtnent fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorentrada', function() {
            var row_id2 = $(this).attr("id");
            var nombreent = document.getElementById('nombreent' + row_id2).value;
            var piezaent = document.getElementById('piezaent' + row_id2).value;
            var unidadent = document.getElementById('unidadent' + row_id2).value;
            var precioent = document.getElementById('precioent' + row_id2).value;
            var observacionesent = document.getElementById('observacionesent' + row_id2).value;
            var departamentosent = document.getElementById('departamentosent' + row_id2).value;
            var subdepartamentosent = document.getElementById('subdepartamentosent' + row_id2).value;
            var statusent = document.getElementById('statusent' + row_id2).value;
            var papentfilanueva = document.getElementById('papentfilanueva' + row_id2);
            var btnguardarnuevoent = document.getElementById('btnguardarnuevoent' + row_id2);
            var subtotalent = document.getElementById('subtotalent' + row_id2).value;
            var ordenvalueent = document.getElementById('ordenpdntvalue').value;
            var entincluye = document.getElementById('entincluye' + row_id2).value;
            var color_values_ent = document.getElementById('color_values_ent' + row_id2).value;
            var reprocesoent = document.getElementById('reprocesoent' + row_id2).value;

            var newcc31 = document.getElementById('newcc31ent' + row_id2).value;
            var newcc33 = document.getElementById('newcc33ent' + row_id2).value;
            var newcc34 = document.getElementById('newcc34ent' + row_id2).value;
            var new_sku = document.getElementById('new_sku_ent' + row_id2).value;

            if (nombreent == "" || piezaent == "" || piezaent == "0" || unidadent == "" || precioent == "" || precioent == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowent' + row_id2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoEntrada",
                    type: "post",
                    data: {
                        'nombreent': nombreent,
                        'unidadent': unidadent,
                        'piezaent': piezaent,
                        'precioent': precioent,
                        'observacionesent': observacionesent,
                        'departamentosent': departamentosent,
                        'subdepartamentosent': subdepartamentosent,
                        'statusent': statusent,
                        'entincluye': entincluye,
                        'reprocesoent': reprocesoent,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreent + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowent' + row_id2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoentrada' + row_id2).value = response2;
                        //papentfilanueva.style.display = 'none';
                        btnguardarnuevoent.style.display = 'none';

                        var idnuevoentrada = document.getElementById('idnuevoentrada' + row_id2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductoentpdnt",
                            type: "post",
                            data: {
                                'idnuevoentrada': idnuevoentrada,
                                'ordenvalueent': ordenvalueent,
                                'nombreent': nombreent,
                                'unidadent': unidadent,
                                'piezaent': piezaent,
                                'precioent': precioent,
                                'subtotalent': subtotalent,
                                'observacionesent': observacionesent,
                                'departamentosent': departamentosent,
                                'subdepartamentosent': subdepartamentosent,
                                'entincluye': entincluye,
                                'color_values_ent': color_values_ent,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoentrada2' + row_id2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31ent' + row_id2).prop('type', 'hidden');
                                        $('#newcc33ent' + row_id2).prop('type', 'hidden');
                                        $('#newcc34ent' + row_id2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_ent', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_ent' + row_color_div_id).show();
            $('#show_pallete_color_button_ent' + row_color_div_id).hide();
            $('#hide_pallete_color_button_ent' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_ent', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_ent' + row_color_div_id).hide();
            $('#hide_pallete_color_button_ent' + row_color_div_id).hide();
            $('#show_pallete_color_button_ent' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_ent', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_ent' + row_color_id).val(color);
            $('#color_prods_ent' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_ent' + row_color_id).hide();
        $('#show_pallete_color_button_ent' + row_color_id).show();
        $('#color_palete_ent' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_ent', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_ent' + row_color_id).val(color);
            $('#color_prods_ent' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_ent' + row_color_id).hide();
        $('#show_pallete_color_button_ent' + row_color_id).show();
        $('#color_palete_ent' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_ent', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_ent' + row_color_id).val(color);
            $('#color_prods_ent' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_ent' + row_color_id).hide();
        $('#show_pallete_color_button_ent' + row_color_id).show();
        $('#color_palete_ent' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_ent', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_ent' + row_color_id).val(color);
            $('#color_prods_ent' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_ent' + row_color_id).hide();
        $('#show_pallete_color_button_ent' + row_color_id).show();
        $('#color_palete_ent' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_ent', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_ent' + row_color_id).val(color);
            $('#color_prods_ent' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_ent' + row_color_id).hide();
        $('#show_pallete_color_button_ent' + row_color_id).show();
        $('#color_palete_ent' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_ent', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_ent' + row_color_id).val(color);
            $('#color_prods_ent' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_ent' + row_color_id).hide();
        $('#show_pallete_color_button_ent' + row_color_id).show();
        $('#color_palete_ent' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_ent', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_ent' + row_color_id).val(color);
            $('#color_prods_ent' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_ent' + row_color_id).hide();
        $('#show_pallete_color_button_ent' + row_color_id).show();
        $('#color_palete_ent' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnent', function() {
            var row_id = $(this).attr("id");
            $('#rowent' + row_id + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 2000;
        $(".additembtndcmpi").click(function() {
            i++;
            x++;
            $("#contenidotabladcmpi").append(`
            <tr id="rowdcmpi` + i + `" style="justify-content: center; text-align: center" class="dcmpi_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_dcmpi` + i + `">
                    <input type="hidden" id="idnuevodcmpi` + i + `" name="iddcmpi[]" value="" readonly>
                    <input type="hidden" id="idnuevodcmpi2` + i + `" name="idnuevodcmpi[]" value="" readonly>
                    <div id="btnguardarnuevodcmpi` + i + `">
                        <i type="button" class="changecolordcmpi btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_dcmpi` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_dcmpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_dcmpi` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_dcmpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_dcmpi` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_dcmpi" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_dcmpi" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_dcmpi" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_dcmpi" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_dcmpi" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_dcmpi" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_dcmpi" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_dcmpi_[]" id="color_values_dcmpi` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombredcmpi` + i + `" name="nombredcmpi[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="dcmpiincluye[]" id="dcmpiincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_dcmpi` + i + `" placeholder="sku" value="" name="sku_dcmpi[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31dcmpi` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33dcmpi` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34dcmpi` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezadcmpi` + i + `" name="piezadcmpi[]" oninput="Calcdcmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidaddcmpi` + i + `" name="unidaddcmpi[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="preciodcmpi` + i + `" name="preciodcmpi[]" oninput="Calcdcmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesodcmpi` + i + `" name="reprocesodcmpi[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusdcmpi[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotaldcmpi[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotaldcmpi` + i + `" name="subtotaldcmpi[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesdcmpi` + i + `" name="observacionesdcmpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosdcmpi` + i + `" name="departamentosdcmpi[]" value="dama y caballero">
                    <input type="hidden" id="subdepartamentosdcmpi` + i + `" name="subdepartamentosdcmpi[]" value="mobiliario de piso">
                    <input type="hidden" id="statusdcmpi` + i + `" name="statusdcmpi[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papdcmpifilanueva` + i + `">
                        <i type="button" class="removeitembtndcmpi fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolordcmpi', function() {
            var row_iddcmpi2 = $(this).attr("id");
            var nombredcmpi = document.getElementById('nombredcmpi' + row_iddcmpi2).value;
            var piezadcmpi = document.getElementById('piezadcmpi' + row_iddcmpi2).value;
            var unidaddcmpi = document.getElementById('unidaddcmpi' + row_iddcmpi2).value;
            var preciodcmpi = document.getElementById('preciodcmpi' + row_iddcmpi2).value;
            var observacionesdcmpi = document.getElementById('observacionesdcmpi' + row_iddcmpi2).value;
            var departamentosdcmpi = document.getElementById('departamentosdcmpi' + row_iddcmpi2).value;
            var subdepartamentosdcmpi = document.getElementById('subdepartamentosdcmpi' + row_iddcmpi2).value;
            var statusdcmpi = document.getElementById('statusdcmpi' + row_iddcmpi2).value;
            var papdcmpifilanueva = document.getElementById('papdcmpifilanueva' + row_iddcmpi2);
            var btnguardarnuevodcmpi = document.getElementById('btnguardarnuevodcmpi' + row_iddcmpi2);
            var subtotaldcmpi = document.getElementById('subtotaldcmpi' + row_iddcmpi2).value;
            var ordenvaluedcmpi = document.getElementById('ordenpdntvalue').value;
            var dcmpiincluye = document.getElementById('dcmpiincluye' + row_iddcmpi2).value;
            var color_values_dcmpi = document.getElementById('color_values_dcmpi' + row_iddcmpi2).value;
            var reprocesodcmpi = document.getElementById('reprocesodcmpi' + row_iddcmpi2).value;

            var newcc31 = document.getElementById('newcc31dcmpi' + row_iddcmpi2).value;
            var newcc33 = document.getElementById('newcc33dcmpi' + row_iddcmpi2).value;
            var newcc34 = document.getElementById('newcc34dcmpi' + row_iddcmpi2).value;
            var new_sku = document.getElementById('new_sku_dcmpi' + row_iddcmpi2).value;

            if (nombredcmpi == "" || piezadcmpi == "" || piezadcmpi == "0" || unidaddcmpi == "" || preciodcmpi == "" || preciodcmpi == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowdcmpi' + row_iddcmpi2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductodcmpi",
                    type: "post",
                    data: {
                        'nombredcmpi': nombredcmpi,
                        'unidaddcmpi': unidaddcmpi,
                        'piezadcmpi': piezadcmpi,
                        'preciodcmpi': preciodcmpi,
                        'observacionesdcmpi': observacionesdcmpi,
                        'departamentosdcmpi': departamentosdcmpi,
                        'subdepartamentosdcmpi': subdepartamentosdcmpi,
                        'statusdcmpi': statusdcmpi,
                        'dcmpiincluye': dcmpiincluye,
                        'reprocesodcmpi': reprocesodcmpi,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombredcmpi + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowdcmpi' + row_iddcmpi2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevodcmpi' + row_iddcmpi2).value = response2;
                        //papdcmpifilanueva.style.display = 'none';
                        btnguardarnuevodcmpi.style.display = 'none';

                        var idnuevodcmpi = document.getElementById('idnuevodcmpi' + row_iddcmpi2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductodcmpipdnt",
                            type: "post",
                            data: {
                                'idnuevodcmpi': idnuevodcmpi,
                                'ordenvaluedcmpi': ordenvaluedcmpi,
                                'nombredcmpi': nombredcmpi,
                                'unidaddcmpi': unidaddcmpi,
                                'piezadcmpi': piezadcmpi,
                                'preciodcmpi': preciodcmpi,
                                'subtotaldcmpi': subtotaldcmpi,
                                'observacionesdcmpi': observacionesdcmpi,
                                'departamentosdcmpi': departamentosdcmpi,
                                'subdepartamentosdcmpi': subdepartamentosdcmpi,
                                'dcmpiincluye': dcmpiincluye,
                                'color_values_dcmpi': color_values_dcmpi,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevodcmpi2' + row_iddcmpi2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31dcmpi' + row_iddcmpi2).prop('type', 'hidden');
                                        $('#newcc33dcmpi' + row_iddcmpi2).prop('type', 'hidden');
                                        $('#newcc34dcmpi' + row_iddcmpi2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_dcmpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_dcmpi' + row_color_div_id).show();
            $('#show_pallete_color_button_dcmpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_dcmpi' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_dcmpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_dcmpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_dcmpi' + row_color_div_id).hide();
            $('#show_pallete_color_button_dcmpi' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_dcmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_dcmpi' + row_color_id).val(color);
            $('#color_prods_dcmpi' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_dcmpi' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpi' + row_color_id).show();
        $('#color_palete_dcmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_dcmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_dcmpi' + row_color_id).val(color);
            $('#color_prods_dcmpi' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_dcmpi' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpi' + row_color_id).show();
        $('#color_palete_dcmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_dcmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_dcmpi' + row_color_id).val(color);
            $('#color_prods_dcmpi' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_dcmpi' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpi' + row_color_id).show();
        $('#color_palete_dcmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_dcmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_dcmpi' + row_color_id).val(color);
            $('#color_prods_dcmpi' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_dcmpi' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpi' + row_color_id).show();
        $('#color_palete_dcmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_dcmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_dcmpi' + row_color_id).val(color);
            $('#color_prods_dcmpi' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_dcmpi' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpi' + row_color_id).show();
        $('#color_palete_dcmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_dcmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_dcmpi' + row_color_id).val(color);
            $('#color_prods_dcmpi' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_dcmpi' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpi' + row_color_id).show();
        $('#color_palete_dcmpi' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_dcmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_dcmpi' + row_color_id).val(color);
            $('#color_prods_dcmpi' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_dcmpi' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpi' + row_color_id).show();
        $('#color_palete_dcmpi' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtndcmpi', function() {
            var row_iddcmpi = $(this).attr("id");
            $('#rowdcmpi' + row_iddcmpi + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 3000;
        $(".additembtndcmpe").click(function() {
            i++;
            x++;
            $("#contenidotabladcmpe").append(`
            <tr id="rowdcmpe` + i + `" style="justify-content: center; text-align: center" class="dcmpe_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_dcmpe` + i + `">
                    <input type="hidden" id="idnuevodcmpe` + i + `" name="iddcmpe[]" value="" readonly>
                    <input type="hidden" id="idnuevodcmpe2` + i + `" name="idnuevodcmpe[]" value="" readonly>
                    <div id="btnguardarnuevodcmpe` + i + `">
                        <i type="button" class="changecolordcmpe btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_dcmpe` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_dcmpe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_dcmpe` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_dcmpe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_dcmpe` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_dcmpe" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_dcmpe" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_dcmpe" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_dcmpe" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_dcmpe" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_dcmpe" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_dcmpe" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_dcmpe_[]" id="color_values_dcmpe` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombredcmpe` + i + `" name="nombredcmpe[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="dcmpeincluye[]" id="dcmpeincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_dcmpe` + i + `" placeholder="sku" value="" name="sku_dcmpe[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31dcmpe` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33dcmpe` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34dcmpe` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezadcmpe` + i + `" name="piezadcmpe[]" oninput="Calcdcmpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidaddcmpe` + i + `" name="unidaddcmpe[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="preciodcmpe` + i + `" name="preciodcmpe[]" oninput="Calcdcmpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesodcmpe` + i + `" name="reprocesodcmpe[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusdcmpe[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotaldcmpe[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotaldcmpe` + i + `" name="subtotaldcmpe[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesdcmpe` + i + `" name="observacionesdcmpe[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosdcmpe` + i + `" name="departamentosdcmpe[]" value="dama y caballero">
                    <input type="hidden" id="subdepartamentosdcmpe` + i + `" name="subdepartamentosdcmpe[]" value="mobiliario perimetral">
                    <input type="hidden" id="statusdcmpe` + i + `" name="statusdcmpe[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papdcmpefilanueva` + i + `">
                        <i type="button" class="removeitembtndcmpe fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolordcmpe', function() {
            var row_iddcmpe2 = $(this).attr("id");
            var nombredcmpe = document.getElementById('nombredcmpe' + row_iddcmpe2).value;
            var piezadcmpe = document.getElementById('piezadcmpe' + row_iddcmpe2).value;
            var unidaddcmpe = document.getElementById('unidaddcmpe' + row_iddcmpe2).value;
            var preciodcmpe = document.getElementById('preciodcmpe' + row_iddcmpe2).value;
            var observacionesdcmpe = document.getElementById('observacionesdcmpe' + row_iddcmpe2).value;
            var departamentosdcmpe = document.getElementById('departamentosdcmpe' + row_iddcmpe2).value;
            var subdepartamentosdcmpe = document.getElementById('subdepartamentosdcmpe' + row_iddcmpe2).value;
            var statusdcmpe = document.getElementById('statusdcmpe' + row_iddcmpe2).value;
            var papdcmpefilanueva = document.getElementById('papdcmpefilanueva' + row_iddcmpe2);
            var btnguardarnuevodcmpe = document.getElementById('btnguardarnuevodcmpe' + row_iddcmpe2);
            var subtotaldcmpe = document.getElementById('subtotaldcmpe' + row_iddcmpe2).value;
            var ordenvaluedcmpe = document.getElementById('ordenpdntvalue').value;
            var dcmpeincluye = document.getElementById('dcmpeincluye' + row_iddcmpe2).value;
            var color_values_dcmpe = document.getElementById('color_values_dcmpe' + row_iddcmpe2).value;
            var reprocesodcmpe = document.getElementById('reprocesodcmpe' + row_iddcmpe2).value;

            var newcc31 = document.getElementById('newcc31dcmpe' + row_iddcmpe2).value;
            var newcc33 = document.getElementById('newcc33dcmpe' + row_iddcmpe2).value;
            var newcc34 = document.getElementById('newcc34dcmpe' + row_iddcmpe2).value;
            var new_sku = document.getElementById('new_sku_dcmpe' + row_iddcmpe2).value;

            if (nombredcmpe == "" || piezadcmpe == "" || piezadcmpe == "0" || unidaddcmpe == "" || preciodcmpe == "" || preciodcmpe == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowdcmpe' + row_iddcmpe2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductodcmpe",
                    type: "post",
                    data: {
                        'nombredcmpe': nombredcmpe,
                        'unidaddcmpe': unidaddcmpe,
                        'piezadcmpe': piezadcmpe,
                        'preciodcmpe': preciodcmpe,
                        'observacionesdcmpe': observacionesdcmpe,
                        'departamentosdcmpe': departamentosdcmpe,
                        'subdepartamentosdcmpe': subdepartamentosdcmpe,
                        'statusdcmpe': statusdcmpe,
                        'dcmpeincluye': dcmpeincluye,
                        'reprocesodcmpe': reprocesodcmpe,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombredcmpe + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowdcmpe' + row_iddcmpe2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevodcmpe' + row_iddcmpe2).value = response2;
                        //papdcmpefilanueva.style.display = 'none';
                        btnguardarnuevodcmpe.style.display = 'none';
                        var idnuevodcmpe = document.getElementById('idnuevodcmpe' + row_iddcmpe2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductodcmpepdnt",
                            type: "post",
                            data: {
                                'idnuevodcmpe': idnuevodcmpe,
                                'ordenvaluedcmpe': ordenvaluedcmpe,
                                'nombredcmpe': nombredcmpe,
                                'unidaddcmpe': unidaddcmpe,
                                'piezadcmpe': piezadcmpe,
                                'preciodcmpe': preciodcmpe,
                                'subtotaldcmpe': subtotaldcmpe,
                                'observacionesdcmpe': observacionesdcmpe,
                                'departamentosdcmpe': departamentosdcmpe,
                                'subdepartamentosdcmpe': subdepartamentosdcmpe,
                                'dcmpeincluye': dcmpeincluye,
                                'color_values_dcmpe': color_values_dcmpe,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevodcmpe2' + row_iddcmpe2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31dcmpe' + row_iddcmpe2).prop('type', 'hidden');
                                        $('#newcc33dcmpe' + row_iddcmpe2).prop('type', 'hidden');
                                        $('#newcc34dcmpe' + row_iddcmpe2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_dcmpe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_dcmpe' + row_color_div_id).show();
            $('#show_pallete_color_button_dcmpe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_dcmpe' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_dcmpe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_dcmpe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_dcmpe' + row_color_div_id).hide();
            $('#show_pallete_color_button_dcmpe' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_dcmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_dcmpe' + row_color_id).val(color);
            $('#color_prods_dcmpe' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_dcmpe' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpe' + row_color_id).show();
        $('#color_palete_dcmpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_dcmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_dcmpe' + row_color_id).val(color);
            $('#color_prods_dcmpe' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_dcmpe' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpe' + row_color_id).show();
        $('#color_palete_dcmpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_dcmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_dcmpe' + row_color_id).val(color);
            $('#color_prods_dcmpe' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_dcmpe' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpe' + row_color_id).show();
        $('#color_palete_dcmpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_dcmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_dcmpe' + row_color_id).val(color);
            $('#color_prods_dcmpe' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_dcmpe' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpe' + row_color_id).show();
        $('#color_palete_dcmpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_dcmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_dcmpe' + row_color_id).val(color);
            $('#color_prods_dcmpe' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_dcmpe' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpe' + row_color_id).show();
        $('#color_palete_dcmpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_dcmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_dcmpe' + row_color_id).val(color);
            $('#color_prods_dcmpe' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_dcmpe' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpe' + row_color_id).show();
        $('#color_palete_dcmpe' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_dcmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_dcmpe' + row_color_id).val(color);
            $('#color_prods_dcmpe' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_dcmpe' + row_color_id).hide();
        $('#show_pallete_color_button_dcmpe' + row_color_id).show();
        $('#color_palete_dcmpe' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtndcmpe', function() {
            var row_iddcmpe = $(this).attr("id");
            $('#rowdcmpe' + row_iddcmpe + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 4000;
        $(".additembtnmhjmpi").click(function() {
            i++;
            x++;
            $("#contenidotablamhjmpi").append(`
            <tr id="rowmhjmpi` + i + `" style="justify-content: center; text-align: center" class="mhjmpi_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_mhjmpi` + i + `">
                    <input type="hidden" id="idnuevomhjmpi` + i + `" name="idmhjmpi[]" value="" readonly>
                    <input type="hidden" id="idnuevomhjmpi2` + i + `" name="idnuevomhjmpi[]" value="" readonly>
                    <div id="btnguardarnuevomhjmpi` + i + `">
                        <i type="button" class="changecolormhjmpi btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_mhjmpi` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_mhjmpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_mhjmpi` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_mhjmpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_mhjmpi` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_mhjmpi" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_mhjmpi" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_mhjmpi" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_mhjmpi" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_mhjmpi" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_mhjmpi" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_mhjmpi" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_mhjmpi_[]" id="color_values_mhjmpi` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombremhjmpi` + i + `" name="nombremhjmpi[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="mhjmpiincluye[]" id="mhjmpiincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_mhjmpi` + i + `" placeholder="sku" value="" name="sku_mhjmpi[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31mhjmpi` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33mhjmpi` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34mhjmpi` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezamhjmpi` + i + `" name="piezamhjmpi[]" oninput="Calcmhjmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadmhjmpi` + i + `" name="unidadmhjmpi[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="preciomhjmpi` + i + `" name="preciomhjmpi[]" oninput="Calcmhjmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesomhjmpi` + i + `" name="reprocesomhjmpi[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusmhjmpi[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalmhjmpi[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalmhjmpi` + i + `" name="subtotalmhjmpi[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesmhjmpi` + i + `" name="observacionesmhjmpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosmhjmpi` + i + `" name="departamentosmhjmpi[]" value="mujer hombre jr">
                    <input type="hidden" id="subdepartamentosmhjmpi` + i + `" name="subdepartamentosmhjmpi[]" value="mobiliario de piso">
                    <input type="hidden" id="statusmhjmpi` + i + `" name="statusmhjmpi[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papmhjmpifilanueva` + i + `">
                        <i type="button" class="removeitembtnmhjmpi fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolormhjmpi', function() {
            var row_idmhjmpi2 = $(this).attr("id");
            var nombremhjmpi = document.getElementById('nombremhjmpi' + row_idmhjmpi2).value;
            var piezamhjmpi = document.getElementById('piezamhjmpi' + row_idmhjmpi2).value;
            var unidadmhjmpi = document.getElementById('unidadmhjmpi' + row_idmhjmpi2).value;
            var preciomhjmpi = document.getElementById('preciomhjmpi' + row_idmhjmpi2).value;
            var observacionesmhjmpi = document.getElementById('observacionesmhjmpi' + row_idmhjmpi2).value;
            var departamentosmhjmpi = document.getElementById('departamentosmhjmpi' + row_idmhjmpi2).value;
            var subdepartamentosmhjmpi = document.getElementById('subdepartamentosmhjmpi' + row_idmhjmpi2).value;
            var statusmhjmpi = document.getElementById('statusmhjmpi' + row_idmhjmpi2).value;
            var papmhjmpifilanueva = document.getElementById('papmhjmpifilanueva' + row_idmhjmpi2);
            var btnguardarnuevomhjmpi = document.getElementById('btnguardarnuevomhjmpi' + row_idmhjmpi2);
            var subtotalmhjmpi = document.getElementById('subtotalmhjmpi' + row_idmhjmpi2).value;
            var ordenvaluemhjmpi = document.getElementById('ordenpdntvalue').value;
            var mhjmpiincluye = document.getElementById('mhjmpiincluye' + row_idmhjmpi2).value;
            var color_values_mhjmpi = document.getElementById('color_values_mhjmpi' + row_idmhjmpi2).value;
            var reprocesomhjmpi = document.getElementById('reprocesomhjmpi' + row_idmhjmpi2).value;

            var newcc31 = document.getElementById('newcc31mhjmpi' + row_idmhjmpi2).value;
            var newcc33 = document.getElementById('newcc33mhjmpi' + row_idmhjmpi2).value;
            var newcc34 = document.getElementById('newcc34mhjmpi' + row_idmhjmpi2).value;
            var new_sku = document.getElementById('new_sku_mhjmpi' + row_idmhjmpi2).value;

            if (nombremhjmpi == "" || piezamhjmpi == "" || piezamhjmpi == "0" || unidadmhjmpi == "" || preciomhjmpi == "" || preciomhjmpi == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowmhjmpi' + row_idmhjmpi2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductomhjmpi",
                    type: "post",
                    data: {
                        'nombremhjmpi': nombremhjmpi,
                        'unidadmhjmpi': unidadmhjmpi,
                        'piezamhjmpi': piezamhjmpi,
                        'preciomhjmpi': preciomhjmpi,
                        'observacionesmhjmpi': observacionesmhjmpi,
                        'departamentosmhjmpi': departamentosmhjmpi,
                        'subdepartamentosmhjmpi': subdepartamentosmhjmpi,
                        'statusmhjmpi': statusmhjmpi,
                        'mhjmpiincluye': mhjmpiincluye,
                        'reprocesomhjmpi': reprocesomhjmpi,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombremhjmpi + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowmhjmpi' + row_idmhjmpi2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevomhjmpi' + row_idmhjmpi2).value = response2;
                        //papmhjmpifilanueva.style.display = 'none';
                        btnguardarnuevomhjmpi.style.display = 'none';

                        var idnuevomhjmpi = document.getElementById('idnuevomhjmpi' + row_idmhjmpi2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductomhjmpipdnt",
                            type: "post",
                            data: {
                                'idnuevomhjmpi': idnuevomhjmpi,
                                'ordenvaluemhjmpi': ordenvaluemhjmpi,
                                'nombremhjmpi': nombremhjmpi,
                                'unidadmhjmpi': unidadmhjmpi,
                                'piezamhjmpi': piezamhjmpi,
                                'preciomhjmpi': preciomhjmpi,
                                'subtotalmhjmpi': subtotalmhjmpi,
                                'observacionesmhjmpi': observacionesmhjmpi,
                                'departamentosmhjmpi': departamentosmhjmpi,
                                'subdepartamentosmhjmpi': subdepartamentosmhjmpi,
                                'mhjmpiincluye': mhjmpiincluye,
                                'color_values_mhjmpi': color_values_mhjmpi,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevomhjmpi2' + row_idmhjmpi2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31mhjmpi' + row_idmhjmpi2).prop('type', 'hidden');
                                        $('#newcc33mhjmpi' + row_idmhjmpi2).prop('type', 'hidden');
                                        $('#newcc34mhjmpi' + row_idmhjmpi2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_mhjmpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_mhjmpi' + row_color_div_id).show();
            $('#show_pallete_color_button_mhjmpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_mhjmpi' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_mhjmpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_mhjmpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_mhjmpi' + row_color_div_id).hide();
            $('#show_pallete_color_button_mhjmpi' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_mhjmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_mhjmpi' + row_color_id).val(color);
            $('#color_prods_mhjmpi' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_mhjmpi' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpi' + row_color_id).show();
        $('#color_palete_mhjmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_mhjmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_mhjmpi' + row_color_id).val(color);
            $('#color_prods_mhjmpi' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_mhjmpi' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpi' + row_color_id).show();
        $('#color_palete_mhjmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_mhjmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_mhjmpi' + row_color_id).val(color);
            $('#color_prods_mhjmpi' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_mhjmpi' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpi' + row_color_id).show();
        $('#color_palete_mhjmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_mhjmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_mhjmpi' + row_color_id).val(color);
            $('#color_prods_mhjmpi' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_mhjmpi' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpi' + row_color_id).show();
        $('#color_palete_mhjmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_mhjmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_mhjmpi' + row_color_id).val(color);
            $('#color_prods_mhjmpi' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_mhjmpi' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpi' + row_color_id).show();
        $('#color_palete_mhjmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_mhjmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_mhjmpi' + row_color_id).val(color);
            $('#color_prods_mhjmpi' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_mhjmpi' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpi' + row_color_id).show();
        $('#color_palete_mhjmpi' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_mhjmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_mhjmpi' + row_color_id).val(color);
            $('#color_prods_mhjmpi' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_mhjmpi' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpi' + row_color_id).show();
        $('#color_palete_mhjmpi' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnmhjmpi', function() {
            var row_idmhjmpi = $(this).attr("id");
            $('#rowmhjmpi' + row_idmhjmpi + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 5000;
        $(".additembtnmhjmpe").click(function() {
            i++;
            x++;
            $("#contenidotablamhjmpe").append(`
            <tr id="rowmhjmpe` + i + `" style="justify-content: center; text-align: center" class="mhjmpe_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_mhjmpe` + i + `">
                    <input type="hidden" id="idnuevomhjmpe` + i + `" name="idmhjmpe[]" value="" readonly>
                    <input type="hidden" id="idnuevomhjmpe2` + i + `" name="idnuevomhjmpe[]" value="" readonly>
                    <div id="btnguardarnuevomhjmpe` + i + `">
                        <i type="button" class="changecolormhjmpe btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_mhjmpe` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_mhjmpe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_mhjmpe` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_mhjmpe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_mhjmpe` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_mhjmpe" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_mhjmpe" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_mhjmpe" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_mhjmpe" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_mhjmpe" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_mhjmpe" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_mhjmpe" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_mhjmpe_[]" id="color_values_mhjmpe` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombremhjmpe` + i + `" name="nombremhjmpe[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="mhjmpeincluye[]" id="mhjmpeincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_mhjmpe` + i + `" placeholder="sku" value="" name="sku_mhjmpe[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31mhjmpe` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33mhjmpe` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34mhjmpe` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezamhjmpe` + i + `" name="piezamhjmpe[]" oninput="Calcmhjmpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadmhjmpe` + i + `" name="unidadmhjmpe[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="preciomhjmpe` + i + `" name="preciomhjmpe[]" oninput="Calcmhjmpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesomhjmpe` + i + `" name="reprocesomhjmpe[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusmhjmpe[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalmhjmpe[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalmhjmpe` + i + `" name="subtotalmhjmpe[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesmhjmpe` + i + `" name="observacionesmhjmpe[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosmhjmpe` + i + `" name="departamentosmhjmpe[]" value="mujer hombre jr">
                    <input type="hidden" id="subdepartamentosmhjmpe` + i + `" name="subdepartamentosmhjmpe[]" value="mobiliario perimetral">
                    <input type="hidden" id="statusmhjmpe` + i + `" name="statusmhjmpe[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papmhjmpefilanueva` + i + `">
                        <i type="button" class="removeitembtnmhjmpe fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolormhjmpe', function() {
            var row_idmhjmpe2 = $(this).attr("id");
            var nombremhjmpe = document.getElementById('nombremhjmpe' + row_idmhjmpe2).value;
            var piezamhjmpe = document.getElementById('piezamhjmpe' + row_idmhjmpe2).value;
            var unidadmhjmpe = document.getElementById('unidadmhjmpe' + row_idmhjmpe2).value;
            var preciomhjmpe = document.getElementById('preciomhjmpe' + row_idmhjmpe2).value;
            var observacionesmhjmpe = document.getElementById('observacionesmhjmpe' + row_idmhjmpe2).value;
            var departamentosmhjmpe = document.getElementById('departamentosmhjmpe' + row_idmhjmpe2).value;
            var subdepartamentosmhjmpe = document.getElementById('subdepartamentosmhjmpe' + row_idmhjmpe2).value;
            var statusmhjmpe = document.getElementById('statusmhjmpe' + row_idmhjmpe2).value;
            var papmhjmpefilanueva = document.getElementById('papmhjmpefilanueva' + row_idmhjmpe2);
            var btnguardarnuevomhjmpe = document.getElementById('btnguardarnuevomhjmpe' + row_idmhjmpe2);
            var subtotalmhjmpe = document.getElementById('subtotalmhjmpe' + row_idmhjmpe2).value;
            var ordenvaluemhjmpe = document.getElementById('ordenpdntvalue').value;
            var mhjmpeincluye = document.getElementById('mhjmpeincluye' + row_idmhjmpe2).value;
            var color_values_mhjmpe = document.getElementById('color_values_mhjmpe' + row_idmhjmpe2).value;
            var reprocesomhjmpe = document.getElementById('reprocesomhjmpe' + row_idmhjmpe2).value;

            var newcc31 = document.getElementById('newcc31mhjmpe' + row_idmhjmpe2).value;
            var newcc33 = document.getElementById('newcc33mhjmpe' + row_idmhjmpe2).value;
            var newcc34 = document.getElementById('newcc34mhjmpe' + row_idmhjmpe2).value;
            var new_sku = document.getElementById('new_sku_mhjmpe' + row_idmhjmpe2).value;

            if (nombremhjmpe == "" || piezamhjmpe == "" || piezamhjmpe == "0" || unidadmhjmpe == "" || preciomhjmpe == "" || preciomhjmpe == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowmhjmpe' + row_idmhjmpe2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductomhjmpe",
                    type: "post",
                    data: {
                        'nombremhjmpe': nombremhjmpe,
                        'unidadmhjmpe': unidadmhjmpe,
                        'piezamhjmpe': piezamhjmpe,
                        'preciomhjmpe': preciomhjmpe,
                        'observacionesmhjmpe': observacionesmhjmpe,
                        'departamentosmhjmpe': departamentosmhjmpe,
                        'subdepartamentosmhjmpe': subdepartamentosmhjmpe,
                        'statusmhjmpe': statusmhjmpe,
                        'mhjmpeincluye': mhjmpeincluye,
                        'reprocesomhjmpe': reprocesomhjmpe,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombremhjmpe + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowmhjmpe' + row_idmhjmpe2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevomhjmpe' + row_idmhjmpe2).value = response2;
                        //papmhjmpefilanueva.style.display = 'none';
                        btnguardarnuevomhjmpe.style.display = 'none';

                        var idnuevomhjmpe = document.getElementById('idnuevomhjmpe' + row_idmhjmpe2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductomhjmpepdnt",
                            type: "post",
                            data: {
                                'idnuevomhjmpe': idnuevomhjmpe,
                                'ordenvaluemhjmpe': ordenvaluemhjmpe,
                                'nombremhjmpe': nombremhjmpe,
                                'unidadmhjmpe': unidadmhjmpe,
                                'piezamhjmpe': piezamhjmpe,
                                'preciomhjmpe': preciomhjmpe,
                                'subtotalmhjmpe': subtotalmhjmpe,
                                'observacionesmhjmpe': observacionesmhjmpe,
                                'departamentosmhjmpe': departamentosmhjmpe,
                                'subdepartamentosmhjmpe': subdepartamentosmhjmpe,
                                'mhjmpeincluye': mhjmpeincluye,
                                'color_values_mhjmpe': color_values_mhjmpe,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevomhjmpe2' + row_idmhjmpe2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31mhjmpe' + row_idmhjmpe2).prop('type', 'hidden');
                                        $('#newcc33mhjmpe' + row_idmhjmpe2).prop('type', 'hidden');
                                        $('#newcc34mhjmpe' + row_idmhjmpe2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_mhjmpe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_mhjmpe' + row_color_div_id).show();
            $('#show_pallete_color_button_mhjmpe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_mhjmpe' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_mhjmpe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_mhjmpe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_mhjmpe' + row_color_div_id).hide();
            $('#show_pallete_color_button_mhjmpe' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_mhjmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_mhjmpe' + row_color_id).val(color);
            $('#color_prods_mhjmpe' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_mhjmpe' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpe' + row_color_id).show();
        $('#color_palete_mhjmpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_mhjmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_mhjmpe' + row_color_id).val(color);
            $('#color_prods_mhjmpe' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_mhjmpe' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpe' + row_color_id).show();
        $('#color_palete_mhjmpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_mhjmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_mhjmpe' + row_color_id).val(color);
            $('#color_prods_mhjmpe' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_mhjmpe' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpe' + row_color_id).show();
        $('#color_palete_mhjmpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_mhjmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_mhjmpe' + row_color_id).val(color);
            $('#color_prods_mhjmpe' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_mhjmpe' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpe' + row_color_id).show();
        $('#color_palete_mhjmpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_mhjmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_mhjmpe' + row_color_id).val(color);
            $('#color_prods_mhjmpe' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_mhjmpe' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpe' + row_color_id).show();
        $('#color_palete_mhjmpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_mhjmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_mhjmpe' + row_color_id).val(color);
            $('#color_prods_mhjmpe' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_mhjmpe' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpe' + row_color_id).show();
        $('#color_palete_mhjmpe' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_mhjmpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_mhjmpe' + row_color_id).val(color);
            $('#color_prods_mhjmpe' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_mhjmpe' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpe' + row_color_id).show();
        $('#color_palete_mhjmpe' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnmhjmpe', function() {
            var row_idmhjmpe = $(this).attr("id");
            $('#rowmhjmpe' + row_idmhjmpe + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 6000;
        $(".additembtnmhjmpje").click(function() {
            i++;
            x++;
            $("#contenidotablamhjmpje").append(`
            <tr id="rowmhjmpje` + i + `" style="justify-content: center; text-align: center" class="mhjmpje_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_mhjmpje` + i + `">
                    <input type="hidden" id="idnuevomhjmpje` + i + `" name="idmhjmpje[]" value="" readonly>
                    <input type="hidden" id="idnuevomhjmpje2` + i + `" name="idnuevomhjmpje[]" value="" readonly>
                    <div id="btnguardarnuevomhjmpje` + i + `">
                        <i type="button" class="changecolormhjmpje btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_mhjmpje` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_mhjmpje" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_mhjmpje` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_mhjmpje" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_mhjmpje` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_mhjmpje" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_mhjmpje" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_mhjmpje" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_mhjmpje" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_mhjmpje" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_mhjmpje" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_mhjmpje" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_mhjmpje_[]" id="color_values_mhjmpje` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombremhjmpje` + i + `" name="nombremhjmpje[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="mhjmpjeincluye[]" id="mhjmpjeincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_mhjmpje` + i + `" placeholder="sku" value="" name="sku_mhjmpje[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31mhjmpje` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33mhjmpje` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34mhjmpje` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezamhjmpje` + i + `" name="piezamhjmpje[]" oninput="Calcmhjmpje(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadmhjmpje` + i + `" name="unidadmhjmpje[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="preciomhjmpje` + i + `" name="preciomhjmpje[]" oninput="Calcmhjmpje(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesomhjmpje` + i + `" name="reprocesomhjmpje[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusmhjmpje[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalmhjmpje[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalmhjmpje` + i + `" name="subtotalmhjmpje[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesmhjmpje` + i + `" name="observacionesmhjmpje[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosmhjmpje` + i + `" name="departamentosmhjmpje[]" value="mujer hombre jr">
                    <input type="hidden" id="subdepartamentosmhjmpje` + i + `" name="subdepartamentosmhjmpje[]" value="mobiliario perimetro jeans">
                    <input type="hidden" id="statusmhjmpje` + i + `" name="statusmhjmpje[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papmhjmpjefilanueva` + i + `">
                        <i type="button" class="removeitembtnmhjmpje fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolormhjmpje', function() {
            var row_idmhjmpje2 = $(this).attr("id");
            var nombremhjmpje = document.getElementById('nombremhjmpje' + row_idmhjmpje2).value;
            var piezamhjmpje = document.getElementById('piezamhjmpje' + row_idmhjmpje2).value;
            var unidadmhjmpje = document.getElementById('unidadmhjmpje' + row_idmhjmpje2).value;
            var preciomhjmpje = document.getElementById('preciomhjmpje' + row_idmhjmpje2).value;
            var observacionesmhjmpje = document.getElementById('observacionesmhjmpje' + row_idmhjmpje2).value;
            var departamentosmhjmpje = document.getElementById('departamentosmhjmpje' + row_idmhjmpje2).value;
            var subdepartamentosmhjmpje = document.getElementById('subdepartamentosmhjmpje' + row_idmhjmpje2).value;
            var statusmhjmpje = document.getElementById('statusmhjmpje' + row_idmhjmpje2).value;
            var papmhjmpjefilanueva = document.getElementById('papmhjmpjefilanueva' + row_idmhjmpje2);
            var btnguardarnuevomhjmpje = document.getElementById('btnguardarnuevomhjmpje' + row_idmhjmpje2);
            var subtotalmhjmpje = document.getElementById('subtotalmhjmpje' + row_idmhjmpje2).value;
            var ordenvaluemhjmpje = document.getElementById('ordenpdntvalue').value;
            var mhjmpjeincluye = document.getElementById('mhjmpjeincluye' + row_idmhjmpje2).value;
            var color_values_mhjmpje = document.getElementById('color_values_mhjmpje' + row_idmhjmpje2).value;
            var reprocesomhjmpje = document.getElementById('reprocesomhjmpje' + row_idmhjmpje2).value;

            var newcc31 = document.getElementById('newcc31mhjmpje' + row_idmhjmpje2).value;
            var newcc33 = document.getElementById('newcc33mhjmpje' + row_idmhjmpje2).value;
            var newcc34 = document.getElementById('newcc34mhjmpje' + row_idmhjmpje2).value;
            var new_sku = document.getElementById('new_sku_mhjmpje' + row_idmhjmpje2).value;

            if (nombremhjmpje == "" || piezamhjmpje == "" || piezamhjmpje == "0" || unidadmhjmpje == "" || preciomhjmpje == "" || preciomhjmpje == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowmhjmpje' + row_idmhjmpje2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductomhjmpje",
                    type: "post",
                    data: {
                        'nombremhjmpje': nombremhjmpje,
                        'unidadmhjmpje': unidadmhjmpje,
                        'piezamhjmpje': piezamhjmpje,
                        'preciomhjmpje': preciomhjmpje,
                        'observacionesmhjmpje': observacionesmhjmpje,
                        'departamentosmhjmpje': departamentosmhjmpje,
                        'subdepartamentosmhjmpje': subdepartamentosmhjmpje,
                        'statusmhjmpje': statusmhjmpje,
                        'mhjmpjeincluye': mhjmpjeincluye,
                        'reprocesomhjmpje': reprocesomhjmpje,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombremhjmpje + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowmhjmpje' + row_idmhjmpje2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevomhjmpje' + row_idmhjmpje2).value = response2;
                        //papmhjmpjefilanueva.style.display = 'none';
                        btnguardarnuevomhjmpje.style.display = 'none';
                        var idnuevomhjmpje = document.getElementById('idnuevomhjmpje' + row_idmhjmpje2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductomhjmpjepdnt",
                            type: "post",
                            data: {
                                'idnuevomhjmpje': idnuevomhjmpje,
                                'ordenvaluemhjmpje': ordenvaluemhjmpje,
                                'nombremhjmpje': nombremhjmpje,
                                'unidadmhjmpje': unidadmhjmpje,
                                'piezamhjmpje': piezamhjmpje,
                                'preciomhjmpje': preciomhjmpje,
                                'subtotalmhjmpje': subtotalmhjmpje,
                                'observacionesmhjmpje': observacionesmhjmpje,
                                'departamentosmhjmpje': departamentosmhjmpje,
                                'subdepartamentosmhjmpje': subdepartamentosmhjmpje,
                                'mhjmpjeincluye': mhjmpjeincluye,
                                'color_values_mhjmpje': color_values_mhjmpje,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevomhjmpje2' + row_idmhjmpje2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31mhjmpje' + row_idmhjmpje2).prop('type', 'hidden');
                                        $('#newcc33mhjmpje' + row_idmhjmpje2).prop('type', 'hidden');
                                        $('#newcc34mhjmpje' + row_idmhjmpje2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_mhjmpje', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_mhjmpje' + row_color_div_id).show();
            $('#show_pallete_color_button_mhjmpje' + row_color_div_id).hide();
            $('#hide_pallete_color_button_mhjmpje' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_mhjmpje', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_mhjmpje' + row_color_div_id).hide();
            $('#hide_pallete_color_button_mhjmpje' + row_color_div_id).hide();
            $('#show_pallete_color_button_mhjmpje' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_mhjmpje', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_mhjmpje' + row_color_id).val(color);
            $('#color_prods_mhjmpje' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_mhjmpje' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpje' + row_color_id).show();
        $('#color_palete_mhjmpje' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_mhjmpje', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_mhjmpje' + row_color_id).val(color);
            $('#color_prods_mhjmpje' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_mhjmpje' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpje' + row_color_id).show();
        $('#color_palete_mhjmpje' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_mhjmpje', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_mhjmpje' + row_color_id).val(color);
            $('#color_prods_mhjmpje' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_mhjmpje' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpje' + row_color_id).show();
        $('#color_palete_mhjmpje' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_mhjmpje', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_mhjmpje' + row_color_id).val(color);
            $('#color_prods_mhjmpje' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_mhjmpje' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpje' + row_color_id).show();
        $('#color_palete_mhjmpje' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_mhjmpje', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_mhjmpje' + row_color_id).val(color);
            $('#color_prods_mhjmpje' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_mhjmpje' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpje' + row_color_id).show();
        $('#color_palete_mhjmpje' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_mhjmpje', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_mhjmpje' + row_color_id).val(color);
            $('#color_prods_mhjmpje' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_mhjmpje' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpje' + row_color_id).show();
        $('#color_palete_mhjmpje' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_mhjmpje', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_mhjmpje' + row_color_id).val(color);
            $('#color_prods_mhjmpje' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_mhjmpje' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpje' + row_color_id).show();
        $('#color_palete_mhjmpje' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnmhjmpje', function() {
            var row_idmhjmpje = $(this).attr("id");
            $('#rowmhjmpje' + row_idmhjmpje + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 7000;
        $(".additembtnmhjmpli").click(function() {
            i++;
            x++;
            $("#contenidotablamhjmpli").append(`
            <tr id="rowmhjmpli` + i + `" style="justify-content: center; text-align: center" class="mhjmpli_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_mhjmpli` + i + `">
                    <input type="hidden" id="idnuevomhjmpli` + i + `" name="idmhjmpli[]" value="" readonly>
                    <input type="hidden" id="idnuevomhjmpli2` + i + `" name="idnuevomhjmpli[]" value="" readonly>
                    <div id="btnguardarnuevomhjmpli` + i + `">
                        <i type="button" class="changecolormhjmpli btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_mhjmpli` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_mhjmpli" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_mhjmpli` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_mhjmpli" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_mhjmpli` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_mhjmpli" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_mhjmpli" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_mhjmpli" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_mhjmpli" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_mhjmpli" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_mhjmpli" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_mhjmpli" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_mhjmpli_[]" id="color_values_mhjmpli` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombremhjmpli` + i + `" name="nombremhjmpli[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="mhjmpliincluye[]" id="mhjmpliincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_mhjmpli` + i + `" placeholder="sku" value="" name="sku_mhjmpli[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31mhjmpli` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33mhjmpli` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34mhjmpli` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezamhjmpli` + i + `" name="piezamhjmpli[]" oninput="Calcmhjmpli(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadmhjmpli` + i + `" name="unidadmhjmpli[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="preciomhjmpli` + i + `" name="preciomhjmpli[]" oninput="Calcmhjmpli(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesomhjmpli` + i + `" name="reprocesomhjmpli[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusmhjmpli[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalmhjmpli[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalmhjmpli` + i + `" name="subtotalmhjmpli[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesmhjmpli` + i + `" name="observacionesmhjmpli[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosmhjmpli` + i + `" name="departamentosmhjmpli[]" value="mujer hombre jr">
                    <input type="hidden" id="subdepartamentosmhjmpli` + i + `" name="subdepartamentosmhjmpli[]" value="mobiliario perimetro licencias">
                    <input type="hidden" id="statusmhjmpli` + i + `" name="statusmhjmpli[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papmhjmplifilanueva` + i + `">
                        <i type="button" class="removeitembtnmhjmpli fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolormhjmpli', function() {
            var row_idmhjmpli2 = $(this).attr("id");
            var nombremhjmpli = document.getElementById('nombremhjmpli' + row_idmhjmpli2).value;
            var piezamhjmpli = document.getElementById('piezamhjmpli' + row_idmhjmpli2).value;
            var unidadmhjmpli = document.getElementById('unidadmhjmpli' + row_idmhjmpli2).value;
            var preciomhjmpli = document.getElementById('preciomhjmpli' + row_idmhjmpli2).value;
            var observacionesmhjmpli = document.getElementById('observacionesmhjmpli' + row_idmhjmpli2).value;
            var departamentosmhjmpli = document.getElementById('departamentosmhjmpli' + row_idmhjmpli2).value;
            var subdepartamentosmhjmpli = document.getElementById('subdepartamentosmhjmpli' + row_idmhjmpli2).value;
            var statusmhjmpli = document.getElementById('statusmhjmpli' + row_idmhjmpli2).value;
            var papmhjmplifilanueva = document.getElementById('papmhjmplifilanueva' + row_idmhjmpli2);
            var btnguardarnuevomhjmpli = document.getElementById('btnguardarnuevomhjmpli' + row_idmhjmpli2);
            var subtotalmhjmpli = document.getElementById('subtotalmhjmpli' + row_idmhjmpli2).value;
            var ordenvaluemhjmpli = document.getElementById('ordenpdntvalue').value;
            var mhjmpliincluye = document.getElementById('mhjmpliincluye' + row_idmhjmpli2).value;
            var color_values_mhjmpli = document.getElementById('color_values_mhjmpli' + row_idmhjmpli2).value;
            var reprocesomhjmpli = document.getElementById('reprocesomhjmpli' + row_idmhjmpli2).value;

            var newcc31 = document.getElementById('newcc31mhjmpli' + row_idmhjmpli2).value;
            var newcc33 = document.getElementById('newcc33mhjmpli' + row_idmhjmpli2).value;
            var newcc34 = document.getElementById('newcc34mhjmpli' + row_idmhjmpli2).value;
            var new_sku = document.getElementById('new_sku_mhjmpli' + row_idmhjmpli2).value;

            if (nombremhjmpli == "" || piezamhjmpli == "" || piezamhjmpli == "0" || unidadmhjmpli == "" || preciomhjmpli == "" || preciomhjmpli == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowmhjmpli' + row_idmhjmpli2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductomhjmpli",
                    type: "post",
                    data: {
                        'nombremhjmpli': nombremhjmpli,
                        'unidadmhjmpli': unidadmhjmpli,
                        'piezamhjmpli': piezamhjmpli,
                        'preciomhjmpli': preciomhjmpli,
                        'observacionesmhjmpli': observacionesmhjmpli,
                        'departamentosmhjmpli': departamentosmhjmpli,
                        'subdepartamentosmhjmpli': subdepartamentosmhjmpli,
                        'statusmhjmpli': statusmhjmpli,
                        'mhjmpliincluye': mhjmpliincluye,
                        'reprocesomhjmpli': reprocesomhjmpli,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombremhjmpli + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowmhjmpli' + row_idmhjmpli2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevomhjmpli' + row_idmhjmpli2).value = response2;
                        //papmhjmplifilanueva.style.display = 'none';
                        btnguardarnuevomhjmpli.style.display = 'none';
                        var idnuevomhjmpli = document.getElementById('idnuevomhjmpli' + row_idmhjmpli2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductomhjmplipdnt",
                            type: "post",
                            data: {
                                'idnuevomhjmpli': idnuevomhjmpli,
                                'ordenvaluemhjmpli': ordenvaluemhjmpli,
                                'nombremhjmpli': nombremhjmpli,
                                'unidadmhjmpli': unidadmhjmpli,
                                'piezamhjmpli': piezamhjmpli,
                                'preciomhjmpli': preciomhjmpli,
                                'subtotalmhjmpli': subtotalmhjmpli,
                                'observacionesmhjmpli': observacionesmhjmpli,
                                'departamentosmhjmpli': departamentosmhjmpli,
                                'subdepartamentosmhjmpli': subdepartamentosmhjmpli,
                                'mhjmpliincluye': mhjmpliincluye,
                                'color_values_mhjmpli': color_values_mhjmpli,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevomhjmpli2' + row_idmhjmpli2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31mhjmpli' + row_idmhjmpli2).prop('type', 'hidden');
                                        $('#newcc33mhjmpli' + row_idmhjmpli2).prop('type', 'hidden');
                                        $('#newcc34mhjmpli' + row_idmhjmpli2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_mhjmpli', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_mhjmpli' + row_color_div_id).show();
            $('#show_pallete_color_button_mhjmpli' + row_color_div_id).hide();
            $('#hide_pallete_color_button_mhjmpli' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_mhjmpli', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_mhjmpli' + row_color_div_id).hide();
            $('#hide_pallete_color_button_mhjmpli' + row_color_div_id).hide();
            $('#show_pallete_color_button_mhjmpli' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_mhjmpli', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_mhjmpli' + row_color_id).val(color);
            $('#color_prods_mhjmpli' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_mhjmpli' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpli' + row_color_id).show();
        $('#color_palete_mhjmpli' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_mhjmpli', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_mhjmpli' + row_color_id).val(color);
            $('#color_prods_mhjmpli' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_mhjmpli' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpli' + row_color_id).show();
        $('#color_palete_mhjmpli' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_mhjmpli', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_mhjmpli' + row_color_id).val(color);
            $('#color_prods_mhjmpli' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_mhjmpli' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpli' + row_color_id).show();
        $('#color_palete_mhjmpli' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_mhjmpli', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_mhjmpli' + row_color_id).val(color);
            $('#color_prods_mhjmpli' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_mhjmpli' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpli' + row_color_id).show();
        $('#color_palete_mhjmpli' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_mhjmpli', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_mhjmpli' + row_color_id).val(color);
            $('#color_prods_mhjmpli' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_mhjmpli' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpli' + row_color_id).show();
        $('#color_palete_mhjmpli' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_mhjmpli', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_mhjmpli' + row_color_id).val(color);
            $('#color_prods_mhjmpli' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_mhjmpli' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpli' + row_color_id).show();
        $('#color_palete_mhjmpli' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_mhjmpli', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_mhjmpli' + row_color_id).val(color);
            $('#color_prods_mhjmpli' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_mhjmpli' + row_color_id).hide();
        $('#show_pallete_color_button_mhjmpli' + row_color_id).show();
        $('#color_palete_mhjmpli' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnmhjmpli', function() {
            var row_idmhjmpli = $(this).attr("id");
            $('#rowmhjmpli' + row_idmhjmpli + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 8000;
        $(".additembtnimpi").click(function() {
            i++;
            x++;
            $("#contenidotablaimpi").append(`
            <tr id="rowimpi` + i + `" style="justify-content: center; text-align: center" class="impi_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_impi` + i + `">
                    <input type="hidden" id="idnuevoimpi` + i + `" name="idimpi[]" value="" readonly>
                    <input type="hidden" id="idnuevoimpi2` + i + `" name="idnuevoimpi[]" value="" readonly>
                    <div id="btnguardarnuevoimpi` + i + `">
                        <i type="button" class="changecolorimpi btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_impi` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_impi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_impi` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_impi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_impi` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_impi" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_impi" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_impi" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_impi" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_impi" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_impi" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_impi" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_impi_[]" id="color_values_impi` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreimpi` + i + `" name="nombreimpi[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="impiincluye[]" id="impiincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_impi` + i + `" placeholder="sku" value="" name="sku_impi[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31impi` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33impi` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34impi` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezaimpi` + i + `" name="piezaimpi[]" oninput="Calcimpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadimpi` + i + `" name="unidadimpi[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioimpi` + i + `" name="precioimpi[]" oninput="Calcimpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesoimpi` + i + `" name="reprocesoimpi[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusimpi[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalimpi[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalimpi` + i + `" name="subtotalimpi[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesimpi` + i + `" name="observacionesimpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosimpi` + i + `" name="departamentosimpi[]" value="interior mujer">
                    <input type="hidden" id="subdepartamentosimpi` + i + `" name="subdepartamentosimpi[]" value="mobiliario de piso">
                    <input type="hidden" id="statusimpi` + i + `" name="statusimpi[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papimpifilanueva` + i + `">
                        <i type="button" class="removeitembtnimpi fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorimpi', function() {
            var row_idimpi2 = $(this).attr("id");
            var nombreimpi = document.getElementById('nombreimpi' + row_idimpi2).value;
            var piezaimpi = document.getElementById('piezaimpi' + row_idimpi2).value;
            var unidadimpi = document.getElementById('unidadimpi' + row_idimpi2).value;
            var precioimpi = document.getElementById('precioimpi' + row_idimpi2).value;
            var observacionesimpi = document.getElementById('observacionesimpi' + row_idimpi2).value;
            var departamentosimpi = document.getElementById('departamentosimpi' + row_idimpi2).value;
            var subdepartamentosimpi = document.getElementById('subdepartamentosimpi' + row_idimpi2).value;
            var statusimpi = document.getElementById('statusimpi' + row_idimpi2).value;
            var papimpifilanueva = document.getElementById('papimpifilanueva' + row_idimpi2);
            var btnguardarnuevoimpi = document.getElementById('btnguardarnuevoimpi' + row_idimpi2);
            var subtotalimpi = document.getElementById('subtotalimpi' + row_idimpi2).value;
            var ordenvalueimpi = document.getElementById('ordenpdntvalue').value;
            var impiincluye = document.getElementById('impiincluye' + row_idimpi2).value;
            var color_values_impi = document.getElementById('color_values_impi' + row_idimpi2).value;
            var reprocesoimpi = document.getElementById('reprocesoimpi' + row_idimpi2).value;

            var newcc31 = document.getElementById('newcc31impi' + row_idimpi2).value;
            var newcc33 = document.getElementById('newcc33impi' + row_idimpi2).value;
            var newcc34 = document.getElementById('newcc34impi' + row_idimpi2).value;
            var new_sku = document.getElementById('new_sku_impi' + row_idimpi2).value;

            if (nombreimpi == "" || piezaimpi == "" || piezaimpi == "0" || unidadimpi == "" || precioimpi == "" || precioimpi == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowimpi' + row_idimpi2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoimpi",
                    type: "post",
                    data: {
                        'nombreimpi': nombreimpi,
                        'unidadimpi': unidadimpi,
                        'piezaimpi': piezaimpi,
                        'precioimpi': precioimpi,
                        'observacionesimpi': observacionesimpi,
                        'departamentosimpi': departamentosimpi,
                        'subdepartamentosimpi': subdepartamentosimpi,
                        'statusimpi': statusimpi,
                        'impiincluye': impiincluye,
                        'reprocesoimpi': reprocesoimpi,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreimpi + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowimpi' + row_idimpi2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoimpi' + row_idimpi2).value = response2;
                        //papimpifilanueva.style.display = 'none';
                        btnguardarnuevoimpi.style.display = 'none';
                        var idnuevoimpi = document.getElementById('idnuevoimpi' + row_idimpi2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductoimpipdnt",
                            type: "post",
                            data: {
                                'idnuevoimpi': idnuevoimpi,
                                'ordenvalueimpi': ordenvalueimpi,
                                'nombreimpi': nombreimpi,
                                'unidadimpi': unidadimpi,
                                'piezaimpi': piezaimpi,
                                'precioimpi': precioimpi,
                                'subtotalimpi': subtotalimpi,
                                'observacionesimpi': observacionesimpi,
                                'departamentosimpi': departamentosimpi,
                                'subdepartamentosimpi': subdepartamentosimpi,
                                'impiincluye': impiincluye,
                                'color_values_impi': color_values_impi,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoimpi2' + row_idimpi2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31impi' + row_idimpi2).prop('type', 'hidden');
                                        $('#newcc33impi' + row_idimpi2).prop('type', 'hidden');
                                        $('#newcc34impi' + row_idimpi2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_impi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_impi' + row_color_div_id).show();
            $('#show_pallete_color_button_impi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_impi' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_impi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_impi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_impi' + row_color_div_id).hide();
            $('#show_pallete_color_button_impi' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_impi', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_impi' + row_color_id).val(color);
            $('#color_prods_impi' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_impi' + row_color_id).hide();
        $('#show_pallete_color_button_impi' + row_color_id).show();
        $('#color_palete_impi' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_impi', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_impi' + row_color_id).val(color);
            $('#color_prods_impi' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_impi' + row_color_id).hide();
        $('#show_pallete_color_button_impi' + row_color_id).show();
        $('#color_palete_impi' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_impi', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_impi' + row_color_id).val(color);
            $('#color_prods_impi' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_impi' + row_color_id).hide();
        $('#show_pallete_color_button_impi' + row_color_id).show();
        $('#color_palete_impi' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_impi', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_impi' + row_color_id).val(color);
            $('#color_prods_impi' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_impi' + row_color_id).hide();
        $('#show_pallete_color_button_impi' + row_color_id).show();
        $('#color_palete_impi' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_impi', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_impi' + row_color_id).val(color);
            $('#color_prods_impi' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_impi' + row_color_id).hide();
        $('#show_pallete_color_button_impi' + row_color_id).show();
        $('#color_palete_impi' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_impi', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_impi' + row_color_id).val(color);
            $('#color_prods_impi' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_impi' + row_color_id).hide();
        $('#show_pallete_color_button_impi' + row_color_id).show();
        $('#color_palete_impi' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_impi', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_impi' + row_color_id).val(color);
            $('#color_prods_impi' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_impi' + row_color_id).hide();
        $('#show_pallete_color_button_impi' + row_color_id).show();
        $('#color_palete_impi' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnimpi', function() {
            var row_idimpi = $(this).attr("id");
            $('#rowimpi' + row_idimpi + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 9000;
        $(".additembtnimpe").click(function() {
            i++;
            x++;
            $("#contenidotablaimpe").append(`
            <tr id="rowimpe` + i + `" style="justify-content: center; text-align: center" class="impe_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_impe` + i + `">
                    <input type="hidden" id="idnuevoimpe` + i + `" name="idimpe[]" value="" readonly>
                    <input type="hidden" id="idnuevoimpe2` + i + `" name="idnuevoimpe[]" value="" readonly>
                    <div id="btnguardarnuevoimpe` + i + `">
                        <i type="button" class="changecolorimpe btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_impe` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_impe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_impe` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_impe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_impe` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_impe" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_impe" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_impe" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_impe" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_impe" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_impe" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_impe" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_impe_[]" id="color_values_impe` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreimpe` + i + `" name="nombreimpe[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="impeincluye[]" id="impeincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_impe` + i + `" placeholder="sku" value="" name="sku_impe[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31impe` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33impe` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34impe` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezaimpe` + i + `" name="piezaimpe[]" oninput="Calcimpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadimpe` + i + `" name="unidadimpe[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioimpe` + i + `" name="precioimpe[]" oninput="Calcimpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesoimpe` + i + `" name="reprocesoimpe[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusimpe[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalimpe[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalimpe` + i + `" name="subtotalimpe[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesimpe` + i + `" name="observacionesimpe[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosimpe` + i + `" name="departamentosimpe[]" value="interior mujer">
                    <input type="hidden" id="subdepartamentosimpe` + i + `" name="subdepartamentosimpe[]" value="mobiliario perimetral">
                    <input type="hidden" id="statusimpe` + i + `" name="statusimpe[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papimpefilanueva` + i + `">
                        <i type="button" class="removeitembtnimpe fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorimpe', function() {
            var row_idimpe2 = $(this).attr("id");
            var nombreimpe = document.getElementById('nombreimpe' + row_idimpe2).value;
            var piezaimpe = document.getElementById('piezaimpe' + row_idimpe2).value;
            var unidadimpe = document.getElementById('unidadimpe' + row_idimpe2).value;
            var precioimpe = document.getElementById('precioimpe' + row_idimpe2).value;
            var observacionesimpe = document.getElementById('observacionesimpe' + row_idimpe2).value;
            var departamentosimpe = document.getElementById('departamentosimpe' + row_idimpe2).value;
            var subdepartamentosimpe = document.getElementById('subdepartamentosimpe' + row_idimpe2).value;
            var statusimpe = document.getElementById('statusimpe' + row_idimpe2).value;
            var papimpefilanueva = document.getElementById('papimpefilanueva' + row_idimpe2);
            var btnguardarnuevoimpe = document.getElementById('btnguardarnuevoimpe' + row_idimpe2);
            var subtotalimpe = document.getElementById('subtotalimpe' + row_idimpe2).value;
            var ordenvalueimpe = document.getElementById('ordenpdntvalue').value;
            var impeincluye = document.getElementById('impeincluye' + row_idimpe2).value;
            var color_values_impe = document.getElementById('color_values_impe' + row_idimpe2).value;
            var reprocesoimpe = document.getElementById('reprocesoimpe' + row_idimpe2).value;

            var newcc31 = document.getElementById('newcc31impe' + row_idimpe2).value;
            var newcc33 = document.getElementById('newcc33impe' + row_idimpe2).value;
            var newcc34 = document.getElementById('newcc34impe' + row_idimpe2).value;
            var new_sku = document.getElementById('new_sku_impe' + row_idimpe2).value;

            if (nombreimpe == "" || piezaimpe == "" || piezaimpe == "0" || unidadimpe == "" || precioimpe == "" || precioimpe == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowimpe' + row_idimpe2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoimpe",
                    type: "post",
                    data: {
                        'nombreimpe': nombreimpe,
                        'unidadimpe': unidadimpe,
                        'piezaimpe': piezaimpe,
                        'precioimpe': precioimpe,
                        'observacionesimpe': observacionesimpe,
                        'departamentosimpe': departamentosimpe,
                        'subdepartamentosimpe': subdepartamentosimpe,
                        'statusimpe': statusimpe,
                        'impeincluye': impeincluye,
                        'reprocesoimpe': reprocesoimpe,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreimpe + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowimpe' + row_idimpe2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoimpe' + row_idimpe2).value = response2;
                        //papimpefilanueva.style.display = 'none';
                        btnguardarnuevoimpe.style.display = 'none';
                        var idnuevoimpe = document.getElementById('idnuevoimpe' + row_idimpe2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductoimpepdnt",
                            type: "post",
                            data: {
                                'idnuevoimpe': idnuevoimpe,
                                'ordenvalueimpe': ordenvalueimpe,
                                'nombreimpe': nombreimpe,
                                'unidadimpe': unidadimpe,
                                'piezaimpe': piezaimpe,
                                'precioimpe': precioimpe,
                                'subtotalimpe': subtotalimpe,
                                'observacionesimpe': observacionesimpe,
                                'departamentosimpe': departamentosimpe,
                                'subdepartamentosimpe': subdepartamentosimpe,
                                'impeincluye': impeincluye,
                                'color_values_impe': color_values_impe,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoimpe2' + row_idimpe2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31impe' + row_idimpe2).prop('type', 'hidden');
                                        $('#newcc33impe' + row_idimpe2).prop('type', 'hidden');
                                        $('#newcc34impe' + row_idimpe2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_impe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_impe' + row_color_div_id).show();
            $('#show_pallete_color_button_impe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_impe' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_impe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_impe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_impe' + row_color_div_id).hide();
            $('#show_pallete_color_button_impe' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_impe', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_impe' + row_color_id).val(color);
            $('#color_prods_impe' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_impe' + row_color_id).hide();
        $('#show_pallete_color_button_impe' + row_color_id).show();
        $('#color_palete_impe' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_impe', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_impe' + row_color_id).val(color);
            $('#color_prods_impe' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_impe' + row_color_id).hide();
        $('#show_pallete_color_button_impe' + row_color_id).show();
        $('#color_palete_impe' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_impe', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_impe' + row_color_id).val(color);
            $('#color_prods_impe' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_impe' + row_color_id).hide();
        $('#show_pallete_color_button_impe' + row_color_id).show();
        $('#color_palete_impe' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_impe', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_impe' + row_color_id).val(color);
            $('#color_prods_impe' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_impe' + row_color_id).hide();
        $('#show_pallete_color_button_impe' + row_color_id).show();
        $('#color_palete_impe' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_impe', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_impe' + row_color_id).val(color);
            $('#color_prods_impe' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_impe' + row_color_id).hide();
        $('#show_pallete_color_button_impe' + row_color_id).show();
        $('#color_palete_impe' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_impe', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_impe' + row_color_id).val(color);
            $('#color_prods_impe' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_impe' + row_color_id).hide();
        $('#show_pallete_color_button_impe' + row_color_id).show();
        $('#color_palete_impe' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_impe', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_impe' + row_color_id).val(color);
            $('#color_prods_impe' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_impe' + row_color_id).hide();
        $('#show_pallete_color_button_impe' + row_color_id).show();
        $('#color_palete_impe' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnimpe', function() {
            var row_idimpe = $(this).attr("id");
            $('#rowimpe' + row_idimpe + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 10000;
        $(".additembtnimhe").click(function() {
            i++;
            x++;
            $("#contenidotablaimhe").append(`
            <tr id="rowimhe` + i + `" style="justify-content: center; text-align: center" class="imhe_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_imhe` + i + `">
                    <input type="hidden" id="idnuevoimhe` + i + `" name="idimhe[]" value="" readonly>
                    <input type="hidden" id="idnuevoimhe2` + i + `" name="idnuevoimhe[]" value="" readonly>
                    <div id="btnguardarnuevoimhe` + i + `">
                        <i type="button" class="changecolorimhe btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_imhe` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_imhe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_imhe` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_imhe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_imhe` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_imhe" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_imhe" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_imhe" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_imhe" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_imhe" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_imhe" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_imhe" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_imhe_[]" id="color_values_imhe` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreimhe` + i + `" name="nombreimhe[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="imheincluye[]" id="imheincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_imhe` + i + `" placeholder="sku" value="" name="sku_imhe[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31imhe` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33imhe` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34imhe` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezaimhe` + i + `" name="piezaimhe[]" oninput="Calcimhe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadimhe` + i + `" name="unidadimhe[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioimhe` + i + `" name="precioimhe[]" oninput="Calcimhe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesoimhe` + i + `" name="reprocesoimhe[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusimhe[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalimhe[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalimhe` + i + `" name="subtotalimhe[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesimhe` + i + `" name="observacionesimhe[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosimhe` + i + `" name="departamentosimhe[]" value="interior mujer">
                    <input type="hidden" id="subdepartamentosimhe` + i + `" name="subdepartamentosimhe[]" value="herraje">
                    <input type="hidden" id="statusimhe` + i + `" name="statusimhe[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papimhefilanueva` + i + `">
                        <i type="button" class="removeitembtnimhe fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorimhe', function() {
            var row_idimhe2 = $(this).attr("id");
            var nombreimhe = document.getElementById('nombreimhe' + row_idimhe2).value;
            var piezaimhe = document.getElementById('piezaimhe' + row_idimhe2).value;
            var unidadimhe = document.getElementById('unidadimhe' + row_idimhe2).value;
            var precioimhe = document.getElementById('precioimhe' + row_idimhe2).value;
            var observacionesimhe = document.getElementById('observacionesimhe' + row_idimhe2).value;
            var departamentosimhe = document.getElementById('departamentosimhe' + row_idimhe2).value;
            var subdepartamentosimhe = document.getElementById('subdepartamentosimhe' + row_idimhe2).value;
            var statusimhe = document.getElementById('statusimhe' + row_idimhe2).value;
            var papimhefilanueva = document.getElementById('papimhefilanueva' + row_idimhe2);
            var btnguardarnuevoimhe = document.getElementById('btnguardarnuevoimhe' + row_idimhe2);
            var subtotalimhe = document.getElementById('subtotalimhe' + row_idimhe2).value;
            var ordenvalueimhe = document.getElementById('ordenpdntvalue').value;
            var imheincluye = document.getElementById('imheincluye' + row_idimhe2).value;
            var color_values_imhe = document.getElementById('color_values_imhe' + row_idimhe2).value;
            var reprocesoimhe = document.getElementById('reprocesoimhe' + row_idimhe2).value;

            var newcc31 = document.getElementById('newcc31imhe' + row_idimhe2).value;
            var newcc33 = document.getElementById('newcc33imhe' + row_idimhe2).value;
            var newcc34 = document.getElementById('newcc34imhe' + row_idimhe2).value;
            var new_sku = document.getElementById('new_sku_imhe' + row_idimhe2).value;

            if (nombreimhe == "" || piezaimhe == "" || piezaimhe == "0" || unidadimhe == "" || precioimhe == "" || precioimhe == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowimhe' + row_idimhe2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoimhe",
                    type: "post",
                    data: {
                        'nombreimhe': nombreimhe,
                        'unidadimhe': unidadimhe,
                        'piezaimhe': piezaimhe,
                        'precioimhe': precioimhe,
                        'observacionesimhe': observacionesimhe,
                        'departamentosimhe': departamentosimhe,
                        'subdepartamentosimhe': subdepartamentosimhe,
                        'statusimhe': statusimhe,
                        'imheincluye': imheincluye,
                        'reprocesoimhe': reprocesoimhe,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreimhe + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowimhe' + row_idimhe2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoimhe' + row_idimhe2).value = response2;
                        //papimhefilanueva.style.display = 'none';
                        btnguardarnuevoimhe.style.display = 'none';
                        var idnuevoimhe = document.getElementById('idnuevoimhe' + row_idimhe2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductoimhepdnt",
                            type: "post",
                            data: {
                                'idnuevoimhe': idnuevoimhe,
                                'ordenvalueimhe': ordenvalueimhe,
                                'nombreimhe': nombreimhe,
                                'unidadimhe': unidadimhe,
                                'piezaimhe': piezaimhe,
                                'precioimhe': precioimhe,
                                'subtotalimhe': subtotalimhe,
                                'observacionesimhe': observacionesimhe,
                                'departamentosimhe': departamentosimhe,
                                'subdepartamentosimhe': subdepartamentosimhe,
                                'imheincluye': imheincluye,
                                'color_values_imhe': color_values_imhe,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoimhe2' + row_idimhe2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31imhe' + row_idimhe2).prop('type', 'hidden');
                                        $('#newcc33imhe' + row_idimhe2).prop('type', 'hidden');
                                        $('#newcc34imhe' + row_idimhe2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_imhe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_imhe' + row_color_div_id).show();
            $('#show_pallete_color_button_imhe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_imhe' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_imhe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_imhe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_imhe' + row_color_div_id).hide();
            $('#show_pallete_color_button_imhe' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_imhe', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_imhe' + row_color_id).val(color);
            $('#color_prods_imhe' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_imhe' + row_color_id).hide();
        $('#show_pallete_color_button_imhe' + row_color_id).show();
        $('#color_palete_imhe' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_imhe', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_imhe' + row_color_id).val(color);
            $('#color_prods_imhe' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_imhe' + row_color_id).hide();
        $('#show_pallete_color_button_imhe' + row_color_id).show();
        $('#color_palete_imhe' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_imhe', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_imhe' + row_color_id).val(color);
            $('#color_prods_imhe' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_imhe' + row_color_id).hide();
        $('#show_pallete_color_button_imhe' + row_color_id).show();
        $('#color_palete_imhe' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_imhe', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_imhe' + row_color_id).val(color);
            $('#color_prods_imhe' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_imhe' + row_color_id).hide();
        $('#show_pallete_color_button_imhe' + row_color_id).show();
        $('#color_palete_imhe' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_imhe', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_imhe' + row_color_id).val(color);
            $('#color_prods_imhe' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_imhe' + row_color_id).hide();
        $('#show_pallete_color_button_imhe' + row_color_id).show();
        $('#color_palete_imhe' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_imhe', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_imhe' + row_color_id).val(color);
            $('#color_prods_imhe' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_imhe' + row_color_id).hide();
        $('#show_pallete_color_button_imhe' + row_color_id).show();
        $('#color_palete_imhe' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_imhe', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_imhe' + row_color_id).val(color);
            $('#color_prods_imhe' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_imhe' + row_color_id).hide();
        $('#show_pallete_color_button_imhe' + row_color_id).show();
        $('#color_palete_imhe' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnimhe', function() {
            var row_idimhe = $(this).attr("id");
            $('#rowimhe' + row_idimhe + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 11000;
        $(".additembtninnpi").click(function() {
            i++;
            x++;
            $("#contenidotablainnpi").append(`
            <tr id="rowinnpi` + i + `" style="justify-content: center; text-align: center" class="innpi_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_innpi` + i + `">
                    <input type="hidden" id="idnuevoinnpi` + i + `" name="idinnpi[]" value="" readonly>
                    <input type="hidden" id="idnuevoinnpi2` + i + `" name="idnuevoinnpi[]" value="" readonly>
                    <div id="btnguardarnuevoinnpi` + i + `">
                        <i type="button" class="changecolorinnpi btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_innpi` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_innpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_innpi` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_innpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_innpi` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_innpi" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_innpi" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_innpi" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_innpi" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_innpi" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_innpi" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_innpi" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_innpi_[]" id="color_values_innpi` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreinnpi` + i + `" name="nombreinnpi[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="innpiincluye[]" id="innpiincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_innpi` + i + `" placeholder="sku" value="" name="sku_innpi[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31innpi` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33innpi` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34innpi` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezainnpi` + i + `" name="piezainnpi[]" oninput="Calcinnpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadinnpi` + i + `" name="unidadinnpi[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioinnpi` + i + `" name="precioinnpi[]" oninput="Calcinnpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesoinnpi` + i + `" name="reprocesoinnpi[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusinnpi[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalinnpi[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalinnpi` + i + `" name="subtotalinnpi[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesinnpi` + i + `" name="observacionesinnpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosinnpi` + i + `" name="departamentosinnpi[]" value="infantil ni√±o y ni√±a">
                    <input type="hidden" id="subdepartamentosinnpi` + i + `" name="subdepartamentosinnpi[]" value="mobiliario de piso">
                    <input type="hidden" id="statusinnpi` + i + `" name="statusinnpi[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papinnpifilanueva` + i + `">
                        <i type="button" class="removeitembtninnpi fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorinnpi', function() {
            var row_idinnpi2 = $(this).attr("id");
            var nombreinnpi = document.getElementById('nombreinnpi' + row_idinnpi2).value;
            var piezainnpi = document.getElementById('piezainnpi' + row_idinnpi2).value;
            var unidadinnpi = document.getElementById('unidadinnpi' + row_idinnpi2).value;
            var precioinnpi = document.getElementById('precioinnpi' + row_idinnpi2).value;
            var observacionesinnpi = document.getElementById('observacionesinnpi' + row_idinnpi2).value;
            var departamentosinnpi = document.getElementById('departamentosinnpi' + row_idinnpi2).value;
            var subdepartamentosinnpi = document.getElementById('subdepartamentosinnpi' + row_idinnpi2).value;
            var statusinnpi = document.getElementById('statusinnpi' + row_idinnpi2).value;
            var papinnpifilanueva = document.getElementById('papinnpifilanueva' + row_idinnpi2);
            var btnguardarnuevoinnpi = document.getElementById('btnguardarnuevoinnpi' + row_idinnpi2);
            var subtotalinnpi = document.getElementById('subtotalinnpi' + row_idinnpi2).value;
            var ordenvalueinnpi = document.getElementById('ordenpdntvalue').value;
            var innpiincluye = document.getElementById('innpiincluye' + row_idinnpi2).value;
            var color_values_innpi = document.getElementById('color_values_innpi' + row_idinnpi2).value;
            var reprocesoinnpi = document.getElementById('reprocesoinnpi' + row_idinnpi2).value;

            var newcc31 = document.getElementById('newcc31innpi' + row_idinnpi2).value;
            var newcc33 = document.getElementById('newcc33innpi' + row_idinnpi2).value;
            var newcc34 = document.getElementById('newcc34innpi' + row_idinnpi2).value;
            var new_sku = document.getElementById('new_sku_innpi' + row_idinnpi2).value;

            if (nombreinnpi == "" || piezainnpi == "" || piezainnpi == "0" || unidadinnpi == "" || precioinnpi == "" || precioinnpi == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowinnpi' + row_idinnpi2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoinnpi",
                    type: "post",
                    data: {
                        'nombreinnpi': nombreinnpi,
                        'unidadinnpi': unidadinnpi,
                        'piezainnpi': piezainnpi,
                        'precioinnpi': precioinnpi,
                        'observacionesinnpi': observacionesinnpi,
                        'departamentosinnpi': departamentosinnpi,
                        'subdepartamentosinnpi': subdepartamentosinnpi,
                        'statusinnpi': statusinnpi,
                        'innpiincluye': innpiincluye,
                        'reprocesoinnpi': reprocesoinnpi,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreinnpi + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowinnpi' + row_idinnpi2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoinnpi' + row_idinnpi2).value = response2;
                        //papinnpifilanueva.style.display = 'none';
                        btnguardarnuevoinnpi.style.display = 'none';
                        var idnuevoinnpi = document.getElementById('idnuevoinnpi' + row_idinnpi2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductoinnpipdnt",
                            type: "post",
                            data: {
                                'idnuevoinnpi': idnuevoinnpi,
                                'ordenvalueinnpi': ordenvalueinnpi,
                                'nombreinnpi': nombreinnpi,
                                'unidadinnpi': unidadinnpi,
                                'piezainnpi': piezainnpi,
                                'precioinnpi': precioinnpi,
                                'subtotalinnpi': subtotalinnpi,
                                'observacionesinnpi': observacionesinnpi,
                                'departamentosinnpi': departamentosinnpi,
                                'subdepartamentosinnpi': subdepartamentosinnpi,
                                'innpiincluye': innpiincluye,
                                'color_values_innpi': color_values_innpi,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoinnpi2' + row_idinnpi2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31innpi' + row_idinnpi2).prop('type', 'hidden');
                                        $('#newcc33innpi' + row_idinnpi2).prop('type', 'hidden');
                                        $('#newcc34innpi' + row_idinnpi2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_innpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_innpi' + row_color_div_id).show();
            $('#show_pallete_color_button_innpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_innpi' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_innpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_innpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_innpi' + row_color_div_id).hide();
            $('#show_pallete_color_button_innpi' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_innpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_innpi' + row_color_id).val(color);
            $('#color_prods_innpi' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_innpi' + row_color_id).hide();
        $('#show_pallete_color_button_innpi' + row_color_id).show();
        $('#color_palete_innpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_innpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_innpi' + row_color_id).val(color);
            $('#color_prods_innpi' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_innpi' + row_color_id).hide();
        $('#show_pallete_color_button_innpi' + row_color_id).show();
        $('#color_palete_innpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_innpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_innpi' + row_color_id).val(color);
            $('#color_prods_innpi' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_innpi' + row_color_id).hide();
        $('#show_pallete_color_button_innpi' + row_color_id).show();
        $('#color_palete_innpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_innpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_innpi' + row_color_id).val(color);
            $('#color_prods_innpi' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_innpi' + row_color_id).hide();
        $('#show_pallete_color_button_innpi' + row_color_id).show();
        $('#color_palete_innpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_innpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_innpi' + row_color_id).val(color);
            $('#color_prods_innpi' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_innpi' + row_color_id).hide();
        $('#show_pallete_color_button_innpi' + row_color_id).show();
        $('#color_palete_innpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_innpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_innpi' + row_color_id).val(color);
            $('#color_prods_innpi' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_innpi' + row_color_id).hide();
        $('#show_pallete_color_button_innpi' + row_color_id).show();
        $('#color_palete_innpi' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_innpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_innpi' + row_color_id).val(color);
            $('#color_prods_innpi' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_innpi' + row_color_id).hide();
        $('#show_pallete_color_button_innpi' + row_color_id).show();
        $('#color_palete_innpi' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtninnpi', function() {
            var row_idinnpi = $(this).attr("id");
            $('#rowinnpi' + row_idinnpi + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 12000;
        $(".additembtninnpe").click(function() {
            i++;
            x++;
            $("#contenidotablainnpe").append(`
            <tr id="rowinnpe` + i + `" style="justify-content: center; text-align: center" class="innpe_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_innpe` + i + `">
                    <input type="hidden" id="idnuevoinnpe` + i + `" name="idinnpe[]" value="" readonly>
                    <input type="hidden" id="idnuevoinnpe2` + i + `" name="idnuevoinnpe[]" value="" readonly>
                    <div id="btnguardarnuevoinnpe` + i + `">
                        <i type="button" class="changecolorinnpe btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_innpe` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_innpe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_innpe` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_innpe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_innpe` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_innpe" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_innpe" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_innpe" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_innpe" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_innpe" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_innpe" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_innpe" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_innpe_[]" id="color_values_innpe` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreinnpe` + i + `" name="nombreinnpe[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="innpeincluye[]" id="innpeincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_innpe` + i + `" placeholder="sku" value="" name="sku_innpe[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31innpe` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33innpe` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34innpe` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezainnpe` + i + `" name="piezainnpe[]" oninput="Calcinnpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadinnpe` + i + `" name="unidadinnpe[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioinnpe` + i + `" name="precioinnpe[]" oninput="Calcinnpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesoinnpe` + i + `" name="reprocesoinnpe[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusinnpe[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalinnpe[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalinnpe` + i + `" name="subtotalinnpe[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesinnpe` + i + `" name="observacionesinnpe[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosinnpe` + i + `" name="departamentosinnpe[]" value="infantil ni√±o y ni√±a">
                    <input type="hidden" id="subdepartamentosinnpe` + i + `" name="subdepartamentosinnpe[]" value="mobiliario perimetral">
                    <input type="hidden" id="statusinnpe` + i + `" name="statusinnpe[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papinnpefilanueva` + i + `">
                        <i type="button" class="removeitembtninnpe fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorinnpe', function() {
            var row_idinnpe2 = $(this).attr("id");
            var nombreinnpe = document.getElementById('nombreinnpe' + row_idinnpe2).value;
            var piezainnpe = document.getElementById('piezainnpe' + row_idinnpe2).value;
            var unidadinnpe = document.getElementById('unidadinnpe' + row_idinnpe2).value;
            var precioinnpe = document.getElementById('precioinnpe' + row_idinnpe2).value;
            var observacionesinnpe = document.getElementById('observacionesinnpe' + row_idinnpe2).value;
            var departamentosinnpe = document.getElementById('departamentosinnpe' + row_idinnpe2).value;
            var subdepartamentosinnpe = document.getElementById('subdepartamentosinnpe' + row_idinnpe2).value;
            var statusinnpe = document.getElementById('statusinnpe' + row_idinnpe2).value;
            var papinnpefilanueva = document.getElementById('papinnpefilanueva' + row_idinnpe2);
            var btnguardarnuevoinnpe = document.getElementById('btnguardarnuevoinnpe' + row_idinnpe2);
            var subtotalinnpe = document.getElementById('subtotalinnpe' + row_idinnpe2).value;
            var ordenvalueinnpe = document.getElementById('ordenpdntvalue').value;
            var innpeincluye = document.getElementById('innpeincluye' + row_idinnpe2).value;
            var color_values_innpe = document.getElementById('color_values_innpe' + row_idinnpe2).value;
            var reprocesoinnpe = document.getElementById('reprocesoinnpe' + row_idinnpe2).value;

            var newcc31 = document.getElementById('newcc31innpe' + row_idinnpe2).value;
            var newcc33 = document.getElementById('newcc33innpe' + row_idinnpe2).value;
            var newcc34 = document.getElementById('newcc34innpe' + row_idinnpe2).value;
            var new_sku = document.getElementById('new_sku_innpe' + row_idinnpe2).value;

            if (nombreinnpe == "" || piezainnpe == "" || piezainnpe == "0" || unidadinnpe == "" || precioinnpe == "" || precioinnpe == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowinnpe' + row_idinnpe2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoinnpe",
                    type: "post",
                    data: {
                        'nombreinnpe': nombreinnpe,
                        'unidadinnpe': unidadinnpe,
                        'piezainnpe': piezainnpe,
                        'precioinnpe': precioinnpe,
                        'observacionesinnpe': observacionesinnpe,
                        'departamentosinnpe': departamentosinnpe,
                        'subdepartamentosinnpe': subdepartamentosinnpe,
                        'statusinnpe': statusinnpe,
                        'innpeincluye': innpeincluye,
                        'reprocesoinnpe': reprocesoinnpe,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreinnpe + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowinnpe' + row_idinnpe2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoinnpe' + row_idinnpe2).value = response2;
                        //papinnpefilanueva.style.display = 'none';
                        btnguardarnuevoinnpe.style.display = 'none';
                        var idnuevoinnpe = document.getElementById('idnuevoinnpe' + row_idinnpe2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductoinnpepdnt",
                            type: "post",
                            data: {
                                'idnuevoinnpe': idnuevoinnpe,
                                'ordenvalueinnpe': ordenvalueinnpe,
                                'nombreinnpe': nombreinnpe,
                                'unidadinnpe': unidadinnpe,
                                'piezainnpe': piezainnpe,
                                'precioinnpe': precioinnpe,
                                'subtotalinnpe': subtotalinnpe,
                                'observacionesinnpe': observacionesinnpe,
                                'departamentosinnpe': departamentosinnpe,
                                'subdepartamentosinnpe': subdepartamentosinnpe,
                                'innpeincluye': innpeincluye,
                                'color_values_innpe': color_values_innpe,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoinnpe2' + row_idinnpe2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31innpe' + row_idinnpe2).prop('type', 'hidden');
                                        $('#newcc33innpe' + row_idinnpe2).prop('type', 'hidden');
                                        $('#newcc34innpe' + row_idinnpe2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_innpe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_innpe' + row_color_div_id).show();
            $('#show_pallete_color_button_innpe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_innpe' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_innpe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_innpe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_innpe' + row_color_div_id).hide();
            $('#show_pallete_color_button_innpe' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_innpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_innpe' + row_color_id).val(color);
            $('#color_prods_innpe' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_innpe' + row_color_id).hide();
        $('#show_pallete_color_button_innpe' + row_color_id).show();
        $('#color_palete_innpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_innpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_innpe' + row_color_id).val(color);
            $('#color_prods_innpe' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_innpe' + row_color_id).hide();
        $('#show_pallete_color_button_innpe' + row_color_id).show();
        $('#color_palete_innpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_innpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_innpe' + row_color_id).val(color);
            $('#color_prods_innpe' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_innpe' + row_color_id).hide();
        $('#show_pallete_color_button_innpe' + row_color_id).show();
        $('#color_palete_innpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_innpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_innpe' + row_color_id).val(color);
            $('#color_prods_innpe' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_innpe' + row_color_id).hide();
        $('#show_pallete_color_button_innpe' + row_color_id).show();
        $('#color_palete_innpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_innpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_innpe' + row_color_id).val(color);
            $('#color_prods_innpe' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_innpe' + row_color_id).hide();
        $('#show_pallete_color_button_innpe' + row_color_id).show();
        $('#color_palete_innpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_innpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_innpe' + row_color_id).val(color);
            $('#color_prods_innpe' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_innpe' + row_color_id).hide();
        $('#show_pallete_color_button_innpe' + row_color_id).show();
        $('#color_palete_innpe' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_innpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_innpe' + row_color_id).val(color);
            $('#color_prods_innpe' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_innpe' + row_color_id).hide();
        $('#show_pallete_color_button_innpe' + row_color_id).show();
        $('#color_palete_innpe' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtninnpe', function() {
            var row_idinnpe = $(this).attr("id");
            $('#rowinnpe' + row_idinnpe + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 13000;
        $(".additembtntnnbpi").click(function() {
            i++;
            x++;
            $("#contenidotablatnnbpi").append(`
            <tr id="rowtnnbpi` + i + `" style="justify-content: center; text-align: center" class="tnnbpi_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_tnnbpi` + i + `">
                    <input type="hidden" id="idnuevotnnbpi` + i + `" name="idtnnbpi[]" value="" readonly>
                    <input type="hidden" id="idnuevotnnbpi2` + i + `" name="idnuevotnnbpi[]" value="" readonly>
                    <div id="btnguardarnuevotnnbpi` + i + `">
                        <i type="button" class="changecolortnnbpi btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_tnnbpi` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_tnnbpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_tnnbpi` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_tnnbpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_tnnbpi` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_tnnbpi" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_tnnbpi" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_tnnbpi" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_tnnbpi" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_tnnbpi" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_tnnbpi" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_tnnbpi" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_tnnbpi_[]" id="color_values_tnnbpi` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombretnnbpi` + i + `" name="nombretnnbpi[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="tnnbpiincluye[]" id="tnnbpiincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_tnnbpi` + i + `" placeholder="sku" value="" name="sku_tnnbpi[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31tnnbpi` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33tnnbpi` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34tnnbpi` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezatnnbpi` + i + `" name="piezatnnbpi[]" oninput="Calctnnbpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadtnnbpi` + i + `" name="unidadtnnbpi[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="preciotnnbpi` + i + `" name="preciotnnbpi[]" oninput="Calctnnbpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesotnnbpi` + i + `" name="reprocesotnnbpi[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatustnnbpi[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotaltnnbpi[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotaltnnbpi` + i + `" name="subtotaltnnbpi[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionestnnbpi` + i + `" name="observacionestnnbpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentostnnbpi` + i + `" name="departamentostnnbpi[]" value="toddler ni√±o ni√±a y bebes">
                    <input type="hidden" id="subdepartamentostnnbpi` + i + `" name="subdepartamentostnnbpi[]" value="mobiliario de piso">
                    <input type="hidden" id="statustnnbpi` + i + `" name="statustnnbpi[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="paptnnbpifilanueva` + i + `">
                        <i type="button" class="removeitembtntnnbpi fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolortnnbpi', function() {
            var row_idtnnbpi2 = $(this).attr("id");
            var nombretnnbpi = document.getElementById('nombretnnbpi' + row_idtnnbpi2).value;
            var piezatnnbpi = document.getElementById('piezatnnbpi' + row_idtnnbpi2).value;
            var unidadtnnbpi = document.getElementById('unidadtnnbpi' + row_idtnnbpi2).value;
            var preciotnnbpi = document.getElementById('preciotnnbpi' + row_idtnnbpi2).value;
            var observacionestnnbpi = document.getElementById('observacionestnnbpi' + row_idtnnbpi2).value;
            var departamentostnnbpi = document.getElementById('departamentostnnbpi' + row_idtnnbpi2).value;
            var subdepartamentostnnbpi = document.getElementById('subdepartamentostnnbpi' + row_idtnnbpi2).value;
            var statustnnbpi = document.getElementById('statustnnbpi' + row_idtnnbpi2).value;
            var paptnnbpifilanueva = document.getElementById('paptnnbpifilanueva' + row_idtnnbpi2);
            var btnguardarnuevotnnbpi = document.getElementById('btnguardarnuevotnnbpi' + row_idtnnbpi2);
            var subtotaltnnbpi = document.getElementById('subtotaltnnbpi' + row_idtnnbpi2).value;
            var ordenvaluetnnbpi = document.getElementById('ordenpdntvalue').value;
            var tnnbpiincluye = document.getElementById('tnnbpiincluye' + row_idtnnbpi2).value;
            var color_values_tnnbpi = document.getElementById('color_values_tnnbpi' + row_idtnnbpi2).value;
            var reprocesotnnbpi = document.getElementById('reprocesotnnbpi' + row_idtnnbpi2).value;

            var newcc31 = document.getElementById('newcc31tnnbpi' + row_idtnnbpi2).value;
            var newcc33 = document.getElementById('newcc33tnnbpi' + row_idtnnbpi2).value;
            var newcc34 = document.getElementById('newcc34tnnbpi' + row_idtnnbpi2).value;
            var new_sku = document.getElementById('new_sku_tnnbpi' + row_idtnnbpi2).value;

            if (nombretnnbpi == "" || piezatnnbpi == "" || piezatnnbpi == "0" || unidadtnnbpi == "" || preciotnnbpi == "" || preciotnnbpi == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowtnnbpi' + row_idtnnbpi2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductotnnbpi",
                    type: "post",
                    data: {
                        'nombretnnbpi': nombretnnbpi,
                        'unidadtnnbpi': unidadtnnbpi,
                        'piezatnnbpi': piezatnnbpi,
                        'preciotnnbpi': preciotnnbpi,
                        'observacionestnnbpi': observacionestnnbpi,
                        'departamentostnnbpi': departamentostnnbpi,
                        'subdepartamentostnnbpi': subdepartamentostnnbpi,
                        'statustnnbpi': statustnnbpi,
                        'tnnbpiincluye': tnnbpiincluye,
                        'reprocesotnnbpi': reprocesotnnbpi,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombretnnbpi + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowtnnbpi' + row_idtnnbpi2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevotnnbpi' + row_idtnnbpi2).value = response2;
                        //paptnnbpifilanueva.style.display = 'none';
                        btnguardarnuevotnnbpi.style.display = 'none';
                        var idnuevotnnbpi = document.getElementById('idnuevotnnbpi' + row_idtnnbpi2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductotnnbpipdnt",
                            type: "post",
                            data: {
                                'idnuevotnnbpi': idnuevotnnbpi,
                                'ordenvaluetnnbpi': ordenvaluetnnbpi,
                                'nombretnnbpi': nombretnnbpi,
                                'unidadtnnbpi': unidadtnnbpi,
                                'piezatnnbpi': piezatnnbpi,
                                'preciotnnbpi': preciotnnbpi,
                                'subtotaltnnbpi': subtotaltnnbpi,
                                'observacionestnnbpi': observacionestnnbpi,
                                'departamentostnnbpi': departamentostnnbpi,
                                'subdepartamentostnnbpi': subdepartamentostnnbpi,
                                'tnnbpiincluye': tnnbpiincluye,
                                'color_values_tnnbpi': color_values_tnnbpi,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevotnnbpi2' + row_idtnnbpi2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31tnnbpi' + row_idtnnbpi2).prop('type', 'hidden');
                                        $('#newcc33tnnbpi' + row_idtnnbpi2).prop('type', 'hidden');
                                        $('#newcc34tnnbpi' + row_idtnnbpi2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_tnnbpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_tnnbpi' + row_color_div_id).show();
            $('#show_pallete_color_button_tnnbpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_tnnbpi' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_tnnbpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_tnnbpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_tnnbpi' + row_color_div_id).hide();
            $('#show_pallete_color_button_tnnbpi' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_tnnbpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_tnnbpi' + row_color_id).val(color);
            $('#color_prods_tnnbpi' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_tnnbpi' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpi' + row_color_id).show();
        $('#color_palete_tnnbpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_tnnbpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_tnnbpi' + row_color_id).val(color);
            $('#color_prods_tnnbpi' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_tnnbpi' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpi' + row_color_id).show();
        $('#color_palete_tnnbpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_tnnbpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_tnnbpi' + row_color_id).val(color);
            $('#color_prods_tnnbpi' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_tnnbpi' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpi' + row_color_id).show();
        $('#color_palete_tnnbpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_tnnbpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_tnnbpi' + row_color_id).val(color);
            $('#color_prods_tnnbpi' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_tnnbpi' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpi' + row_color_id).show();
        $('#color_palete_tnnbpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_tnnbpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_tnnbpi' + row_color_id).val(color);
            $('#color_prods_tnnbpi' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_tnnbpi' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpi' + row_color_id).show();
        $('#color_palete_tnnbpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_tnnbpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_tnnbpi' + row_color_id).val(color);
            $('#color_prods_tnnbpi' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_tnnbpi' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpi' + row_color_id).show();
        $('#color_palete_tnnbpi' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_tnnbpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_tnnbpi' + row_color_id).val(color);
            $('#color_prods_tnnbpi' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_tnnbpi' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpi' + row_color_id).show();
        $('#color_palete_tnnbpi' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtntnnbpi', function() {
            var row_idtnnbpi = $(this).attr("id");
            $('#rowtnnbpi' + row_idtnnbpi + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 14000;
        $(".additembtntnnbpe").click(function() {
            i++;
            x++;
            $("#contenidotablatnnbpe").append(`
            <tr id="rowtnnbpe` + i + `" style="justify-content: center; text-align: center" class="tnnbpe_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_tnnbpe` + i + `">
                    <input type="hidden" id="idnuevotnnbpe` + i + `" name="idtnnbpe[]" value="" readonly>
                    <input type="hidden" id="idnuevotnnbpe2` + i + `" name="idnuevotnnbpe[]" value="" readonly>
                    <div id="btnguardarnuevotnnbpe` + i + `">
                        <i type="button" class="changecolortnnbpe btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_tnnbpe` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_tnnbpe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_tnnbpe` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_tnnbpe" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_tnnbpe` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_tnnbpe" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_tnnbpe" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_tnnbpe" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_tnnbpe" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_tnnbpe" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_tnnbpe" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_tnnbpe" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_tnnbpe_[]" id="color_values_tnnbpe` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombretnnbpe` + i + `" name="nombretnnbpe[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="tnnbpeincluye[]" id="tnnbpeincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_tnnbpe` + i + `" placeholder="sku" value="" name="sku_tnnbpe[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31tnnbpe` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33tnnbpe` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34tnnbpe` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezatnnbpe` + i + `" name="piezatnnbpe[]" oninput="Calctnnbpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadtnnbpe` + i + `" name="unidadtnnbpe[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="preciotnnbpe` + i + `" name="preciotnnbpe[]" oninput="Calctnnbpe(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesotnnbpe` + i + `" name="reprocesotnnbpe[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatustnnbpe[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotaltnnbpe[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotaltnnbpe` + i + `" name="subtotaltnnbpe[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionestnnbpe` + i + `" name="observacionestnnbpe[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentostnnbpe` + i + `" name="departamentostnnbpe[]" value="toddler ni√±o ni√±a y bebes">
                    <input type="hidden" id="subdepartamentostnnbpe` + i + `" name="subdepartamentostnnbpe[]" value="mobiliario perimetral">
                    <input type="hidden" id="statustnnbpe` + i + `" name="statustnnbpe[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="paptnnbpefilanueva` + i + `">
                        <i type="button" class="removeitembtntnnbpe fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolortnnbpe', function() {
            var row_idtnnbpe2 = $(this).attr("id");
            var nombretnnbpe = document.getElementById('nombretnnbpe' + row_idtnnbpe2).value;
            var piezatnnbpe = document.getElementById('piezatnnbpe' + row_idtnnbpe2).value;
            var unidadtnnbpe = document.getElementById('unidadtnnbpe' + row_idtnnbpe2).value;
            var preciotnnbpe = document.getElementById('preciotnnbpe' + row_idtnnbpe2).value;
            var observacionestnnbpe = document.getElementById('observacionestnnbpe' + row_idtnnbpe2).value;
            var departamentostnnbpe = document.getElementById('departamentostnnbpe' + row_idtnnbpe2).value;
            var subdepartamentostnnbpe = document.getElementById('subdepartamentostnnbpe' + row_idtnnbpe2).value;
            var statustnnbpe = document.getElementById('statustnnbpe' + row_idtnnbpe2).value;
            var paptnnbpefilanueva = document.getElementById('paptnnbpefilanueva' + row_idtnnbpe2);
            var btnguardarnuevotnnbpe = document.getElementById('btnguardarnuevotnnbpe' + row_idtnnbpe2);
            var subtotaltnnbpe = document.getElementById('subtotaltnnbpe' + row_idtnnbpe2).value;
            var ordenvaluetnnbpe = document.getElementById('ordenpdntvalue').value;
            var tnnbpeincluye = document.getElementById('tnnbpeincluye' + row_idtnnbpe2).value;
            var color_values_tnnbpe = document.getElementById('color_values_tnnbpe' + row_idtnnbpe2).value;
            var reprocesotnnbpe = document.getElementById('reprocesotnnbpe' + row_idtnnbpe2).value;

            var newcc31 = document.getElementById('newcc31tnnbpe' + row_idtnnbpe2).value;
            var newcc33 = document.getElementById('newcc33tnnbpe' + row_idtnnbpe2).value;
            var newcc34 = document.getElementById('newcc34tnnbpe' + row_idtnnbpe2).value;
            var new_sku = document.getElementById('new_sku_tnnbpe' + row_idtnnbpe2).value;

            if (nombretnnbpe == "" || piezatnnbpe == "" || piezatnnbpe == "0" || unidadtnnbpe == "" || preciotnnbpe == "" || preciotnnbpe == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowtnnbpe' + row_idtnnbpe2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductotnnbpe",
                    type: "post",
                    data: {
                        'nombretnnbpe': nombretnnbpe,
                        'unidadtnnbpe': unidadtnnbpe,
                        'piezatnnbpe': piezatnnbpe,
                        'preciotnnbpe': preciotnnbpe,
                        'observacionestnnbpe': observacionestnnbpe,
                        'departamentostnnbpe': departamentostnnbpe,
                        'subdepartamentostnnbpe': subdepartamentostnnbpe,
                        'statustnnbpe': statustnnbpe,
                        'tnnbpeincluye': tnnbpeincluye,
                        'reprocesotnnbpe': reprocesotnnbpe,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombretnnbpe + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowtnnbpe' + row_idtnnbpe2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevotnnbpe' + row_idtnnbpe2).value = response2;
                        //paptnnbpefilanueva.style.display = 'none';
                        btnguardarnuevotnnbpe.style.display = 'none';
                        var idnuevotnnbpe = document.getElementById('idnuevotnnbpe' + row_idtnnbpe2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductotnnbpepdnt",
                            type: "post",
                            data: {
                                'idnuevotnnbpe': idnuevotnnbpe,
                                'ordenvaluetnnbpe': ordenvaluetnnbpe,
                                'nombretnnbpe': nombretnnbpe,
                                'unidadtnnbpe': unidadtnnbpe,
                                'piezatnnbpe': piezatnnbpe,
                                'preciotnnbpe': preciotnnbpe,
                                'subtotaltnnbpe': subtotaltnnbpe,
                                'observacionestnnbpe': observacionestnnbpe,
                                'departamentostnnbpe': departamentostnnbpe,
                                'subdepartamentostnnbpe': subdepartamentostnnbpe,
                                'tnnbpeincluye': tnnbpeincluye,
                                'color_values_tnnbpe': color_values_tnnbpe,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevotnnbpe2' + row_idtnnbpe2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31tnnbpe' + row_idtnnbpe2).prop('type', 'hidden');
                                        $('#newcc33tnnbpe' + row_idtnnbpe2).prop('type', 'hidden');
                                        $('#newcc34tnnbpe' + row_idtnnbpe2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_tnnbpe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_tnnbpe' + row_color_div_id).show();
            $('#show_pallete_color_button_tnnbpe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_tnnbpe' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_tnnbpe', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_tnnbpe' + row_color_div_id).hide();
            $('#hide_pallete_color_button_tnnbpe' + row_color_div_id).hide();
            $('#show_pallete_color_button_tnnbpe' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_tnnbpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_tnnbpe' + row_color_id).val(color);
            $('#color_prods_tnnbpe' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_tnnbpe' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpe' + row_color_id).show();
        $('#color_palete_tnnbpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_tnnbpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_tnnbpe' + row_color_id).val(color);
            $('#color_prods_tnnbpe' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_tnnbpe' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpe' + row_color_id).show();
        $('#color_palete_tnnbpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_tnnbpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_tnnbpe' + row_color_id).val(color);
            $('#color_prods_tnnbpe' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_tnnbpe' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpe' + row_color_id).show();
        $('#color_palete_tnnbpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_tnnbpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_tnnbpe' + row_color_id).val(color);
            $('#color_prods_tnnbpe' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_tnnbpe' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpe' + row_color_id).show();
        $('#color_palete_tnnbpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_tnnbpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_tnnbpe' + row_color_id).val(color);
            $('#color_prods_tnnbpe' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_tnnbpe' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpe' + row_color_id).show();
        $('#color_palete_tnnbpe' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_tnnbpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_tnnbpe' + row_color_id).val(color);
            $('#color_prods_tnnbpe' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_tnnbpe' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpe' + row_color_id).show();
        $('#color_palete_tnnbpe' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_tnnbpe', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_tnnbpe' + row_color_id).val(color);
            $('#color_prods_tnnbpe' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_tnnbpe' + row_color_id).hide();
        $('#show_pallete_color_button_tnnbpe' + row_color_id).show();
        $('#color_palete_tnnbpe' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtntnnbpe', function() {
            var row_idtnnbpe = $(this).attr("id");
            $('#rowtnnbpe' + row_idtnnbpe + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 15000;
        $(".additembtnherna").click(function() {
            i++;
            x++;
            $("#contenidotablaherna").append(`
            <tr id="rowherna` + i + `" style="justify-content: center; text-align: center" class="herna_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_herna` + i + `">
                    <input type="hidden" id="idnuevoherna` + i + `" name="idherna[]" value="" readonly>
                    <input type="hidden" id="idnuevoherna2` + i + `" name="idnuevoherna[]" value="" readonly>
                    <div id="btnguardarnuevoherna` + i + `">
                        <i type="button" class="changecolorherna btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_herna` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_herna" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_herna` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_herna" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_herna` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_herna" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_herna" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_herna" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_herna" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_herna" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_herna" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_herna" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_herna_[]" id="color_values_herna` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreherna` + i + `" name="nombreherna[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="hernaincluye[]" id="hernaincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_herna` + i + `" placeholder="sku" value="" name="sku_herna[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31herna` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33herna` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34herna` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezaherna` + i + `" name="piezaherna[]" oninput="Calcherna(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadherna` + i + `" name="unidadherna[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioherna` + i + `" name="precioherna[]" oninput="Calcherna(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesoherna` + i + `" name="reprocesoherna[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusherna[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalherna[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalherna` + i + `" name="subtotalherna[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesherna` + i + `" name="observacionesherna[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosherna` + i + `" name="departamentosherna[]" value="herrajes">
                    <input type="hidden" id="subdepartamentosherna` + i + `" name="subdepartamentosherna[]" value="no aplica">
                    <input type="hidden" id="statusherna` + i + `" name="statusherna[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="paphernafilanueva` + i + `">
                        <i type="button" class="removeitembtnherna fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorherna', function() {
            var row_idherna2 = $(this).attr("id");
            var nombreherna = document.getElementById('nombreherna' + row_idherna2).value;
            var piezaherna = document.getElementById('piezaherna' + row_idherna2).value;
            var unidadherna = document.getElementById('unidadherna' + row_idherna2).value;
            var precioherna = document.getElementById('precioherna' + row_idherna2).value;
            var observacionesherna = document.getElementById('observacionesherna' + row_idherna2).value;
            var departamentosherna = document.getElementById('departamentosherna' + row_idherna2).value;
            var subdepartamentosherna = document.getElementById('subdepartamentosherna' + row_idherna2).value;
            var statusherna = document.getElementById('statusherna' + row_idherna2).value;
            var paphernafilanueva = document.getElementById('paphernafilanueva' + row_idherna2);
            var btnguardarnuevoherna = document.getElementById('btnguardarnuevoherna' + row_idherna2);
            var subtotalherna = document.getElementById('subtotalherna' + row_idherna2).value;
            var ordenvalueherna = document.getElementById('ordenpdntvalue').value;
            var hernaincluye = document.getElementById('hernaincluye' + row_idherna2).value;
            var color_values_herna = document.getElementById('color_values_herna' + row_idherna2).value;
            var reprocesoherna = document.getElementById('reprocesoherna' + row_idherna2).value;

            var newcc31 = document.getElementById('newcc31herna' + row_idherna2).value;
            var newcc33 = document.getElementById('newcc33herna' + row_idherna2).value;
            var newcc34 = document.getElementById('newcc34herna' + row_idherna2).value;
            var new_sku = document.getElementById('new_sku_herna' + row_idherna2).value;

            if (nombreherna == "" || piezaherna == "" || piezaherna == "0" || unidadherna == "" || precioherna == "" || precioherna == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowherna' + row_idherna2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoherna",
                    type: "post",
                    data: {
                        'nombreherna': nombreherna,
                        'unidadherna': unidadherna,
                        'piezaherna': piezaherna,
                        'precioherna': precioherna,
                        'observacionesherna': observacionesherna,
                        'departamentosherna': departamentosherna,
                        'subdepartamentosherna': subdepartamentosherna,
                        'statusherna': statusherna,
                        'hernaincluye': hernaincluye,
                        'reprocesoherna': reprocesoherna,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreherna + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowherna' + row_idherna2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoherna' + row_idherna2).value = response2;
                        //paphernafilanueva.style.display = 'none';
                        btnguardarnuevoherna.style.display = 'none';
                        var idnuevoherna = document.getElementById('idnuevoherna' + row_idherna2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductohernapdnt",
                            type: "post",
                            data: {
                                'idnuevoherna': idnuevoherna,
                                'ordenvalueherna': ordenvalueherna,
                                'nombreherna': nombreherna,
                                'unidadherna': unidadherna,
                                'piezaherna': piezaherna,
                                'precioherna': precioherna,
                                'subtotalherna': subtotalherna,
                                'observacionesherna': observacionesherna,
                                'departamentosherna': departamentosherna,
                                'subdepartamentosherna': subdepartamentosherna,
                                'hernaincluye': hernaincluye,
                                'color_values_herna': color_values_herna,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoherna2' + row_idherna2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31herna' + row_idherna2).prop('type', 'hidden');
                                        $('#newcc33herna' + row_idherna2).prop('type', 'hidden');
                                        $('#newcc34herna' + row_idherna2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_herna', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_herna' + row_color_div_id).show();
            $('#show_pallete_color_button_herna' + row_color_div_id).hide();
            $('#hide_pallete_color_button_herna' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_herna', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_herna' + row_color_div_id).hide();
            $('#hide_pallete_color_button_herna' + row_color_div_id).hide();
            $('#show_pallete_color_button_herna' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_herna', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_herna' + row_color_id).val(color);
            $('#color_prods_herna' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_herna' + row_color_id).hide();
        $('#show_pallete_color_button_herna' + row_color_id).show();
        $('#color_palete_herna' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_herna', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_herna' + row_color_id).val(color);
            $('#color_prods_herna' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_herna' + row_color_id).hide();
        $('#show_pallete_color_button_herna' + row_color_id).show();
        $('#color_palete_herna' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_herna', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_herna' + row_color_id).val(color);
            $('#color_prods_herna' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_herna' + row_color_id).hide();
        $('#show_pallete_color_button_herna' + row_color_id).show();
        $('#color_palete_herna' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_herna', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_herna' + row_color_id).val(color);
            $('#color_prods_herna' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_herna' + row_color_id).hide();
        $('#show_pallete_color_button_herna' + row_color_id).show();
        $('#color_palete_herna' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_herna', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_herna' + row_color_id).val(color);
            $('#color_prods_herna' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_herna' + row_color_id).hide();
        $('#show_pallete_color_button_herna' + row_color_id).show();
        $('#color_palete_herna' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_herna', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_herna' + row_color_id).val(color);
            $('#color_prods_herna' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_herna' + row_color_id).hide();
        $('#show_pallete_color_button_herna' + row_color_id).show();
        $('#color_palete_herna' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_herna', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_herna' + row_color_id).val(color);
            $('#color_prods_herna' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_herna' + row_color_id).hide();
        $('#show_pallete_color_button_herna' + row_color_id).show();
        $('#color_palete_herna' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnherna', function() {
            var row_idherna = $(this).attr("id");
            $('#rowherna' + row_idherna + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 16000;
        $(".additembtnprobmpi").click(function() {
            i++;
            x++;
            $("#contenidotablaprobmpi").append(`
            <tr id="rowprobmpi` + i + `" style="justify-content: center; text-align: center" class="probmpi_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_probmpi` + i + `">
                    <input type="hidden" id="idnuevoprobmpi` + i + `" name="idprobmpi[]" value="" readonly>
                    <input type="hidden" id="idnuevoprobmpi2` + i + `" name="idnuevoprobmpi[]" value="" readonly>
                    <div id="btnguardarnuevoprobmpi` + i + `">
                        <i type="button" class="changecolorprobmpi btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_probmpi` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_probmpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_probmpi` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_probmpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_probmpi` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_probmpi" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_probmpi" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_probmpi" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_probmpi" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_probmpi" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_probmpi" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_probmpi" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_probmpi_[]" id="color_values_probmpi` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreprobmpi` + i + `" name="nombreprobmpi[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="probmpiincluye[]" id="probmpiincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_probmpi` + i + `" placeholder="sku" value="" name="sku_probmpi[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31probmpi` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33probmpi` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34probmpi` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezaprobmpi` + i + `" name="piezaprobmpi[]" oninput="Calcprobmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadprobmpi` + i + `" name="unidadprobmpi[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioprobmpi` + i + `" name="precioprobmpi[]" oninput="Calcprobmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesoprobmpi` + i + `" name="reprocesoprobmpi[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusprobmpi[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalprobmpi[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalprobmpi` + i + `" name="subtotalprobmpi[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesprobmpi` + i + `" name="observacionesprobmpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosprobmpi` + i + `" name="departamentosprobmpi[]" value="probadores">
                    <input type="hidden" id="subdepartamentosprobmpi` + i + `" name="subdepartamentosprobmpi[]" value="mobiliario de piso">
                    <input type="hidden" id="statusprobmpi` + i + `" name="statusprobmpi[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papprobmpifilanueva` + i + `">
                        <i type="button" class="removeitembtnprobmpi fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorprobmpi', function() {
            var row_idprobmpi2 = $(this).attr("id");
            var nombreprobmpi = document.getElementById('nombreprobmpi' + row_idprobmpi2).value;
            var piezaprobmpi = document.getElementById('piezaprobmpi' + row_idprobmpi2).value;
            var unidadprobmpi = document.getElementById('unidadprobmpi' + row_idprobmpi2).value;
            var precioprobmpi = document.getElementById('precioprobmpi' + row_idprobmpi2).value;
            var observacionesprobmpi = document.getElementById('observacionesprobmpi' + row_idprobmpi2).value;
            var departamentosprobmpi = document.getElementById('departamentosprobmpi' + row_idprobmpi2).value;
            var subdepartamentosprobmpi = document.getElementById('subdepartamentosprobmpi' + row_idprobmpi2).value;
            var statusprobmpi = document.getElementById('statusprobmpi' + row_idprobmpi2).value;
            var papprobmpifilanueva = document.getElementById('papprobmpifilanueva' + row_idprobmpi2);
            var btnguardarnuevoprobmpi = document.getElementById('btnguardarnuevoprobmpi' + row_idprobmpi2);
            var subtotalprobmpi = document.getElementById('subtotalprobmpi' + row_idprobmpi2).value;
            var ordenvalueprobmpi = document.getElementById('ordenpdntvalue').value;
            var probmpiincluye = document.getElementById('probmpiincluye' + row_idprobmpi2).value;
            var color_values_probmpi = document.getElementById('color_values_probmpi' + row_idprobmpi2).value;
            var reprocesoprobmpi = document.getElementById('reprocesoprobmpi' + row_idprobmpi2).value;

            var newcc31 = document.getElementById('newcc31probmpi' + row_idprobmpi2).value;
            var newcc33 = document.getElementById('newcc33probmpi' + row_idprobmpi2).value;
            var newcc34 = document.getElementById('newcc34probmpi' + row_idprobmpi2).value;
            var new_sku = document.getElementById('new_sku_probmpi' + row_idprobmpi2).value;

            if (nombreprobmpi == "" || piezaprobmpi == "" || piezaprobmpi == "0" || unidadprobmpi == "" || precioprobmpi == "" || precioprobmpi == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowprobmpi' + row_idprobmpi2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoprobmpi",
                    type: "post",
                    data: {
                        'nombreprobmpi': nombreprobmpi,
                        'unidadprobmpi': unidadprobmpi,
                        'piezaprobmpi': piezaprobmpi,
                        'precioprobmpi': precioprobmpi,
                        'observacionesprobmpi': observacionesprobmpi,
                        'departamentosprobmpi': departamentosprobmpi,
                        'subdepartamentosprobmpi': subdepartamentosprobmpi,
                        'statusprobmpi': statusprobmpi,
                        'probmpiincluye': probmpiincluye,
                        'reprocesoprobmpi': reprocesoprobmpi,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreprobmpi + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowprobmpi' + row_idprobmpi2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoprobmpi' + row_idprobmpi2).value = response2;
                        //papprobmpifilanueva.style.display = 'none';
                        btnguardarnuevoprobmpi.style.display = 'none';
                        var idnuevoprobmpi = document.getElementById('idnuevoprobmpi' + row_idprobmpi2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductoprobmpipdnt",
                            type: "post",
                            data: {
                                'idnuevoprobmpi': idnuevoprobmpi,
                                'ordenvalueprobmpi': ordenvalueprobmpi,
                                'nombreprobmpi': nombreprobmpi,
                                'unidadprobmpi': unidadprobmpi,
                                'piezaprobmpi': piezaprobmpi,
                                'precioprobmpi': precioprobmpi,
                                'subtotalprobmpi': subtotalprobmpi,
                                'observacionesprobmpi': observacionesprobmpi,
                                'departamentosprobmpi': departamentosprobmpi,
                                'subdepartamentosprobmpi': subdepartamentosprobmpi,
                                'probmpiincluye': probmpiincluye,
                                'color_values_probmpi': color_values_probmpi,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoprobmpi2' + row_idprobmpi2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31probmpi' + row_idprobmpi2).prop('type', 'hidden');
                                        $('#newcc33probmpi' + row_idprobmpi2).prop('type', 'hidden');
                                        $('#newcc34probmpi' + row_idprobmpi2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_probmpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_probmpi' + row_color_div_id).show();
            $('#show_pallete_color_button_probmpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_probmpi' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_probmpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_probmpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_probmpi' + row_color_div_id).hide();
            $('#show_pallete_color_button_probmpi' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_probmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_probmpi' + row_color_id).val(color);
            $('#color_prods_probmpi' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_probmpi' + row_color_id).hide();
        $('#show_pallete_color_button_probmpi' + row_color_id).show();
        $('#color_palete_probmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_probmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_probmpi' + row_color_id).val(color);
            $('#color_prods_probmpi' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_probmpi' + row_color_id).hide();
        $('#show_pallete_color_button_probmpi' + row_color_id).show();
        $('#color_palete_probmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_probmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_probmpi' + row_color_id).val(color);
            $('#color_prods_probmpi' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_probmpi' + row_color_id).hide();
        $('#show_pallete_color_button_probmpi' + row_color_id).show();
        $('#color_palete_probmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_probmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_probmpi' + row_color_id).val(color);
            $('#color_prods_probmpi' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_probmpi' + row_color_id).hide();
        $('#show_pallete_color_button_probmpi' + row_color_id).show();
        $('#color_palete_probmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_probmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_probmpi' + row_color_id).val(color);
            $('#color_prods_probmpi' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_probmpi' + row_color_id).hide();
        $('#show_pallete_color_button_probmpi' + row_color_id).show();
        $('#color_palete_probmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_probmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_probmpi' + row_color_id).val(color);
            $('#color_prods_probmpi' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_probmpi' + row_color_id).hide();
        $('#show_pallete_color_button_probmpi' + row_color_id).show();
        $('#color_palete_probmpi' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_probmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_probmpi' + row_color_id).val(color);
            $('#color_prods_probmpi' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_probmpi' + row_color_id).hide();
        $('#show_pallete_color_button_probmpi' + row_color_id).show();
        $('#color_palete_probmpi' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnprobmpi', function() {
            var row_idprobmpi = $(this).attr("id");
            $('#rowprobmpi' + row_idprobmpi + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 17000;
        $(".additembtnpanmpi").click(function() {
            i++;
            x++;
            $("#contenidotablapanmpi").append(`
            <tr id="rowpanmpi` + i + `" style="justify-content: center; text-align: center" class="panmpi_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_panmpi` + i + `">
                    <input type="hidden" id="idnuevopanmpi` + i + `" name="idpanmpi[]" value="" readonly>
                    <input type="hidden" id="idnuevopanmpi2` + i + `" name="idnuevopanmpi[]" value="" readonly>
                    <div id="btnguardarnuevopanmpi` + i + `">
                        <i type="button" class="changecolorpanmpi btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_panmpi` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_panmpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_panmpi` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_panmpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_panmpi` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_panmpi" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_panmpi" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_panmpi" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_panmpi" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_panmpi" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_panmpi" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_panmpi" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_panmpi_[]" id="color_values_panmpi` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombrepanmpi` + i + `" name="nombrepanmpi[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="panmpiincluye[]" id="panmpiincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_panmpi` + i + `" placeholder="sku" value="" name="sku_panmpi[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31panmpi` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33panmpi` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34panmpi` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezapanmpi` + i + `" name="piezapanmpi[]" oninput="Calcpanmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadpanmpi` + i + `" name="unidadpanmpi[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="preciopanmpi` + i + `" name="preciopanmpi[]" oninput="Calcpanmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesopanmpi` + i + `" name="reprocesopanmpi[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatuspanmpi[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalpanmpi[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalpanmpi` + i + `" name="subtotalpanmpi[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionespanmpi` + i + `" name="observacionespanmpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentospanmpi` + i + `" name="departamentospanmpi[]" value="paneles">
                    <input type="hidden" id="subdepartamentospanmpi` + i + `" name="subdepartamentospanmpi[]" value="mobiliario de piso">
                    <input type="hidden" id="statuspanmpi` + i + `" name="statuspanmpi[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="pappanmpifilanueva` + i + `">
                        <i type="button" class="removeitembtnpanmpi fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorpanmpi', function() {
            var row_idpanmpi2 = $(this).attr("id");
            var nombrepanmpi = document.getElementById('nombrepanmpi' + row_idpanmpi2).value;
            var piezapanmpi = document.getElementById('piezapanmpi' + row_idpanmpi2).value;
            var unidadpanmpi = document.getElementById('unidadpanmpi' + row_idpanmpi2).value;
            var preciopanmpi = document.getElementById('preciopanmpi' + row_idpanmpi2).value;
            var observacionespanmpi = document.getElementById('observacionespanmpi' + row_idpanmpi2).value;
            var departamentospanmpi = document.getElementById('departamentospanmpi' + row_idpanmpi2).value;
            var subdepartamentospanmpi = document.getElementById('subdepartamentospanmpi' + row_idpanmpi2).value;
            var statuspanmpi = document.getElementById('statuspanmpi' + row_idpanmpi2).value;
            var pappanmpifilanueva = document.getElementById('pappanmpifilanueva' + row_idpanmpi2);
            var btnguardarnuevopanmpi = document.getElementById('btnguardarnuevopanmpi' + row_idpanmpi2);
            var subtotalpanmpi = document.getElementById('subtotalpanmpi' + row_idpanmpi2).value;
            var ordenvaluepanmpi = document.getElementById('ordenpdntvalue').value;
            var panmpiincluye = document.getElementById('panmpiincluye' + row_idpanmpi2).value;
            var color_values_panmpi = document.getElementById('color_values_panmpi' + row_idpanmpi2).value;
            var reprocesopanmpi = document.getElementById('reprocesopanmpi' + row_idpanmpi2).value;

            var newcc31 = document.getElementById('newcc31panmpi' + row_idpanmpi2).value;
            var newcc33 = document.getElementById('newcc33panmpi' + row_idpanmpi2).value;
            var newcc34 = document.getElementById('newcc34panmpi' + row_idpanmpi2).value;
            var new_sku = document.getElementById('new_sku_panmpi' + row_idpanmpi2).value;

            if (nombrepanmpi == "" || piezapanmpi == "" || piezapanmpi == "0" || unidadpanmpi == "" || preciopanmpi == "" || preciopanmpi == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowpanmpi' + row_idpanmpi2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductopanmpi",
                    type: "post",
                    data: {
                        'nombrepanmpi': nombrepanmpi,
                        'unidadpanmpi': unidadpanmpi,
                        'piezapanmpi': piezapanmpi,
                        'preciopanmpi': preciopanmpi,
                        'observacionespanmpi': observacionespanmpi,
                        'departamentospanmpi': departamentospanmpi,
                        'subdepartamentospanmpi': subdepartamentospanmpi,
                        'statuspanmpi': statuspanmpi,
                        'panmpiincluye': panmpiincluye,
                        'reprocesopanmpi': reprocesopanmpi,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombrepanmpi + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowpanmpi' + row_idpanmpi2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevopanmpi' + row_idpanmpi2).value = response2;
                        //pappanmpifilanueva.style.display = 'none';
                        btnguardarnuevopanmpi.style.display = 'none';
                        var idnuevopanmpi = document.getElementById('idnuevopanmpi' + row_idpanmpi2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductopanmpipdnt",
                            type: "post",
                            data: {
                                'idnuevopanmpi': idnuevopanmpi,
                                'ordenvaluepanmpi': ordenvaluepanmpi,
                                'nombrepanmpi': nombrepanmpi,
                                'unidadpanmpi': unidadpanmpi,
                                'piezapanmpi': piezapanmpi,
                                'preciopanmpi': preciopanmpi,
                                'subtotalpanmpi': subtotalpanmpi,
                                'observacionespanmpi': observacionespanmpi,
                                'departamentospanmpi': departamentospanmpi,
                                'subdepartamentospanmpi': subdepartamentospanmpi,
                                'panmpiincluye': panmpiincluye,
                                'color_values_panmpi': color_values_panmpi,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevopanmpi2' + row_idpanmpi2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31panmpi' + row_idpanmpi2).prop('type', 'hidden');
                                        $('#newcc33panmpi' + row_idpanmpi2).prop('type', 'hidden');
                                        $('#newcc34panmpi' + row_idpanmpi2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_panmpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_panmpi' + row_color_div_id).show();
            $('#show_pallete_color_button_panmpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_panmpi' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_panmpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_panmpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_panmpi' + row_color_div_id).hide();
            $('#show_pallete_color_button_panmpi' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_panmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_panmpi' + row_color_id).val(color);
            $('#color_prods_panmpi' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_panmpi' + row_color_id).hide();
        $('#show_pallete_color_button_panmpi' + row_color_id).show();
        $('#color_palete_panmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_panmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_panmpi' + row_color_id).val(color);
            $('#color_prods_panmpi' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_panmpi' + row_color_id).hide();
        $('#show_pallete_color_button_panmpi' + row_color_id).show();
        $('#color_palete_panmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_panmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_panmpi' + row_color_id).val(color);
            $('#color_prods_panmpi' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_panmpi' + row_color_id).hide();
        $('#show_pallete_color_button_panmpi' + row_color_id).show();
        $('#color_palete_panmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_panmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_panmpi' + row_color_id).val(color);
            $('#color_prods_panmpi' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_panmpi' + row_color_id).hide();
        $('#show_pallete_color_button_panmpi' + row_color_id).show();
        $('#color_palete_panmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_panmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_panmpi' + row_color_id).val(color);
            $('#color_prods_panmpi' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_panmpi' + row_color_id).hide();
        $('#show_pallete_color_button_panmpi' + row_color_id).show();
        $('#color_palete_panmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_panmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_panmpi' + row_color_id).val(color);
            $('#color_prods_panmpi' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_panmpi' + row_color_id).hide();
        $('#show_pallete_color_button_panmpi' + row_color_id).show();
        $('#color_palete_panmpi' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_panmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_panmpi' + row_color_id).val(color);
            $('#color_prods_panmpi' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_panmpi' + row_color_id).hide();
        $('#show_pallete_color_button_panmpi' + row_color_id).show();
        $('#color_palete_panmpi' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnpanmpi', function() {
            var row_idpanmpi = $(this).attr("id");
            $('#rowpanmpi' + row_idpanmpi + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 18000;
        $(".additembtnextmpi").click(function() {
            i++;
            x++;
            $("#contenidotablaextmpi").append(`
            <tr id="rowextmpi` + i + `" style="justify-content: center; text-align: center" class="extmpi_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_extmpi` + i + `">
                    <input type="hidden" id="idnuevoextmpi` + i + `" name="idextmpi[]" value="" readonly>
                    <input type="hidden" id="idnuevoextmpi2` + i + `" name="idnuevoextmpi[]" value="" readonly>
                    <div id="btnguardarnuevoextmpi` + i + `">
                        <i type="button" class="changecolorextmpi btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_extmpi` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_extmpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_extmpi` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_extmpi" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_extmpi` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_extmpi" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_extmpi" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_extmpi" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_extmpi" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_extmpi" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_extmpi" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_extmpi" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_extmpi_[]" id="color_values_extmpi` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreextmpi` + i + `" name="nombreextmpi[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="extmpiincluye[]" id="extmpiincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_extmpi` + i + `" placeholder="sku" value="" name="sku_extmpi[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31extmpi` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33extmpi` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34extmpi` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezaextmpi` + i + `" name="piezaextmpi[]" oninput="Calcextmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadextmpi` + i + `" name="unidadextmpi[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioextmpi` + i + `" name="precioextmpi[]" oninput="Calcextmpi(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesoextmpi` + i + `" name="reprocesoextmpi[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusextmpi[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalextmpi[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalextmpi` + i + `" name="subtotalextmpi[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesextmpi` + i + `" name="observacionesextmpi[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosextmpi` + i + `" name="departamentosextmpi[]" value="extras">
                    <input type="hidden" id="subdepartamentosextmpi` + i + `" name="subdepartamentosextmpi[]" value="mobiliario de piso">
                    <input type="hidden" id="statusextmpi` + i + `" name="statusextmpi[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papextmpifilanueva` + i + `">
                        <i type="button" class="removeitembtnextmpi fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorextmpi', function() {
            var row_idextmpi2 = $(this).attr("id");
            var nombreextmpi = document.getElementById('nombreextmpi' + row_idextmpi2).value;
            var piezaextmpi = document.getElementById('piezaextmpi' + row_idextmpi2).value;
            var unidadextmpi = document.getElementById('unidadextmpi' + row_idextmpi2).value;
            var precioextmpi = document.getElementById('precioextmpi' + row_idextmpi2).value;
            var observacionesextmpi = document.getElementById('observacionesextmpi' + row_idextmpi2).value;
            var departamentosextmpi = document.getElementById('departamentosextmpi' + row_idextmpi2).value;
            var subdepartamentosextmpi = document.getElementById('subdepartamentosextmpi' + row_idextmpi2).value;
            var statusextmpi = document.getElementById('statusextmpi' + row_idextmpi2).value;
            var papextmpifilanueva = document.getElementById('papextmpifilanueva' + row_idextmpi2);
            var btnguardarnuevoextmpi = document.getElementById('btnguardarnuevoextmpi' + row_idextmpi2);
            var subtotalextmpi = document.getElementById('subtotalextmpi' + row_idextmpi2).value;
            var ordenvalueextmpi = document.getElementById('ordenpdntvalue').value;
            var extmpiincluye = document.getElementById('extmpiincluye' + row_idextmpi2).value;
            var color_values_extmpi = document.getElementById('color_values_extmpi' + row_idextmpi2).value;
            var reprocesoextmpi = document.getElementById('reprocesoextmpi' + row_idextmpi2).value;

            var newcc31 = document.getElementById('newcc31extmpi' + row_idextmpi2).value;
            var newcc33 = document.getElementById('newcc33extmpi' + row_idextmpi2).value;
            var newcc34 = document.getElementById('newcc34extmpi' + row_idextmpi2).value;
            var new_sku = document.getElementById('new_sku_extmpi' + row_idextmpi2).value;

            if (nombreextmpi == "" || piezaextmpi == "" || piezaextmpi == "0" || unidadextmpi == "" || precioextmpi == "" || precioextmpi == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowextmpi' + row_idextmpi2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoextmpi",
                    type: "post",
                    data: {
                        'nombreextmpi': nombreextmpi,
                        'unidadextmpi': unidadextmpi,
                        'piezaextmpi': piezaextmpi,
                        'precioextmpi': precioextmpi,
                        'observacionesextmpi': observacionesextmpi,
                        'departamentosextmpi': departamentosextmpi,
                        'subdepartamentosextmpi': subdepartamentosextmpi,
                        'statusextmpi': statusextmpi,
                        'extmpiincluye': extmpiincluye,
                        'reprocesoextmpi': reprocesoextmpi,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreextmpi + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowextmpi' + row_idextmpi2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoextmpi' + row_idextmpi2).value = response2;
                        //papextmpifilanueva.style.display = 'none';
                        btnguardarnuevoextmpi.style.display = 'none';
                        var idnuevoextmpi = document.getElementById('idnuevoextmpi' + row_idextmpi2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductoextmpipdnt",
                            type: "post",
                            data: {
                                'idnuevoextmpi': idnuevoextmpi,
                                'ordenvalueextmpi': ordenvalueextmpi,
                                'nombreextmpi': nombreextmpi,
                                'unidadextmpi': unidadextmpi,
                                'piezaextmpi': piezaextmpi,
                                'precioextmpi': precioextmpi,
                                'subtotalextmpi': subtotalextmpi,
                                'observacionesextmpi': observacionesextmpi,
                                'departamentosextmpi': departamentosextmpi,
                                'subdepartamentosextmpi': subdepartamentosextmpi,
                                'extmpiincluye': extmpiincluye,
                                'color_values_extmpi': color_values_extmpi,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoextmpi2' + row_idextmpi2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31extmpi' + row_idextmpi2).prop('type', 'hidden');
                                        $('#newcc33extmpi' + row_idextmpi2).prop('type', 'hidden');
                                        $('#newcc34extmpi' + row_idextmpi2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_extmpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_extmpi' + row_color_div_id).show();
            $('#show_pallete_color_button_extmpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_extmpi' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_extmpi', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_extmpi' + row_color_div_id).hide();
            $('#hide_pallete_color_button_extmpi' + row_color_div_id).hide();
            $('#show_pallete_color_button_extmpi' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_extmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_extmpi' + row_color_id).val(color);
            $('#color_prods_extmpi' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_extmpi' + row_color_id).hide();
        $('#show_pallete_color_button_extmpi' + row_color_id).show();
        $('#color_palete_extmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_extmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_extmpi' + row_color_id).val(color);
            $('#color_prods_extmpi' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_extmpi' + row_color_id).hide();
        $('#show_pallete_color_button_extmpi' + row_color_id).show();
        $('#color_palete_extmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_extmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_extmpi' + row_color_id).val(color);
            $('#color_prods_extmpi' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_extmpi' + row_color_id).hide();
        $('#show_pallete_color_button_extmpi' + row_color_id).show();
        $('#color_palete_extmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_extmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_extmpi' + row_color_id).val(color);
            $('#color_prods_extmpi' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_extmpi' + row_color_id).hide();
        $('#show_pallete_color_button_extmpi' + row_color_id).show();
        $('#color_palete_extmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_extmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_extmpi' + row_color_id).val(color);
            $('#color_prods_extmpi' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_extmpi' + row_color_id).hide();
        $('#show_pallete_color_button_extmpi' + row_color_id).show();
        $('#color_palete_extmpi' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_extmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_extmpi' + row_color_id).val(color);
            $('#color_prods_extmpi' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_extmpi' + row_color_id).hide();
        $('#show_pallete_color_button_extmpi' + row_color_id).show();
        $('#color_palete_extmpi' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_extmpi', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_extmpi' + row_color_id).val(color);
            $('#color_prods_extmpi' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_extmpi' + row_color_id).hide();
        $('#show_pallete_color_button_extmpi' + row_color_id).show();
        $('#color_palete_extmpi' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnextmpi', function() {
            var row_idextmpi = $(this).attr("id");
            $('#rowextmpi' + row_idextmpi + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 19000;
        $(".additembtnimgp").click(function() {
            i++;
            x++;
            $("#contenidotablaimgp").append(`
            <tr id="rowimgp` + i + `" style="justify-content: center; text-align: center" class="imgp_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_imgp` + i + `">
                    <input type="hidden" id="idnuevoimgp` + i + `" name="idimgp[]" value="" readonly>
                    <input type="hidden" id="idnuevoimgp2` + i + `" name="idnuevoimgp[]" value="" readonly>
                    <div id="btnguardarnuevoimgp` + i + `">
                        <i type="button" class="changecolorimgp btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_imgp` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_imgp" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_imgp` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_imgp" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_imgp` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_imgp" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_imgp" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_imgp" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_imgp" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_imgp" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_imgp" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_imgp" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_imgp_[]" id="color_values_imgp` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreimgp` + i + `" name="nombreimgp[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="imgpincluye[]" id="imgpincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_imgp` + i + `" placeholder="sku" value="" name="sku_imgp[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31imgp` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33imgp` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34imgp` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioimgp` + i + `" name="precioimgp[]" oninput=" enviarimagenpops(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes(); ">
                    <input size="10" id="reprocesoimgp` + i + `" name="reprocesoimgp[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusimgp[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesimgp` + i + `" name="observacionesimgp[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="piezaimgp` + i + `" name="piezaimgp[]" value="1">
                    <input type="hidden" id="unidadimgp` + i + `" name="unidadimgp[]" value="PZA">
                    <input type="hidden" id="subtotalimgp` + i + `" name="subtotalimgp[]" value="0">
                    <input type="hidden" id="departamentosimgp` + i + `" name="departamentosimgp[]" value="imagen">
                    <input type="hidden" id="subdepartamentosimgp` + i + `" name="subdepartamentosimgp[]" value="pop">
                    <input type="hidden" id="statusimgp` + i + `" name="statusimgp[]" value="Activo">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdfinalimgp[]"></td>
                <td style="font-size: 1.8em">
                    <div id="papimgpfilanueva` + i + `">
                        <i type="button" class="removeitembtnimgp fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorimgp', function() {
            var row_idimgp2 = $(this).attr("id");
            var nombreimgp = document.getElementById('nombreimgp' + row_idimgp2).value;
            var piezaimgp = document.getElementById('piezaimgp' + row_idimgp2).value;
            var unidadimgp = document.getElementById('unidadimgp' + row_idimgp2).value;
            var precioimgp = document.getElementById('precioimgp' + row_idimgp2).value;
            var observacionesimgp = document.getElementById('observacionesimgp' + row_idimgp2).value;
            var departamentosimgp = document.getElementById('departamentosimgp' + row_idimgp2).value;
            var subdepartamentosimgp = document.getElementById('subdepartamentosimgp' + row_idimgp2).value;
            var statusimgp = document.getElementById('statusimgp' + row_idimgp2).value;
            var papimgpfilanueva = document.getElementById('papimgpfilanueva' + row_idimgp2);
            var btnguardarnuevoimgp = document.getElementById('btnguardarnuevoimgp' + row_idimgp2);
            var subtotalimgp = document.getElementById('subtotalimgp' + row_idimgp2).value;
            var ordenvalueimgp = document.getElementById('ordenpdntvalue').value;
            var imgpincluye = document.getElementById('imgpincluye' + row_idimgp2).value;
            var color_values_imgp = document.getElementById('color_values_imgp' + row_idimgp2).value;
            var reprocesoimgp = document.getElementById('reprocesoimgp' + row_idimgp2).value;

            var newcc31 = document.getElementById('newcc31imgp' + row_idimgp2).value;
            var newcc33 = document.getElementById('newcc33imgp' + row_idimgp2).value;
            var newcc34 = document.getElementById('newcc34imgp' + row_idimgp2).value;
            var new_sku = document.getElementById('new_sku_imgp' + row_idimgp2).value;

            if (nombreimgp == "" || precioimgp == "" || precioimgp == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowimgp' + row_idimgp2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoimgp",
                    type: "post",
                    data: {
                        'nombreimgp': nombreimgp,
                        'unidadimgp': unidadimgp,
                        'piezaimgp': piezaimgp,
                        'precioimgp': precioimgp,
                        'observacionesimgp': observacionesimgp,
                        'departamentosimgp': departamentosimgp,
                        'subdepartamentosimgp': subdepartamentosimgp,
                        'statusimgp': statusimgp,
                        'imgpincluye': imgpincluye,
                        'reprocesoimgp': reprocesoimgp,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreimgp + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowimgp' + row_idimgp2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoimgp' + row_idimgp2).value = response2;
                        //papimgpfilanueva.style.display = 'none';
                        btnguardarnuevoimgp.style.display = 'none';

                        var idnuevoimgp = document.getElementById('idnuevoimgp' + row_idimgp2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductoimgppdnt",
                            type: "post",
                            data: {
                                'idnuevoimgp': idnuevoimgp,
                                'ordenvalueimgp': ordenvalueimgp,
                                'nombreimgp': nombreimgp,
                                'unidadimgp': unidadimgp,
                                'piezaimgp': piezaimgp,
                                'precioimgp': precioimgp,
                                'subtotalimgp': subtotalimgp,
                                'observacionesimgp': observacionesimgp,
                                'departamentosimgp': departamentosimgp,
                                'subdepartamentosimgp': subdepartamentosimgp,
                                'imgpincluye': imgpincluye,
                                'color_values_imgp': color_values_imgp,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoimgp2' + row_idimgp2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31imgp' + row_idimgp2).prop('type', 'hidden');
                                        $('#newcc33imgp' + row_idimgp2).prop('type', 'hidden');
                                        $('#newcc34imgp' + row_idimgp2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_imgp', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_imgp' + row_color_div_id).show();
            $('#show_pallete_color_button_imgp' + row_color_div_id).hide();
            $('#hide_pallete_color_button_imgp' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_imgp', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_imgp' + row_color_div_id).hide();
            $('#hide_pallete_color_button_imgp' + row_color_div_id).hide();
            $('#show_pallete_color_button_imgp' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_imgp', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_imgp' + row_color_id).val(color);
            $('#color_prods_imgp' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_imgp' + row_color_id).hide();
        $('#show_pallete_color_button_imgp' + row_color_id).show();
        $('#color_palete_imgp' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_imgp', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_imgp' + row_color_id).val(color);
            $('#color_prods_imgp' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_imgp' + row_color_id).hide();
        $('#show_pallete_color_button_imgp' + row_color_id).show();
        $('#color_palete_imgp' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_imgp', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_imgp' + row_color_id).val(color);
            $('#color_prods_imgp' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_imgp' + row_color_id).hide();
        $('#show_pallete_color_button_imgp' + row_color_id).show();
        $('#color_palete_imgp' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_imgp', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_imgp' + row_color_id).val(color);
            $('#color_prods_imgp' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_imgp' + row_color_id).hide();
        $('#show_pallete_color_button_imgp' + row_color_id).show();
        $('#color_palete_imgp' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_imgp', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_imgp' + row_color_id).val(color);
            $('#color_prods_imgp' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_imgp' + row_color_id).hide();
        $('#show_pallete_color_button_imgp' + row_color_id).show();
        $('#color_palete_imgp' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_imgp', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_imgp' + row_color_id).val(color);
            $('#color_prods_imgp' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_imgp' + row_color_id).hide();
        $('#show_pallete_color_button_imgp' + row_color_id).show();
        $('#color_palete_imgp' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_imgp', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_imgp' + row_color_id).val(color);
            $('#color_prods_imgp' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_imgp' + row_color_id).hide();
        $('#show_pallete_color_button_imgp' + row_color_id).show();
        $('#color_palete_imgp' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnimgp', function() {
            var row_idimgp = $(this).attr("id");
            $('#rowimgp' + row_idimgp + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 20000;
        $(".additembtnimgm").click(function() {
            i++;
            x++;
            $("#contenidotablaimgm").append(`
            <tr id="rowimgm` + i + `" style="justify-content: center; text-align: center" class="imgm_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_imgm` + i + `">
                    <input type="hidden" id="idnuevoimgm` + i + `" name="idimgm[]" value="" readonly>
                    <input type="hidden" id="idnuevoimgm2` + i + `" name="idnuevoimgm[]" value="" readonly>
                    <div id="btnguardarnuevoimgm` + i + `">
                        <i type="button" class="changecolorimgm btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_imgm` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_imgm" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_imgm` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_imgm" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_imgm` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_imgm" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_imgm" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_imgm" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_imgm" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_imgm" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_imgm" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_imgm" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_imgm_[]" id="color_values_imgm` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreimgm` + i + `" name="nombreimgm[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="imgmincluye[]" id="imgmincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_imgm` + i + `" placeholder="sku" value="" name="sku_imgm[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31imgm` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33imgm` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34imgm` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioimgm` + i + `" name="precioimgm[]" oninput=" enviarimagenmaniquis(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes(); ">
                    <input size="10" id="reprocesoimgm` + i + `" name="reprocesoimgm[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusimgm[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesimgm` + i + `" name="observacionesimgm[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="piezaimgm` + i + `" name="piezaimgm[]" value="1">
                    <input type="hidden" id="unidadimgm` + i + `" name="unidadimgm[]" value="PZA">
                    <input type="hidden" id="subtotalimgm` + i + `" name="subtotalimgm[]" value="0">
                    <input type="hidden" id="departamentosimgm` + i + `" name="departamentosimgm[]" value="imagen">
                    <input type="hidden" id="subdepartamentosimgm` + i + `" name="subdepartamentosimgm[]" value="maniquis">
                    <input type="hidden" id="statusimgm` + i + `" name="statusimgm[]" value="Activo">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdfinalimgm[]"></td>
                <td style="font-size: 1.8em">
                    <div id="papimgmfilanueva` + i + `">
                        <i type="button" class="removeitembtnimgm fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorimgm', function() {
            var row_idimgm2 = $(this).attr("id");
            var nombreimgm = document.getElementById('nombreimgm' + row_idimgm2).value;
            var piezaimgm = document.getElementById('piezaimgm' + row_idimgm2).value;
            var unidadimgm = document.getElementById('unidadimgm' + row_idimgm2).value;
            var precioimgm = document.getElementById('precioimgm' + row_idimgm2).value;
            var observacionesimgm = document.getElementById('observacionesimgm' + row_idimgm2).value;
            var departamentosimgm = document.getElementById('departamentosimgm' + row_idimgm2).value;
            var subdepartamentosimgm = document.getElementById('subdepartamentosimgm' + row_idimgm2).value;
            var statusimgm = document.getElementById('statusimgm' + row_idimgm2).value;
            var papimgmfilanueva = document.getElementById('papimgmfilanueva' + row_idimgm2);
            var btnguardarnuevoimgm = document.getElementById('btnguardarnuevoimgm' + row_idimgm2);
            var subtotalimgm = document.getElementById('subtotalimgm' + row_idimgm2).value;
            var ordenvalueimgm = document.getElementById('ordenpdntvalue').value;
            var imgmincluye = document.getElementById('imgmincluye' + row_idimgm2).value;
            var color_values_imgm = document.getElementById('color_values_imgm' + row_idimgm2).value;
            var reprocesoimgm = document.getElementById('reprocesoimgm' + row_idimgm2).value;

            var newcc31 = document.getElementById('newcc31imgm' + row_idimgm2).value;
            var newcc33 = document.getElementById('newcc33imgm' + row_idimgm2).value;
            var newcc34 = document.getElementById('newcc34imgm' + row_idimgm2).value;
            var new_sku = document.getElementById('new_sku_imgm' + row_idimgm2).value;

            if (nombreimgm == "" || precioimgm == "" || precioimgm == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowimgm' + row_idimgm2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoimgm",
                    type: "post",
                    data: {
                        'nombreimgm': nombreimgm,
                        'unidadimgm': unidadimgm,
                        'piezaimgm': piezaimgm,
                        'precioimgm': precioimgm,
                        'observacionesimgm': observacionesimgm,
                        'departamentosimgm': departamentosimgm,
                        'subdepartamentosimgm': subdepartamentosimgm,
                        'statusimgm': statusimgm,
                        'imgmincluye': imgmincluye,
                        'reprocesoimgm': reprocesoimgm,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreimgm + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowimgm' + row_idimgm2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoimgm' + row_idimgm2).value = response2;
                        //papimgmfilanueva.style.display = 'none';
                        btnguardarnuevoimgm.style.display = 'none';

                        var idnuevoimgm = document.getElementById('idnuevoimgm' + row_idimgm2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductoimgmpdnt",
                            type: "post",
                            data: {
                                'idnuevoimgm': idnuevoimgm,
                                'ordenvalueimgm': ordenvalueimgm,
                                'nombreimgm': nombreimgm,
                                'unidadimgm': unidadimgm,
                                'piezaimgm': piezaimgm,
                                'precioimgm': precioimgm,
                                'subtotalimgm': subtotalimgm,
                                'observacionesimgm': observacionesimgm,
                                'departamentosimgm': departamentosimgm,
                                'subdepartamentosimgm': subdepartamentosimgm,
                                'imgmincluye': imgmincluye,
                                'color_values_imgm': color_values_imgm,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoimgm2' + row_idimgm2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31imgm' + row_idimgm2).prop('type', 'hidden');
                                        $('#newcc33imgm' + row_idimgm2).prop('type', 'hidden');
                                        $('#newcc34imgm' + row_idimgm2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_imgm', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_imgm' + row_color_div_id).show();
            $('#show_pallete_color_button_imgm' + row_color_div_id).hide();
            $('#hide_pallete_color_button_imgm' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_imgm', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_imgm' + row_color_div_id).hide();
            $('#hide_pallete_color_button_imgm' + row_color_div_id).hide();
            $('#show_pallete_color_button_imgm' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_imgm', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_imgm' + row_color_id).val(color);
            $('#color_prods_imgm' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_imgm' + row_color_id).hide();
        $('#show_pallete_color_button_imgm' + row_color_id).show();
        $('#color_palete_imgm' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_imgm', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_imgm' + row_color_id).val(color);
            $('#color_prods_imgm' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_imgm' + row_color_id).hide();
        $('#show_pallete_color_button_imgm' + row_color_id).show();
        $('#color_palete_imgm' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_imgm', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_imgm' + row_color_id).val(color);
            $('#color_prods_imgm' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_imgm' + row_color_id).hide();
        $('#show_pallete_color_button_imgm' + row_color_id).show();
        $('#color_palete_imgm' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_imgm', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_imgm' + row_color_id).val(color);
            $('#color_prods_imgm' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_imgm' + row_color_id).hide();
        $('#show_pallete_color_button_imgm' + row_color_id).show();
        $('#color_palete_imgm' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_imgm', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_imgm' + row_color_id).val(color);
            $('#color_prods_imgm' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_imgm' + row_color_id).hide();
        $('#show_pallete_color_button_imgm' + row_color_id).show();
        $('#color_palete_imgm' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_imgm', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_imgm' + row_color_id).val(color);
            $('#color_prods_imgm' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_imgm' + row_color_id).hide();
        $('#show_pallete_color_button_imgm' + row_color_id).show();
        $('#color_palete_imgm' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_imgm', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_imgm' + row_color_id).val(color);
            $('#color_prods_imgm' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_imgm' + row_color_id).hide();
        $('#show_pallete_color_button_imgm' + row_color_id).show();
        $('#color_palete_imgm' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnimgm', function() {
            var row_idimgm = $(this).attr("id");
            $('#rowimgm' + row_idimgm + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
    });
</script>

<script type="text/javascript">
    $(document).ready(function() {
        var i = 1;
        var x = 21000;
        $(".additembtnots").click(function() {
            i++;
            x++;
            $("#contenidotablaots").append(`
            <tr id="rowots` + i + `" style="justify-content: center; text-align: center" class="ots_rows_to_delete">
                <td style="font-size: 1.5em" id="color_prods_ots` + i + `">
                    <input type="hidden" id="idnuevoots` + i + `" name="idots[]" value="" readonly>
                    <input type="hidden" id="idnuevoots2` + i + `" name="idnuevoots[]" value="" readonly>
                    <div id="btnguardarnuevoots` + i + `">
                        <i type="button" class="changecolorots btn btn-outline-dark fa fa-floppy-o" style="background-color: chartreuse; color: #000000; cursor: pointer; font-size: 1.1em" id="` + i + `"></i>
                    </div>
                    <div>
                        <div id="show_pallete_color_button_ots` + i + `">
                            <i style="cursor:pointer" class="show_pallete_color_ots" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                        <div id="hide_pallete_color_button_ots` + i + `" style="display:none;">
                            <i style="cursor:pointer" class="hide_pallete_color_ots" id="` + i + `">
                                <img src="<?= base_url() ?>assets/img/color_pallete.png" style=" width: 25px;">
                            </i>
                        </div>
                    </div>
                    <div id="color_palete_ots` + i + `" style="display:none;">
                        <i type="button" class="btn set_red_ots" style="background-color: #FF0000; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_orange_ots" style="background-color: #FF8B00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_yellow_ots" style="background-color: #F7FF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_green_ots" style="background-color: #4DFF00; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_blue_ots" style="background-color: #0055FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn set_purple_ots" style="background-color: #CD00FF; cursor: pointer" id="` + i + `"></i>
                        <i type="button" class="btn quit_color_ots" style="background-color: #ffffff; cursor: pointer" id="` + i + `"></i>
                    </div>
                    <input type="hidden" name="color_ots_[]" id="color_values_ots` + i + `" value="0" size="5">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="width:100%;border:none;border-bottom:1px solid gray;" required id="nombreots` + i + `" name="nombreots[]" placeholder="Nombre" class="auto_complete">
                    <textarea style="background: transparent" name="otsincluye[]" id="otsincluye` + i + `" cols="50" rows="3" placeholder="incluye"></textarea>
                </td>
                <td>
                    <div><input class="skuvalueinsert" id="new_sku_ots` + i + `" placeholder="sku" value="" name="sku_ots[]" size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;"></div>
                    <div><input class="skuvaluecc31" id="newcc31ots` + i + `" size="10" value="" placeholder="cc31" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc33" id="newcc33ots` + i + `" size="10" value="" placeholder="cc33" style="border:none; border-bottom: 1px solid gray"></div>
                    <div><input class="skuvaluecc34" id="newcc34ots` + i + `" size="10" value="" placeholder="cc34" style="border:none; border-bottom: 1px solid gray"></div>
                </td>
                <td>
                    <input style="font-size: 1.3em; color: black; width: 50px;border:none;border-bottom:1px solid gray;" type="number" min="1" inputmode="numeric" step="any" placeholder="0" required class="auto_complete_pieza" id="piezaots` + i + `" name="piezaots[]" oninput="Calcots(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                </td>
                <td style="font-size: 1.3em; color: black">
                    <input type="text" style="border:none;border-bottom:1px solid gray;" required size="5" class="auto_complete_unidad" id="unidadots` + i + `" name="unidadots[]" placeholder="Tipo">
                </td>
                <td>
                    <input size="10" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" inputmode="numeric" placeholder="0" required class="auto_complete_precio" id="precioots` + i + `" name="precioots[]" oninput="Calcots(this); calculaherrajes(); calculamuebles(); calculaextras(); calculapop(); calculamaniquis(); calculaotros(); calculatotalmueherextintytrapopman(); calculatotalentrevalorantespreciototal(); calculatotalmueherext(); calculatotalentrevalorantespreciototal2(); getanticipo(); gettotaliva(); getanticipoiva(); gettotaltiendatotal(); gettotaltiendaanticipo(); getfiniquito(); getPorcentajes()" value="">
                    <input size="10" id="reprocesoots` + i + `" name="reprocesoots[]" style="font-size: 1.3em; color: black;border:none;border-bottom:1px solid gray;" type="text" placeholder="rep" class="auto_complete_precio_rep">
                    <input size="10" name="reprocesstatusots[]" type="hidden" value="0">
                </td>
                <td style="font-size: 1.3em; color: black" name="tdsubtotalots[]">
                </td>
                    <input size="10" style="font-size: 1.3em; color: black" type="hidden" id="subtotalots` + i + `" name="subtotalots[]" readonly>
                <td style="font-size: 1em; color: black;width:35%">
                    <input type="text" id="observacionesots` + i + `" name="observacionesots[]" style="width:100%;border:none;border-bottom:1px solid gray;" placeholder="Observaciones" class="auto_complete_obs">
                    <input type="hidden" id="departamentosots` + i + `" name="departamentosots[]" value="otros">
                    <input type="hidden" id="subdepartamentosots` + i + `" name="subdepartamentosots[]" value="no aplica">
                    <input type="hidden" id="statusots` + i + `" name="statusots[]" value="Activo">
                </td>
                <td style="font-size: 1.8em">
                    <div id="papotsfilanueva` + i + `">
                        <i type="button" class="removeitembtnots fa fa-trash-o" style="color: #000000; cursor: pointer" id="` + i + `"></i>
                    </div>
                </td>
                <td></td>
            </tr>
            `);
        });
        $(document).on('click', '.changecolorots', function() {
            var row_idots2 = $(this).attr("id");
            var nombreots = document.getElementById('nombreots' + row_idots2).value;
            var piezaots = document.getElementById('piezaots' + row_idots2).value;
            var unidadots = document.getElementById('unidadots' + row_idots2).value;
            var precioots = document.getElementById('precioots' + row_idots2).value;
            var observacionesots = document.getElementById('observacionesots' + row_idots2).value;
            var departamentosots = document.getElementById('departamentosots' + row_idots2).value;
            var subdepartamentosots = document.getElementById('subdepartamentosots' + row_idots2).value;
            var statusots = document.getElementById('statusots' + row_idots2).value;
            var papotsfilanueva = document.getElementById('papotsfilanueva' + row_idots2);
            var btnguardarnuevoots = document.getElementById('btnguardarnuevoots' + row_idots2);
            var subtotalots = document.getElementById('subtotalots' + row_idots2).value;
            var ordenvalueots = document.getElementById('ordenpdntvalue').value;
            var otsincluye = document.getElementById('otsincluye' + row_idots2).value;
            var color_values_ots = document.getElementById('color_values_ots' + row_idots2).value;
            var reprocesoots = document.getElementById('reprocesoots' + row_idots2).value;

            var newcc31 = document.getElementById('newcc31ots' + row_idots2).value;
            var newcc33 = document.getElementById('newcc33ots' + row_idots2).value;
            var newcc34 = document.getElementById('newcc34ots' + row_idots2).value;
            var new_sku = document.getElementById('new_sku_ots' + row_idots2).value;

            if (nombreots == "" || piezaots == "" || piezaots == "0" || unidadots == "" || precioots == "" || precioots == "0" || newcc31 == "" || newcc33 == "" || newcc34 == "" || new_sku == "") {
                alert("¬°UNO O MAS CAMPOS OBLIGATORIOS DEL NUEVO REGISTRO ESTAN VACIOS O ESTAN EN '0'!")
                $('#rowots' + row_idots2 + '').css('background-color', '#FFE17A');
            } else {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/registraNuevoProductoots",
                    type: "post",
                    data: {
                        'nombreots': nombreots,
                        'unidadots': unidadots,
                        'piezaots': piezaots,
                        'precioots': precioots,
                        'observacionesots': observacionesots,
                        'departamentosots': departamentosots,
                        'subdepartamentosots': subdepartamentosots,
                        'statusots': statusots,
                        'otsincluye': otsincluye,
                        'reprocesoots': reprocesoots,
                    },
                    success: function(response2) {
                        console.log(response2);
                        alert('EL NUEVO PRODUCTO: ' + nombreots + ' HA SIDO A√ëADIDO A SU INVENTARIO CON √âXITO');
                        $('#rowots' + row_idots2 + '').css('background-color', '#ABFF80');
                        document.getElementById('idnuevoots' + row_idots2).value = response2;
                        //papotsfilanueva.style.display = 'none';
                        btnguardarnuevoots.style.display = 'none';

                        var idnuevoots = document.getElementById('idnuevoots' + row_idots2).value;
                        $.ajax({
                            url: "<?= base_url() ?>Dashboard/registraNuevoProductootspdnt",
                            type: "post",
                            data: {
                                'idnuevoots': idnuevoots,
                                'ordenvalueots': ordenvalueots,
                                'nombreots': nombreots,
                                'unidadots': unidadots,
                                'piezaots': piezaots,
                                'precioots': precioots,
                                'subtotalots': subtotalots,
                                'observacionesots': observacionesots,
                                'departamentosots': departamentosots,
                                'subdepartamentosots': subdepartamentosots,
                                'otsincluye': otsincluye,
                                'color_values_ots': color_values_ots,
                                'sku': new_sku,
                            },
                            success: function(response3) {
                                console.log('Tambien se a√±adio a su orden pendiente');
                                alert('Tambien se a√±adio a su orden pendiente');
                                console.log(response3);
                                document.getElementById('idnuevoots2' + row_idots2).value = response3;
                                $.ajax({
                                    url: "<?= base_url() ?>Dashboard/registraNuevosSkus",
                                    type: "post",
                                    data: {
                                        'cc31': newcc31,
                                        'cc33': newcc33,
                                        'cc34': newcc34,
                                        'id_producto': response2,
                                    },
                                    success: function() {
                                        console.log('se registraron skus nuevos');
                                        $('#newcc31ots' + row_idots2).prop('type', 'hidden');
                                        $('#newcc33ots' + row_idots2).prop('type', 'hidden');
                                        $('#newcc34ots' + row_idots2).prop('type', 'hidden');
                                    },
                                    error: function (){
                                        alert('error al registrar skus nuevos');
                                    }
                                });
                            }
                        })
                    }
                })
            }
        });
        $(document).on('click', '.show_pallete_color_ots', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_ots' + row_color_div_id).show();
            $('#show_pallete_color_button_ots' + row_color_div_id).hide();
            $('#hide_pallete_color_button_ots' + row_color_div_id).show();
        });
        $(document).on('click', '.hide_pallete_color_ots', function() {
            var row_color_div_id = $(this).attr("id");
            $('#color_palete_ots' + row_color_div_id).hide();
            $('#hide_pallete_color_button_ots' + row_color_div_id).hide();
            $('#show_pallete_color_button_ots' + row_color_div_id).show();
        });
        $(document).on('click', '.set_red_ots', function() {
            var row_color_id = $(this).attr("id");
            var color = "1";
            $('#color_values_ots' + row_color_id).val(color);
            $('#color_prods_ots' + row_color_id).css('background-color', '#FF0000');
            $('#hide_pallete_color_button_ots' + row_color_id).hide();
        $('#show_pallete_color_button_ots' + row_color_id).show();
        $('#color_palete_ots' + row_color_id).hide();
        });
        $(document).on('click', '.set_orange_ots', function() {
            var row_color_id = $(this).attr("id");
            var color = "2";
            $('#color_values_ots' + row_color_id).val(color);
            $('#color_prods_ots' + row_color_id).css('background-color', '#FF8B00');
            $('#hide_pallete_color_button_ots' + row_color_id).hide();
        $('#show_pallete_color_button_ots' + row_color_id).show();
        $('#color_palete_ots' + row_color_id).hide();
        });
        $(document).on('click', '.set_yellow_ots', function() {
            var row_color_id = $(this).attr("id");
            var color = "3";
            $('#color_values_ots' + row_color_id).val(color);
            $('#color_prods_ots' + row_color_id).css('background-color', '#F7FF00');
            $('#hide_pallete_color_button_ots' + row_color_id).hide();
        $('#show_pallete_color_button_ots' + row_color_id).show();
        $('#color_palete_ots' + row_color_id).hide();
        });
        $(document).on('click', '.set_green_ots', function() {
            var row_color_id = $(this).attr("id");
            var color = "4";
            $('#color_values_ots' + row_color_id).val(color);
            $('#color_prods_ots' + row_color_id).css('background-color', '#4DFF00');
            $('#hide_pallete_color_button_ots' + row_color_id).hide();
        $('#show_pallete_color_button_ots' + row_color_id).show();
        $('#color_palete_ots' + row_color_id).hide();
        });
        $(document).on('click', '.set_blue_ots', function() {
            var row_color_id = $(this).attr("id");
            var color = "5";
            $('#color_values_ots' + row_color_id).val(color);
            $('#color_prods_ots' + row_color_id).css('background-color', '#0055FF');
            $('#hide_pallete_color_button_ots' + row_color_id).hide();
        $('#show_pallete_color_button_ots' + row_color_id).show();
        $('#color_palete_ots' + row_color_id).hide();
        });
        $(document).on('click', '.set_purple_ots', function() {
            var row_color_id = $(this).attr("id");
            var color = "6";
            $('#color_values_ots' + row_color_id).val(color);
            $('#color_prods_ots' + row_color_id).css('background-color', '#CD00FF');
            $('#hide_pallete_color_button_ots' + row_color_id).hide();
        $('#show_pallete_color_button_ots' + row_color_id).show();
        $('#color_palete_ots' + row_color_id).hide();
        });
        $(document).on('click', '.quit_color_ots', function() {
            var row_color_id = $(this).attr("id");
            var color = "0";
            $('#color_values_ots' + row_color_id).val(color);
            $('#color_prods_ots' + row_color_id).css('background-color', 'transparent');
            $('#hide_pallete_color_button_ots' + row_color_id).hide();
        $('#show_pallete_color_button_ots' + row_color_id).show();
        $('#color_palete_ots' + row_color_id).hide();
        });
        $(document).on('click', '.removeitembtnots', function() {
            var row_idots = $(this).attr("id");
            $('#rowots' + row_idots + '').remove();
            GetTotalent();

            GetTotaldcmpi();
            GetTotaldcmpe();

            GetTotalmhjmpi();
            GetTotalmhjmpe();
            GetTotalmhjmpje();
            GetTotalmhjmpli();

            GetTotalimpi();
            GetTotalimpe();
            GetTotalimhe();

            GetTotalinnpi();
            GetTotalinnpe();

            GetTotaltnnbpi();
            GetTotaltnnbpe();

            GetTotalherna();

            GetTotalprobmpi();

            GetTotalpanmpi();

            GetTotalextmpi();

            GetTotalpop();
            GetTotalmaniquis();

            GetTotalots();

            calculamuebles();
            calculaherrajes();
            calculaextras();
            calculapop();
            calculamaniquis();
            calculaotros();
            calculatotalmueherextintytrapopman();
            calculatotalentrevalorantespreciototal();
            calculatotalmueherext();
            calculatotalentrevalorantespreciototal2();
            getanticipo();
            gettotaliva();
            getanticipoiva();
            gettotaltiendatotal();
            gettotaltiendaanticipo();
            getfiniquito();
            getPorcentajes();
        });
        $(document).on('input', '.auto_complete', function() {
            $(this).autocomplete({
                source: function(request, response) {
                    $.ajax({
                        url: "<?= base_url() ?>Dashboard/busca_prods_catalogo",
                        dataType: "json",
                        type: 'get',
                        data: {
                            term: request.term,
                        },
                        success: function(data) {
                            response(data);
                        },
                        error: function() {
                            console.log('error');
                        }
                    });
                },
                minLength: 1,
                select: function(event,ui){
                    var autocomval = ui.item.value;
                    var fila = $(this).closest('tr'); // Obt√©n la fila actual
                    $.ajax({
                        url: "<?= base_url() ?>Dashboard/busca_prods_catalogo_precio",
                        dataType: "json",
                        type: 'get',
                        data: {
                            autocomval: autocomval,
                        },
                        success: function(data) {
                            if (data.precio !== null) {
                                fila.find('.auto_complete_precio').val(data.precio);
                                console.log(data.precio);
                            } else {
                            }
                            if (data.reproceso !== null) {
                                fila.find('.auto_complete_precio_rep').val(data.reproceso);
                                console.log(data.reproceso);
                            } else {
                            }
                            //para este punto se hace una validacion, el departamento imagen no tiene los campos para
                            //piezas ni unidades, entonces validamos si en cada fila de registros existe el campo para
                            //poner el valor de pieza y unidad, entonces lo refleja, si no, no
                            if (data.pieza !== null) {
                                if (fila.find('.auto_complete_pieza').length > 0) {
                                    fila.find('.auto_complete_pieza').val(data.pieza);
                                    console.log(data.pieza);
                                }else{
                                }
                            } else {
                            }
                            if (data.unidad !== null) {
                                if (fila.find('.auto_complete_unidad').length > 0) {
                                    fila.find('.auto_complete_unidad').val(data.unidad);
                                    console.log(data.unidad);
                                }else{
                                }
                            } else {
                            }
                            var closer_row = fila.find('.auto_complete_precio');
                            closer_row.trigger('input');
                        },
                        error: function() {
                            console.log('error');
                        }
                    });
                }
            });
        });
        $(document).on('input', '.auto_complete_obs', function() {
            $(this).autocomplete({
                source: function(request, response) {
                    $.ajax({
                        url: "<?= base_url() ?>Dashboard/busca_obs_catalogo",
                        dataType: "json",
                        type: 'get',
                        data: {
                            term: request.term,
                        },
                        success: function(data) {
                            response(data);
                        },
                        error: function() {
                            console.log('error');
                        }
                    });
                },
                minLength: 1
            });
        });
    });
</script>

<!--
<script type="text/javascript">
    let input = document.getElementById('numordencompra2');
    input.addEventListener('keyup', (event)=>{
        let numordencompra2 = event.target.value;
        let numordencompra2Mostrar = '';
        if (numordencompra2 !== ''){
            numordencompra2Mostrar = numordencompra2;
        }else{
            numordencompra2Mostrar = '';
        }
        document.getElementById('mostrar-numordencompra2').innerHTML = numordencompra2Mostrar;

    });
</script>
-->

<script type="text/javascript">
    function dispararcalculatodo() {
        $('#btncalculatodo').trigger('click');
    }

    function calculatodo() {
        GetTotalent();

        GetTotaldcmpi();
        GetTotaldcmpe();

        GetTotalmhjmpi();
        GetTotalmhjmpe();
        GetTotalmhjmpje();
        GetTotalmhjmpli();

        GetTotalimpi();
        GetTotalimpe();
        GetTotalimhe();

        GetTotalinnpi();
        GetTotalinnpe();

        GetTotaltnnbpi();
        GetTotaltnnbpe();

        GetTotalherna();

        GetTotalprobmpi();

        GetTotalpanmpi();

        GetTotalextmpi();

        GetTotalpop();
        GetTotalmaniquis();

        GetTotalots();

        calculamuebles();
        calculaherrajes();
        calculaextras();
        calculapop();
        calculamaniquis();
        calculaotros();
        calculatotalmueherextintytrapopman();
        calculatotalentrevalorantespreciototal();
        calculatotalmueherext();
        calculatotalentrevalorantespreciototal2();
        getanticipo();
        gettotaliva();
        getanticipoiva();
        gettotaltiendatotal();
        gettotaltiendaanticipo();
        getfiniquito();
        getPorcentajes();
    }
</script>

<!--**********************************TRAER TIENDA NOMBRE PROVEEDOR*************************************-->

<script type="text/javascript">
    function seleccionarproveedor() {
        var proveedoresselect = document.getElementById('proveedor');
        var valorresultado = proveedoresselect.value;

        document.getElementById('resultadoproveedorinput').value = valorresultado;
        document.getElementById('resultadoproveedor').innerHTML = valorresultado;
    }

    function seleccionarnombre() {
        var nombresselect = document.getElementById('nombreusuario');
        var tiendasselect = document.getElementById('tienda');
        var valorresultado = nombresselect.value;
        var ordencompleta = tiendasselect.value + '_' + nombresselect.value + '_';

        document.getElementById('resultadonombreinput').value = valorresultado;
        document.getElementById('resultadonombre').innerHTML = valorresultado;
        document.getElementById('numordencompra1000').value = ordencompleta;
    }

    function seleccionartienda() {
        var tiendasselect = document.getElementById('tienda');
        var nombresselect = document.getElementById('nombreusuario');
        var valorresultado = tiendasselect.value;
        var ordencompleta = tiendasselect.value + '_' + nombresselect.value + '_';

        document.getElementById('resultadotiendainput').value = valorresultado;
        document.getElementById('resultadotienda').innerHTML = valorresultado;
        document.getElementById('numordencompra1000').value = ordencompleta;

        setTimeout(dispararcalculatodo, 1000);
    }
</script>


<!--*********************** GENERAR ID DE COMPRA CON FECHA + HORA + NUMERO ALEATORIO O CON NOMBRE DE TIENDA Y PEDIDO **********************-->

<script type="text/javascript">
    var d = new Date();
    var r = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear() + "_" + d.getHours() + ":" + d.getMinutes();
    var newdate = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

    document.getElementById('numordencompra').value = r;
    document.getElementById('fecha').value = newdate;
</script>

<!--*********************** OPERACIONES COMPRA FINAL **********************-->
<script type="text/javascript">
    function calculamuebles() {
        try {
            var totalentrada = parseFloat(document.getElementById("finalent").value) || 0,
                totaldamacaballeropiso = parseFloat(document.getElementById("finaldcmpi").value) || 0,
                totalmujerhombrejrpiso = parseFloat(document.getElementById("finalmhjmpi").value) || 0,
                totalinteriormujerpiso = parseFloat(document.getElementById("finalimpi").value) || 0,
                totalinfantilni√±oyni√±apiso = parseFloat(document.getElementById("finalinnpi").value) || 0,
                totaltoddlerni√±oni√±aybebespiso = parseFloat(document.getElementById("finaltnnbpi").value) || 0,
                totalprobadorespiso = parseFloat(document.getElementById("finalprobmpi").value) || 0,
                totalpanelespiso = parseFloat(document.getElementById("finalpanmpi").value) || 0;

            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("totalmuebles").value =
                totalentrada +
                totaldamacaballeropiso +
                totalmujerhombrejrpiso +
                totalinteriormujerpiso +
                totalinfantilni√±oyni√±apiso +
                totaltoddlerni√±oni√±aybebespiso +
                totalprobadorespiso +
                totalpanelespiso;
            document.getElementById("totalmueblesprov").value =
                totalentrada +
                totaldamacaballeropiso +
                totalmujerhombrejrpiso +
                totalinteriormujerpiso +
                totalinfantilni√±oyni√±apiso +
                totaltoddlerni√±oni√±aybebespiso +
                totalprobadorespiso +
                totalpanelespiso;
            document.getElementById("tdmuebles").innerHTML = mxn.format(
                totalentrada +
                totaldamacaballeropiso +
                totalmujerhombrejrpiso +
                totalinteriormujerpiso +
                totalinfantilni√±oyni√±apiso +
                totaltoddlerni√±oni√±aybebespiso +
                totalprobadorespiso +
                totalpanelespiso
            ) + " MXN";
            document.getElementById("totalmueblesv2").value = mxn.format(
                totalentrada +
                totaldamacaballeropiso +
                totalmujerhombrejrpiso +
                totalinteriormujerpiso +
                totalinfantilni√±oyni√±apiso +
                totaltoddlerni√±oni√±aybebespiso +
                totalprobadorespiso +
                totalpanelespiso
            );
            document.getElementById("Tmuebprov").value =
                totalentrada +
                totaldamacaballeropiso +
                totalmujerhombrejrpiso +
                totalinteriormujerpiso +
                totalinfantilni√±oyni√±apiso +
                totaltoddlerni√±oni√±aybebespiso +
                totalprobadorespiso +
                totalpanelespiso;
        } catch (e) {}
    }

    function calculaherrajes() {
        try {
            var totaldamacaballeroperimetral = parseFloat(document.getElementById("finaldcmpe").value) || 0,
                totalmujerhombrejrperimetral = parseFloat(document.getElementById("finalmhjmpe").value) || 0,
                totalmujerhombrejrjeans = parseFloat(document.getElementById("finalmhjmpje").value) || 0,
                totalmujerhombrejrlicencias = parseFloat(document.getElementById("finalmhjmpli").value) || 0,
                totalinteriormujerperimetral = parseFloat(document.getElementById("finalimpe").value) || 0,
                totalinteriormujerherraje = parseFloat(document.getElementById("finalimhe").value) || 0,
                totalinfantilni√±oyni√±aperimetral = parseFloat(document.getElementById("finalinnpe").value) || 0,
                totaltoddlerni√±oni√±aybebesperimetral = parseFloat(document.getElementById("finaltnnbpe").value) || 0,
                totalherrajes = parseFloat(document.getElementById("finalherna").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("totalherrajes").value =
                totaldamacaballeroperimetral +
                totalmujerhombrejrperimetral +
                totalmujerhombrejrjeans +
                totalmujerhombrejrlicencias +
                totalinteriormujerperimetral +
                totalinteriormujerherraje +
                totalinfantilni√±oyni√±aperimetral +
                totaltoddlerni√±oni√±aybebesperimetral +
                totalherrajes;
            document.getElementById("totalherrajesprov").value =
                totaldamacaballeroperimetral +
                totalmujerhombrejrperimetral +
                totalmujerhombrejrjeans +
                totalmujerhombrejrlicencias +
                totalinteriormujerperimetral +
                totalinteriormujerherraje +
                totalinfantilni√±oyni√±aperimetral +
                totaltoddlerni√±oni√±aybebesperimetral +
                totalherrajes;
            document.getElementById("tdherrajes").innerHTML = mxn.format(
                totaldamacaballeroperimetral +
                totalmujerhombrejrperimetral +
                totalmujerhombrejrjeans +
                totalmujerhombrejrlicencias +
                totalinteriormujerperimetral +
                totalinteriormujerherraje +
                totalinfantilni√±oyni√±aperimetral +
                totaltoddlerni√±oni√±aybebesperimetral +
                totalherrajes
            ) + " MXN";
            document.getElementById("totalherrajesv2").value = mxn.format(
                totaldamacaballeroperimetral +
                totalmujerhombrejrperimetral +
                totalmujerhombrejrjeans +
                totalmujerhombrejrlicencias +
                totalinteriormujerperimetral +
                totalinteriormujerherraje +
                totalinfantilni√±oyni√±aperimetral +
                totaltoddlerni√±oni√±aybebesperimetral +
                totalherrajes
            );
            document.getElementById("THerrprov").value =
                totaldamacaballeroperimetral +
                totalmujerhombrejrperimetral +
                totalmujerhombrejrjeans +
                totalmujerhombrejrlicencias +
                totalinteriormujerperimetral +
                totalinteriormujerherraje +
                totalinfantilni√±oyni√±aperimetral +
                totaltoddlerni√±oni√±aybebesperimetral +
                totalherrajes;
        } catch (e) {}
    }

    function calculaextras() {
        try {
            var totalextraspiso = parseFloat(document.getElementById("finalextmpi").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("totalextras").value = totalextraspiso;
            document.getElementById("totalextrasprov").value = totalextraspiso;
            document.getElementById("tdextras").innerHTML = mxn.format(totalextraspiso) + " MXN";
            document.getElementById("totalextrasv2").value = mxn.format(totalextraspiso);
        } catch (e) {}
    }

    function calculapop() {
        try {
            var totaldepop = parseFloat(document.getElementById("finalimgp").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("totalpop").value = totaldepop;
            document.getElementById("tdpop").innerHTML = mxn.format(totaldepop) + " MXN";
            document.getElementById("tdfinalimgp2").innerHTML = mxn.format(totaldepop) + " MXN";
            document.getElementById("totalpopv2").value = mxn.format(totaldepop);

        } catch (e) {}
    }

    function calculamaniquis() {
        try {
            var totaldemaniquis = parseFloat(document.getElementById("finalimgm").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("totalmaniquis").value = totaldemaniquis;
            document.getElementById("tdmaniquis").innerHTML = mxn.format(totaldemaniquis) + " MXN";
            document.getElementById("tdfinalimgm2").innerHTML = mxn.format(totaldemaniquis) + " MXN";
            document.getElementById("totalmaniquisv2").value = mxn.format(totaldemaniquis);
        } catch (e) {}
    }

    function calculaotros() {
        try {
            var totalotrospiso = parseFloat(document.getElementById("finalots").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("totalotros").value = totalotrospiso;
            document.getElementById("tdotros").innerHTML = mxn.format(totalotrospiso) + " MXN";
            document.getElementById("totalotrosv2").value = mxn.format(totalotrospiso);
        } catch (e) {}
    }

    function calculatotalmueherextintytrapopman() {
        try {
            var totaldemuebles = parseFloat(document.getElementById("totalmuebles").value) || 0,
                totaldeherrajes = parseFloat(document.getElementById("totalherrajes").value) || 0,
                totaldeextras = parseFloat(document.getElementById("totalextras").value) || 0,
                totaldepop = parseFloat(document.getElementById("finalimgp").value) || 0;
            totaldemaniquis = parseFloat(document.getElementById("finalimgm").value) || 0;
            totaldeotros = parseFloat(document.getElementById("finalots").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis").value = totaldemuebles + totaldeherrajes + totaldeextras + totaldepop + totaldemaniquis + totaldeotros;
            document.getElementById("tdtotal").innerHTML = mxn.format(totaldemuebles + totaldeherrajes + totaldeextras + totaldepop + totaldemaniquis + totaldeotros) + " MXN";
            document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquisv2").value = mxn.format(totaldemuebles + totaldeherrajes + totaldeextras + totaldepop + totaldemaniquis + totaldeotros);
            document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis2").value = totaldemuebles + totaldeherrajes + totaldeextras + totaldepop + totaldemaniquis + totaldeotros;
            document.getElementById("tdtotalmueblesherrajesextrasinstalacionytransportepopmaniquis2").innerHTML = mxn.format(totaldemuebles + totaldeherrajes + totaldeextras + totaldepop + totaldemaniquis + totaldeotros) + " MXN";
            document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis2v2").value = mxn.format(totaldemuebles + totaldeherrajes + totaldeextras + totaldepop + totaldemaniquis + totaldeotros);
            document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3").value = totaldemuebles + totaldeherrajes + totaldeextras + totaldepop + totaldemaniquis + totaldeotros;
            document.getElementById("tdtotalmueblesherrajesextrasinstalacionytransportepopmaniquis3").innerHTML = mxn.format(totaldemuebles + totaldeherrajes + totaldeextras + totaldepop + totaldemaniquis + totaldeotros) + " MXN";
            document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3v2").value = mxn.format(totaldemuebles + totaldeherrajes + totaldeextras + totaldepop + totaldemaniquis + totaldeotros);

            var totaldemueblesprovfinal = parseFloat(document.getElementById("totalmueblesprov").value) || 0,
                totaldeherrajesprovfinal = parseFloat(document.getElementById("totalherrajesprov").value) || 0,
                totaldeextrasprovfinal = parseFloat(document.getElementById("totalextrasprov").value) || 0;
            document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3prov").value = totaldemueblesprovfinal + totaldeherrajesprovfinal + totaldeextrasprovfinal;

            var totaldemueblesprovfinal2 = parseFloat(document.getElementById("totalmueblesprov").value) || 0,
                totaldeherrajesprovfinal2 = parseFloat(document.getElementById("totalherrajesprov").value) || 0;
            document.getElementById("Tprovtot").value = (totaldemueblesprovfinal2 + totaldeherrajesprovfinal2).toFixed(2);
            document.getElementById("Tprovtotmhe").value = (totaldemueblesprovfinal2 + totaldeherrajesprovfinal2).toFixed(2);
            document.getElementById("Tprovfin").value = (totaldemueblesprovfinal2 + totaldeherrajesprovfinal2).toFixed(2);



        } catch (e) {}
    }

    function calculatotalentrevalorantespreciototal() {
        try {
            var totalpenultimo = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis").value) || 0,
                valorpenultimom2 = parseFloat(document.getElementById("valorantespreciototal").value) || 0;
            var resultprevio = totalpenultimo / valorpenultimom2;
            var resultprevio0 = 0;
            if (isFinite(resultprevio)) {
                console.log(resultprevio);
            } else {
                console.log(resultprevio0);
            }
            var totalpenultimoprov = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3prov").value) || 0,
                valorpenultimom2prov = parseFloat(document.getElementById("valorantespreciototal").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var Tprovtot = document.getElementById("Tprovtot").value;
            if (isFinite(resultprevio)) {
            document.getElementById("totalentrevalorantespreciototalv1").value = (totalpenultimo / valorpenultimom2).toFixed(2);
            document.getElementById("tdtotalm2").innerHTML = mxn.format(totalpenultimo / valorpenultimom2) + " MXN";
            document.getElementById("totalentrevalorantespreciototal").value = mxn.format(totalpenultimo / valorpenultimom2);
            document.getElementById("m2tiendafinalv2").value = (totalpenultimo / valorpenultimom2).toFixed(2);
            document.getElementById("m2tiendafinalv2prov").value = (totalpenultimoprov / valorpenultimom2prov).toFixed(2);
            document.getElementById("tdm2tiendafinalv2").innerHTML = mxn.format((totalpenultimo / valorpenultimom2).toFixed(2)) + " MXN";
            document.getElementById("m2tiendafinal").value = mxn.format(totalpenultimo / valorpenultimom2);
            document.getElementById("Tprovtotm2").value = (Tprovtot / valorpenultimom2).toFixed(2);
            document.getElementById("Tprovtotmhem2").value = (Tprovtot / valorpenultimom2).toFixed(2);
            }else{
                document.getElementById("totalentrevalorantespreciototalv1").value = (resultprevio0).toFixed(2);
                document.getElementById("tdtotalm2").innerHTML = mxn.format(resultprevio0) + " MXN";
                document.getElementById("totalentrevalorantespreciototal").value = mxn.format(resultprevio0);
                document.getElementById("m2tiendafinalv2").value = (resultprevio0).toFixed(2);
                document.getElementById("m2tiendafinalv2prov").value = (resultprevio0).toFixed(2);
                document.getElementById("tdm2tiendafinalv2").innerHTML = mxn.format((resultprevio0).toFixed(2)) + " MXN";
                document.getElementById("m2tiendafinal").value = mxn.format(resultprevio0);
                document.getElementById("Tprovtotm2").value = (resultprevio0).toFixed(2);
                document.getElementById("Tprovtotmhem2").value = (resultprevio0).toFixed(2);
            }


        } catch (e) {}
    }

    function calculatotalmueherext() {
        try {
            var totaldemuebles = parseFloat(document.getElementById("totalmuebles").value) || 0,
                totaldeherrajes = parseFloat(document.getElementById("totalherrajes").value) || 0,
                totaldeextras = parseFloat(document.getElementById("totalextras").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("totalmueblesherrajesextras").value = totaldemuebles + totaldeherrajes + totaldeextras;
            document.getElementById("tdtotalmhe").innerHTML = mxn.format(totaldemuebles + totaldeherrajes + totaldeextras) + " MXN";
            document.getElementById("totalmueblesherrajesextrasv2").value = mxn.format(totaldemuebles + totaldeherrajes + totaldeextras);
        } catch (e) {}
    }

    function calculatotalentrevalorantespreciototal2() {
        try {
            var totalpenultimo_2 = parseFloat(document.getElementById("totalmueblesherrajesextras").value) || 0,
                valorpenultimom2_2 = parseFloat(document.getElementById("valorantespreciototal").value) || 0;
            var resultprevio = totalpenultimo_2 / valorpenultimom2_2;
            var resultprevio0 = 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            if (isFinite(resultprevio)) {
            document.getElementById("totalentrevalorantespreciototal2v2").value = (totalpenultimo_2 / valorpenultimom2_2).toFixed(2);
            document.getElementById("tdtotalm2mhe").innerHTML = mxn.format(totalpenultimo_2 / valorpenultimom2_2) + " MXN";
            document.getElementById("totalentrevalorantespreciototal2").value = mxn.format(totalpenultimo_2 / valorpenultimom2_2);
            } else {
                document.getElementById("totalentrevalorantespreciototal2v2").value = (resultprevio0).toFixed(2);
                document.getElementById("tdtotalm2mhe").innerHTML = mxn.format(resultprevio0) + " MXN";
                document.getElementById("totalentrevalorantespreciototal2").value = mxn.format(resultprevio0);
            }
        } catch (e) {}
    }

    function getanticipo() {
        try {
            var total_3 = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3").value) || 0;
            var total_3prov = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3prov").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("anticipo").value = total_3 * 0.3;
            document.getElementById("anticipoprov").value = total_3prov * 0.3;
            document.getElementById("tdanticipo").innerHTML = mxn.format(total_3 * 0.3) + " MXN";
            document.getElementById("anticipov2").value = mxn.format(total_3 * 0.3);

            var Tprovfin = document.getElementById("Tprovfin").value;
            document.getElementById("Tprovfin30prc").value = (Tprovfin * 0.3).toFixed(2);
        } catch (e) {}
    }

    function gettotaliva() {
        try {
            var totaliva = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3").value) || 0;
            var totalivaprov = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3prov").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("totalconiva").value = totaliva * 0.16;
            document.getElementById("totalconivaprov").value = totalivaprov * 0.16;
            document.getElementById("tdtotalconiva").innerHTML = mxn.format(totaliva * 0.16) + " MXN";
            document.getElementById("totalconivav2").value = mxn.format(totaliva * 0.16);

            var Tprovfin = document.getElementById("Tprovfin").value;
            document.getElementById("Tprovfin16prc").value = (Tprovfin * 0.16).toFixed(2);
        } catch (e) {}
    }

    function getanticipoiva() {
        try {
            var anticipoiva = parseFloat(document.getElementById("anticipo").value) || 0;
            var anticipoivaprov = parseFloat(document.getElementById("anticipoprov").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("anticipoconiva").value = anticipoiva * 0.16;
            document.getElementById("anticipoconivaprov").value = anticipoivaprov * 0.16;
            document.getElementById("tdanticipoconiva").innerHTML = mxn.format(anticipoiva * 0.16) + " MXN";
            document.getElementById("anticipoconivav2").value = mxn.format(anticipoiva * 0.16);

            var Tprovfin30prc = document.getElementById("Tprovfin30prc").value;
            document.getElementById("Tprovfin16prc30prc").value = (Tprovfin30prc * 0.16).toFixed(2);
        } catch (e) {}
    }

    function gettotaltiendatotal() {
        try {
            var tottienda = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3").value) || 0,
                tottiendaiva = parseFloat(document.getElementById("totalconiva").value) || 0;
            var tottiendaprov = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3prov").value) || 0,
                tottiendaivaprov = parseFloat(document.getElementById("totalconivaprov").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("totaltiendav2").value = (tottienda + tottiendaiva).toFixed(2);
            document.getElementById("totaltiendav2prov").value = (tottiendaprov + tottiendaivaprov).toFixed(2);
            document.getElementById("tdtotaltiendav2").innerHTML = mxn.format((tottienda + tottiendaiva).toFixed(2)) + " MXN";
            document.getElementById("totaltienda").value = mxn.format(tottienda + tottiendaiva);

            var Tprovfin = parseFloat(document.getElementById("Tprovfin").value);
            var Tprovfin16prc = parseFloat(document.getElementById("Tprovfin16prc").value);
            document.getElementById("Tprovtotfin").value = (Tprovfin + Tprovfin16prc).toFixed(2);
        } catch (e) {}
    }

    function gettotaltiendaanticipo() {
        try {
            var tottiendaanticipo = parseFloat(document.getElementById("anticipo").value) || 0,
                tottiendaanticipoiva = parseFloat(document.getElementById("anticipoconiva").value) || 0;
            var tottiendaanticipoprov = parseFloat(document.getElementById("anticipoprov").value) || 0,
                tottiendaanticipoivaprov = parseFloat(document.getElementById("anticipoconivaprov").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("totaltiendaanticipov2").value = (tottiendaanticipo + tottiendaanticipoiva).toFixed(2);
            document.getElementById("totaltiendaanticipov2prov").value = (tottiendaanticipoprov + tottiendaanticipoivaprov).toFixed(2);
            document.getElementById("tdtotaltiendaanticipov2").innerHTML = mxn.format((tottiendaanticipo + tottiendaanticipoiva).toFixed(2)) + " MXN";
            document.getElementById("totaltiendaanticipo").value = mxn.format(tottiendaanticipo + tottiendaanticipoiva);

            var Tprovfin30prc = parseFloat(document.getElementById("Tprovfin30prc").value);
            var Tprovfin16prc30prc = parseFloat(document.getElementById("Tprovfin16prc30prc").value);
            document.getElementById("Tprovtotfin30prc").value = (Tprovfin30prc + Tprovfin16prc30prc).toFixed(2);
        } catch (e) {}
    }

    function getfiniquito() {
        try {
            var totaltiendafiniquito = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3").value) || 0,
                totalanticipofiniquito = parseFloat(document.getElementById("anticipo").value) || 0;
            var totaltiendafiniquitoprov = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis3prov").value) || 0,
                totalanticipofiniquitoprov = parseFloat(document.getElementById("anticipoprov").value) || 0;
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            document.getElementById("finiquitov2").value = (totaltiendafiniquito - totalanticipofiniquito).toFixed(2);
            document.getElementById("finiquitov2prov").value = (totaltiendafiniquitoprov - totalanticipofiniquitoprov).toFixed(2);
            document.getElementById("tdfiniquitov2").innerHTML = mxn.format((totaltiendafiniquito - totalanticipofiniquito).toFixed(2)) + " MXN";
            document.getElementById("finiquito").value = mxn.format(totaltiendafiniquito - totalanticipofiniquito);

            var Tprovfin = parseFloat(document.getElementById("Tprovfin").value);
            var Tprovfin30prc = parseFloat(document.getElementById("Tprovfin30prc").value);
            document.getElementById("Tprovfiniquito").value = (Tprovfin - Tprovfin30prc).toFixed(2);
        } catch (e) {}
    }
    //*********************** OPERACIONES PORCENTAJES **********************
    function getPorcentajes() {
        try {
            var pcjMuebles = parseFloat(document.getElementById("totalmuebles").value) || 0,
                totf1 = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis").value) || 0;
            document.getElementById("tdporcentajemuebles").innerHTML = Math.round((pcjMuebles / totf1) * 100) + " %";
            document.getElementById("porcentajemuebles").value = Math.round((pcjMuebles / totf1) * 100);
            $('.porcentajemuebles').trigger('click');

            var pcjHerrajes = parseFloat(document.getElementById("totalherrajes").value) || 0,
                totf2 = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis").value) || 0;
            document.getElementById("tdporcentajeherrajes").innerHTML = Math.round((pcjHerrajes / totf2) * 100) + " %";
            document.getElementById("porcentajeherrajes").value = Math.round((pcjHerrajes / totf2) * 100);
            $('.porcentajeherrajes').trigger('click');

            var pcjExtras = parseFloat(document.getElementById("totalextras").value) || 0,
                totf3 = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis").value) || 0;
            document.getElementById("tdporcentajeextras").innerHTML = Math.round((pcjExtras / totf3) * 100) + " %";
            document.getElementById("porcentajextras").value = Math.round((pcjExtras / totf3) * 100);
            $('.porcentajextras').trigger('click');

            var pcjInstalacionTransporte = parseFloat(document.getElementById("totalinstalacionytransporte").value) || 0,
                totf4 = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis").value) || 0;
            document.getElementById("tdporcentajeinstalacionytransporte").innerHTML = Math.round((pcjInstalacionTransporte / totf4) * 100) + " %";
            document.getElementById("porcentajeinstalacionytransporte").value = Math.round((pcjInstalacionTransporte / totf4) * 100);


            var pcjpop = parseFloat(document.getElementById("totalpop").value) || 0,
                totf5 = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis").value) || 0;
            document.getElementById("tdporcentajepop").innerHTML = Math.round((pcjpop / totf5) * 100) + " %";
            document.getElementById("porcentajepop").value = Math.round((pcjpop / totf5) * 100);
            $('.porcentajepop').trigger('click');

            var pcjmaniquis = parseFloat(document.getElementById("totalmaniquis").value) || 0,
                totf6 = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis").value) || 0;
            document.getElementById("tdporcentajemaniquis").innerHTML = Math.round((pcjmaniquis / totf6) * 100) + " %";
            document.getElementById("porcentajemaniquis").value = Math.round((pcjmaniquis / totf6) * 100);
            $('.porcentajemaniquis').trigger('click');

            var pcjOtros = parseFloat(document.getElementById("totalotros").value) || 0,
                totf7 = parseFloat(document.getElementById("totalmueblesherrajesextrasinstalacionytransportepopmaniquis").value) || 0;
            document.getElementById("tdporcentajeotros").innerHTML = Math.round((pcjOtros / totf7) * 100) + " %";
            document.getElementById("porcentajeotros").value = Math.round((pcjOtros / totf7) * 100);
            $('.porcentajeotros').trigger('click');

            var pcjMueblesprov = parseFloat(document.getElementById("totalmueblesprov").value) || 0,
                totf1prov = parseFloat(document.getElementById("totalmueblesherrajesextras").value) || 0;
            document.getElementById("porcentajemueblesprov").value = Math.round((pcjMueblesprov / totf1prov) * 100);

            var pcjMueblesprov = parseFloat(document.getElementById("totalherrajesprov").value) || 0,
                totf1prov = parseFloat(document.getElementById("totalmueblesherrajesextras").value) || 0;
            document.getElementById("porcentajeherrajesprov").value = Math.round((pcjMueblesprov / totf1prov) * 100);

            var pcjMueblesprov = parseFloat(document.getElementById("totalextrasprov").value) || 0,
                totf1prov = parseFloat(document.getElementById("totalmueblesherrajesextras").value) || 0;
            document.getElementById("porcentajextrasprov").value = Math.round((pcjMueblesprov / totf1prov) * 100);


        } catch (e) {}

    }
</script>

<!--*********************** OPERACIONES COMPRA **********************-->

<script type="text/javascript">
    //***********************1. Entrada **********************
    function Calcent(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("precioent[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezaent[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalent[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalent[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalent();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalent() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalent[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalent").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalent").innerHTML = mxn.format(sum) + " MXN";
    }
    //***********************2. Dama Y Caballero Piso **********************
    function Calcdcmpi(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("preciodcmpi[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezadcmpi[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotaldcmpi[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotaldcmpi[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotaldcmpi();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotaldcmpi() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotaldcmpi[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finaldcmpi").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinaldcmpi").innerHTML = mxn.format(sum) + " MXN";
    }
    //***********************2. Dama Y Caballero Perimetral **********************
    function Calcdcmpe(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("preciodcmpe[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezadcmpe[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotaldcmpe[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotaldcmpe[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotaldcmpe();
    }
    $('.porcentajeherrajes').click(function() {});

    function GetTotaldcmpe() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotaldcmpe[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finaldcmpe").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinaldcmpe").innerHTML = mxn.format(sum) + " MXN";
    }
    //***********************3. Mujer Hombre Jr Piso **********************
    function Calcmhjmpi(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("preciomhjmpi[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezamhjmpi[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalmhjmpi[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalmhjmpi[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalmhjmpi();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalmhjmpi() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalmhjmpi[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalmhjmpi").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalmhjmpi").innerHTML = mxn.format(sum) + " MXN";
    }
    //***********************3. Mujer Hombre Jr Perimetral **********************
    function Calcmhjmpe(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("preciomhjmpe[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezamhjmpe[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalmhjmpe[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalmhjmpe[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalmhjmpe();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalmhjmpe() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalmhjmpe[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalmhjmpe").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalmhjmpe").innerHTML = mxn.format(sum) + " MXN";
    }
    //***********************3. Mujer Hombre Jr Jeans **********************
    function Calcmhjmpje(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("preciomhjmpje[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezamhjmpje[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalmhjmpje[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalmhjmpje[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalmhjmpje();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalmhjmpje() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalmhjmpje[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalmhjmpje").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalmhjmpje").innerHTML = mxn.format(sum) + " MXN";
    }
    //***********************3. Mujer Hombre Jr Licencias **********************
    function Calcmhjmpli(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("preciomhjmpli[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezamhjmpli[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalmhjmpli[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalmhjmpli[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalmhjmpli();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalmhjmpli() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalmhjmpli[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalmhjmpli").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalmhjmpli").innerHTML = mxn.format(sum) + " MXN";
    }
    //*********************** 4. Interior Mujer Piso **********************
    function Calcimpi(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("precioimpi[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezaimpi[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalimpi[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalimpi[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalimpi();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalimpi() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalimpi[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalimpi").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalimpi").innerHTML = mxn.format(sum) + " MXN";
    }
    //*********************** 4. Interior Mujer Perimetral **********************
    function Calcimpe(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("precioimpe[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezaimpe[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalimpe[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalimpe[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalimpe();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalimpe() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalimpe[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalimpe").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalimpe").innerHTML = mxn.format(sum) + " MXN";
    }
    //*********************** 4. Interior Mujer Herraje **********************
    function Calcimhe(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("precioimhe[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezaimhe[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalimhe[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalimhe[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalimhe();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalimhe() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalimhe[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalimhe").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalimhe").innerHTML = mxn.format(sum) + " MXN";
    }
    //*********************** 5. Infantil Ni√±o y Ni√±a Piso **********************
    function Calcinnpi(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("precioinnpi[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezainnpi[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalinnpi[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalinnpi[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalinnpi();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalinnpi() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalinnpi[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalinnpi").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalinnpi").innerHTML = mxn.format(sum) + " MXN";
    }
    //*********************** 5. Infantil Ni√±o y Ni√±a Perimetral **********************
    function Calcinnpe(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("precioinnpe[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezainnpe[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalinnpe[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalinnpe[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalinnpe();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalinnpe() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalinnpe[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalinnpe").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalinnpe").innerHTML = mxn.format(sum) + " MXN";
    }
    //*********************** 6. Toddler Ni√±o Ni√±a Y Bebes Piso **********************
    function Calctnnbpi(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("preciotnnbpi[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezatnnbpi[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotaltnnbpi[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotaltnnbpi[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotaltnnbpi();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotaltnnbpi() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotaltnnbpi[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finaltnnbpi").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinaltnnbpi").innerHTML = mxn.format(sum) + " MXN";
    }
    //*********************** 6. Toddler Ni√±o Ni√±a Y Bebes Perimetral **********************
    function Calctnnbpe(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("preciotnnbpe[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezatnnbpe[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotaltnnbpe[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotaltnnbpe[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotaltnnbpe();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotaltnnbpe() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotaltnnbpe[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finaltnnbpe").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinaltnnbpe").innerHTML = mxn.format(sum) + " MXN";
    }
    //*********************** 7. Herrajes **********************
    function Calcherna(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("precioherna[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezaherna[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalherna[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalherna[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalherna();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalherna() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalherna[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalherna").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalherna").innerHTML = mxn.format(sum) + " MXN";
    }
    //*********************** 8. Probadores **********************
    function Calcprobmpi(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("precioprobmpi[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezaprobmpi[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalprobmpi[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalprobmpi[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalprobmpi();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalprobmpi() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalprobmpi[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalprobmpi").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalprobmpi").innerHTML = mxn.format(sum) + " MXN";
    }
    //*********************** 9. Paneles **********************
    function Calcpanmpi(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("preciopanmpi[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezapanmpi[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalpanmpi[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalpanmpi[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalpanmpi();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalpanmpi() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalpanmpi[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalpanmpi").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalpanmpi").innerHTML = mxn.format(sum) + " MXN";
    }
    //***********************10. Extras **********************
    function Calcextmpi(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("precioextmpi[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezaextmpi[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalextmpi[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalextmpi[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalextmpi();
    }
    $('.porcentajextras').click(function() {});

    function GetTotalextmpi() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalextmpi[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalextmpi").value = sum;
        document.getElementById("finalextmpiprov").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalextmpi").innerHTML = mxn.format(sum) + " MXN";
    }

    function traeproveedores(v) {
        var index = $(v).parent().parent().index();
        var proveedorseleccionado = document.getElementsByName('seleccionaproveedor2[]')[index].value;

        document.getElementsByName("valorproveedor[]")[index].value = proveedorseleccionado;
    }

    //***********************11. Imagen POP **********************

    function GetTotalpop() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalimgp[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalimgp").value = sum;
        $('.porcentajepop').click(function() {});
        $('.porcentajemaniquis').click(function() {});
    }

    function enviarimagenpops(v) {
        var index = $(v).parent().parent().index();
        var popsval = document.getElementsByName('precioimgp[]')[index].value;
        var precioformat = popsval.replaceAll(',', '').replaceAll('$', '');
        var subtotal = parseFloat(precioformat);
        document.getElementsByName('subtotalimgp[]')[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName('tdfinalimgp[]')[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalpop()
    }

    //***********************11. Imagen MANIQUIS **********************
    function GetTotalmaniquis() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalimgm[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalimgm").value = sum;
        $('.porcentajepop').click(function() {});
        $('.porcentajemaniquis').click(function() {});
    }

    function enviarimagenmaniquis(v) {
        var index = $(v).parent().parent().index();
        var popsval = document.getElementsByName('precioimgm[]')[index].value;
        var precioformat = popsval.replaceAll(',', '').replaceAll('$', '');
        var subtotal = parseFloat(precioformat);
        document.getElementsByName("subtotalimgm[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName('tdfinalimgm[]')[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalmaniquis()
    }

    //*********************** 12. Otros **********************
    function Calcots(v) {
        var index = $(v).parent().parent().index();
        var precio = document.getElementsByName("precioots[]")[index].value;
        var precioformat = precio.replaceAll(',', '').replaceAll('$', '');
        var pieza = document.getElementsByName("piezaots[]")[index].value;
        var subtotal = parseFloat(precioformat) * pieza;
        document.getElementsByName("subtotalots[]")[index].value = subtotal;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementsByName("tdsubtotalots[]")[index].innerHTML = mxn.format(subtotal) + " MXN";
        GetTotalots();
    }
    $('.porcentajemuebles').click(function() {});

    function GetTotalots() {
        var sum = 0;
        var subtotales = document.getElementsByName("subtotalots[]");
        for (let index = 0; index < subtotales.length; index++) {
            var subtotal = subtotales[index].value;
            sum = +(sum) + +(subtotal);
        }
        document.getElementById("finalots").value = sum;
        var mxn = new Intl.NumberFormat("es-MX", {
            style: "currency",
            currency: "MXN"
        })
        document.getElementById("tdfinalots").innerHTML = mxn.format(sum) + " MXN";
    }

    //***********************11. IMPRIMIR M2 **********************
    function enviarm2() {
        var valor3 = document.getElementById('valorantespreciototal').value;
        document.getElementById('tdmismom2inicio').innerHTML = valor3;
        document.getElementById('mismom2inicio').value = valor3;
    }
</script>

<script type="text/javascript">
    const muebles = document.querySelector('.porcentajemuebles');
    const herrajes = document.querySelector('.porcentajeherrajes');
    const extras = document.querySelector('.porcentajextras');
    const instalacionytransporte = document.querySelector('.porcentajeinstalacionytransporte');
    const pops = document.querySelector('.porcentajepop');
    const maniquises = document.querySelector('.porcentajemaniquis');
    const otroschart = document.querySelector('.porcentajeotros');

    const data = document.getElementById('myChart').getContext('2d');
    let myChart = new Chart(data, {
        type: 'pie',
        data: {
            labels: ['MUEBLES', 'HERRAJES', 'EXTRAS', 'INSTALACION Y T.', 'POP', 'MANIQUIS', 'OTROS'],
            datasets: [{
                label: '#productos',
                data: [0, 0, 0, 0, 0, 0, 0],
                backgroundColor: ['#7F521C', '#91DDD9', '#83EC81', '#FFBD00', '#B84EED', '#FDFF78', '#4449F3'],
                borderWidth: 1
            }]
        },
        options: {
            legend: {
                position: 'right',
                labels: {
                    fontColor: 'white'
                },
            },
        },
    });
    const updateChartValue = (input, dataOrder) => {
        input.addEventListener('click', e => {
            myChart.data.datasets[0].data[dataOrder] = e.target.value;
            myChart.update();
        });
    };
    updateChartValue(muebles, 0);
    updateChartValue(herrajes, 1);
    updateChartValue(extras, 2);
    updateChartValue(instalacionytransporte, 3);
    updateChartValue(pops, 4);
    updateChartValue(maniquises, 5);
    updateChartValue(otroschart, 6);
</script>





<script type="text/javascript">
    window.addEventListener('load', function() {
        GetTotalent();

        GetTotaldcmpi();
        GetTotaldcmpe();

        GetTotalmhjmpi();
        GetTotalmhjmpe();
        GetTotalmhjmpje();
        GetTotalmhjmpli();

        GetTotalimpi();
        GetTotalimpe();
        GetTotalimhe();

        GetTotalinnpi();
        GetTotalinnpe();

        GetTotaltnnbpi();
        GetTotaltnnbpe();

        GetTotalherna();

        GetTotalprobmpi();

        GetTotalpanmpi();

        GetTotalextmpi();

        GetTotalpop();
        GetTotalmaniquis();

        GetTotalots();

        calculamuebles();
        calculaherrajes();
        calculaextras();
        calculapop();
        calculamaniquis();
        calculaotros();
        calculatotalmueherextintytrapopman();
        calculatotalentrevalorantespreciototal();
        calculatotalmueherext();
        calculatotalentrevalorantespreciototal2();
        getanticipo();
        gettotaliva();
        getanticipoiva();
        gettotaltiendatotal();
        gettotaltiendaanticipo();
        getfiniquito();
        getPorcentajes();
    })
</script>








<script type="text/javascript">
    window.addEventListener('load', function() {
        document.getElementById('cargardatos').click();
    });
</script>

<script type="text/javascript">
    function mostrardatos() {
        $('.getrowident').trigger('click');
        $('.getrowiddcmpi').trigger('click');
        $('.getrowiddcmpe').trigger('click');
        $('.getrowidmhjmpi').trigger('click');
        $('.getrowidmhjmpe').trigger('click');
        $('.getrowidmhjmpje').trigger('click');
        $('.getrowidmhjmpli').trigger('click');
        $('.getrowidimpi').trigger('click');
        $('.getrowidimpe').trigger('click');
        $('.getrowidimhe').trigger('click');
        $('.getrowidinnpi').trigger('click');
        $('.getrowidinnpe').trigger('click');
        $('.getrowidtnnbpi').trigger('click');
        $('.getrowidtnnbpe').trigger('click');
        $('.getrowidherna').trigger('click');
        $('.getrowidprobmpi').trigger('click');
        $('.getrowidpanmpi').trigger('click');
        $('.getrowidextmpi').trigger('click');
        $('.getrowidimgp').trigger('click');
        $('.getrowidimgm').trigger('click');
        $('.getrowidots').trigger('click');
    }
</script>




<script type="text/javascript">
    $('.show_pallete_color').click(function() {
        var row_color_div_id = $(this).attr("id");
        $('#color_palete_' + row_color_div_id).show();
        $('#show_pallete_color_button_' + row_color_div_id).hide();
        $('#hide_pallete_color_button_' + row_color_div_id).show();
    });
    $('.hide_pallete_color').click(function() {
        var row_color_div_id = $(this).attr("id");
        $('#color_palete_' + row_color_div_id).hide();
        $('#hide_pallete_color_button_' + row_color_div_id).hide();
        $('#show_pallete_color_button_' + row_color_div_id).show();
    });

    $('.set_red').click(function() {
        var row_color_id = $(this).attr("id");
        var color = "1";
        $('#color_values_' + row_color_id).val(color);
        $('#color_prods_' + row_color_id).css('background-color', '#FF0000');
        $('#hide_pallete_color_button_' + row_color_id).hide();
        $('#show_pallete_color_button_' + row_color_id).show();
        $('#color_palete_' + row_color_id).hide();
    });
    $('.set_orange').click(function() {
        var row_color_id = $(this).attr("id");
        var color = "2";
        $('#color_values_' + row_color_id).val(color);
        $('#color_prods_' + row_color_id).css('background-color', '#FF8B00');
        $('#hide_pallete_color_button_' + row_color_id).hide();
        $('#show_pallete_color_button_' + row_color_id).show();
        $('#color_palete_' + row_color_id).hide();
    });
    $('.set_yellow').click(function() {
        var row_color_id = $(this).attr("id");
        var color = "3";
        $('#color_values_' + row_color_id).val(color);
        $('#color_prods_' + row_color_id).css('background-color', '#F7FF00');
        $('#hide_pallete_color_button_' + row_color_id).hide();
        $('#show_pallete_color_button_' + row_color_id).show();
        $('#color_palete_' + row_color_id).hide();
    });
    $('.set_green').click(function() {
        var row_color_id = $(this).attr("id");
        var color = "4";
        $('#color_values_' + row_color_id).val(color);
        $('#color_prods_' + row_color_id).css('background-color', '#4DFF00');
        $('#hide_pallete_color_button_' + row_color_id).hide();
        $('#show_pallete_color_button_' + row_color_id).show();
        $('#color_palete_' + row_color_id).hide();
    });
    $('.set_blue').click(function() {
        var row_color_id = $(this).attr("id");
        var color = "5";
        $('#color_values_' + row_color_id).val(color);
        $('#color_prods_' + row_color_id).css('background-color', '#0055FF');
        $('#hide_pallete_color_button_' + row_color_id).hide();
        $('#show_pallete_color_button_' + row_color_id).show();
        $('#color_palete_' + row_color_id).hide();
    });
    $('.set_purple').click(function() {
        var row_color_id = $(this).attr("id");
        var color = "6";
        $('#color_values_' + row_color_id).val(color);
        $('#color_prods_' + row_color_id).css('background-color', '#CD00FF');
        $('#hide_pallete_color_button_' + row_color_id).hide();
        $('#show_pallete_color_button_' + row_color_id).show();
        $('#color_palete_' + row_color_id).hide();
    });
    $('.quit_color').click(function() {
        var row_color_id = $(this).attr("id");
        var color = "0";
        $('#color_values_' + row_color_id).val(color);
        $('#color_prods_' + row_color_id).css('background-color', 'transparent');
        $('#hide_pallete_color_button_' + row_color_id).hide();
        $('#show_pallete_color_button_' + row_color_id).show();
        $('#color_palete_' + row_color_id).hide();
    });
</script>















<script>
    $(document).ready(function(){
        $(".auto_complete_obs").autocomplete({
            source: function(request, response) {
                $.ajax({
                    url: "<?= base_url() ?>Dashboard/busca_obs_catalogo",
                    dataType: "json",
                    type: 'get',
                    data: {
                        term: request.term,
                        timestamp: new Date().getTime()
                    },
                    success: function(data) {
                        response(data);
                    },
                    error: function(){
                        console.log('errror')
                    }
                });
            },
            minLength: 1
        });
    });
</script>













<script>
    $('.get_reprocess_ent').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_ent'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioent-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_ent'+id_reprocess_val).val(1);
                $('#flag_reprocess_ent'+id_reprocess_val).hide();
                $('#flag_normal_ent'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_ent_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_ent').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_ent'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioent-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_ent'+id_reprocess_val).val(0);
                $('#flag_reprocess_ent'+id_reprocess_val).show();
                $('#flag_normal_ent'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_ent_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });




    $('.get_reprocess_dcmpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_dcmpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#preciodcmpi-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_dcmpi'+id_reprocess_val).val(1);
                $('#flag_reprocess_dcmpi'+id_reprocess_val).hide();
                $('#flag_normal_dcmpi'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_dcmpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_dcmpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_dcmpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#preciodcmpi-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_dcmpi'+id_reprocess_val).val(0);
                $('#flag_reprocess_dcmpi'+id_reprocess_val).show();
                $('#flag_normal_dcmpi'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_dcmpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });


    $('.get_reprocess_dcmpe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_dcmpe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#preciodcmpe-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_dcmpe'+id_reprocess_val).val(1);
                $('#flag_reprocess_dcmpe'+id_reprocess_val).hide();
                $('#flag_normal_dcmpe'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_dcmpe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_dcmpe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_dcmpe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#preciodcmpe-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_dcmpe'+id_reprocess_val).val(0);
                $('#flag_reprocess_dcmpe'+id_reprocess_val).show();
                $('#flag_normal_dcmpe'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_dcmpe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });




    $('.get_reprocess_mhjmpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_mhjmpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#preciomhjmpi-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_mhjmpi'+id_reprocess_val).val(1);
                $('#flag_reprocess_mhjmpi'+id_reprocess_val).hide();
                $('#flag_normal_mhjmpi'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_mhjmpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_mhjmpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_mhjmpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#preciomhjmpi-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_mhjmpi'+id_reprocess_val).val(0);
                $('#flag_reprocess_mhjmpi'+id_reprocess_val).show();
                $('#flag_normal_mhjmpi'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_mhjmpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });


    $('.get_reprocess_mhjmpe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_mhjmpe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#preciomhjmpe-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_mhjmpe'+id_reprocess_val).val(1);
                $('#flag_reprocess_mhjmpe'+id_reprocess_val).hide();
                $('#flag_normal_mhjmpe'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_mhjmpe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_mhjmpe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_mhjmpe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#preciomhjmpe-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_mhjmpe'+id_reprocess_val).val(0);
                $('#flag_reprocess_mhjmpe'+id_reprocess_val).show();
                $('#flag_normal_mhjmpe'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_mhjmpe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });


    $('.get_reprocess_mhjmpje').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_mhjmpje'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#preciomhjmpje-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_mhjmpje'+id_reprocess_val).val(1);
                $('#flag_reprocess_mhjmpje'+id_reprocess_val).hide();
                $('#flag_normal_mhjmpje'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_mhjmpje_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_mhjmpje').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_mhjmpje'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#preciomhjmpje-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_mhjmpje'+id_reprocess_val).val(0);
                $('#flag_reprocess_mhjmpje'+id_reprocess_val).show();
                $('#flag_normal_mhjmpje'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_mhjmpje_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });


    $('.get_reprocess_mhjmpli').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_mhjmpli'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#preciomhjmpli-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_mhjmpli'+id_reprocess_val).val(1);
                $('#flag_reprocess_mhjmpli'+id_reprocess_val).hide();
                $('#flag_normal_mhjmpli'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_mhjmpli_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_mhjmpli').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_mhjmpli'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#preciomhjmpli-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_mhjmpli'+id_reprocess_val).val(0);
                $('#flag_reprocess_mhjmpli'+id_reprocess_val).show();
                $('#flag_normal_mhjmpli'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_mhjmpli_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });




    $('.get_reprocess_impi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_impi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioimpi-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_impi'+id_reprocess_val).val(1);
                $('#flag_reprocess_impi'+id_reprocess_val).hide();
                $('#flag_normal_impi'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_impi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_impi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_impi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioimpi-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_impi'+id_reprocess_val).val(0);
                $('#flag_reprocess_impi'+id_reprocess_val).show();
                $('#flag_normal_impi'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_impi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });


    $('.get_reprocess_impe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_impe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioimpe-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_impe'+id_reprocess_val).val(1);
                $('#flag_reprocess_impe'+id_reprocess_val).hide();
                $('#flag_normal_impe'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_impe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_impe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_impe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioimpe-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_impe'+id_reprocess_val).val(0);
                $('#flag_reprocess_impe'+id_reprocess_val).show();
                $('#flag_normal_impe'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_impe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });


    $('.get_reprocess_imhe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_imhe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioimhe-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_imhe'+id_reprocess_val).val(1);
                $('#flag_reprocess_imhe'+id_reprocess_val).hide();
                $('#flag_normal_imhe'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_imhe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_imhe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_imhe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioimhe-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_imhe'+id_reprocess_val).val(0);
                $('#flag_reprocess_imhe'+id_reprocess_val).show();
                $('#flag_normal_imhe'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_imhe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });



    
    $('.get_reprocess_innpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_innpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioinnpi-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_innpi'+id_reprocess_val).val(1);
                $('#flag_reprocess_innpi'+id_reprocess_val).hide();
                $('#flag_normal_innpi'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_innpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_innpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_innpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioinnpi-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_innpi'+id_reprocess_val).val(0);
                $('#flag_reprocess_innpi'+id_reprocess_val).show();
                $('#flag_normal_innpi'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_innpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });


    $('.get_reprocess_innpe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_innpe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioinnpe-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_innpe'+id_reprocess_val).val(1);
                $('#flag_reprocess_innpe'+id_reprocess_val).hide();
                $('#flag_normal_innpe'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_innpe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_innpe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_innpe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioinnpe-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_innpe'+id_reprocess_val).val(0);
                $('#flag_reprocess_innpe'+id_reprocess_val).show();
                $('#flag_normal_innpe'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_innpe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });




    $('.get_reprocess_tnnbpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_tnnbpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#preciotnnbpi-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_tnnbpi'+id_reprocess_val).val(1);
                $('#flag_reprocess_tnnbpi'+id_reprocess_val).hide();
                $('#flag_normal_tnnbpi'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_tnnbpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_tnnbpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_tnnbpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#preciotnnbpi-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_tnnbpi'+id_reprocess_val).val(0);
                $('#flag_reprocess_tnnbpi'+id_reprocess_val).show();
                $('#flag_normal_tnnbpi'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_tnnbpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });


    $('.get_reprocess_tnnbpe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_tnnbpe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#preciotnnbpe-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_tnnbpe'+id_reprocess_val).val(1);
                $('#flag_reprocess_tnnbpe'+id_reprocess_val).hide();
                $('#flag_normal_tnnbpe'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_tnnbpe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_tnnbpe').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_tnnbpe'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#preciotnnbpe-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_tnnbpe'+id_reprocess_val).val(0);
                $('#flag_reprocess_tnnbpe'+id_reprocess_val).show();
                $('#flag_normal_tnnbpe'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_tnnbpe_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });




    $('.get_reprocess_herna').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_herna'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioherna-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_herna'+id_reprocess_val).val(1);
                $('#flag_reprocess_herna'+id_reprocess_val).hide();
                $('#flag_normal_herna'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_herna_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_herna').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_herna'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioherna-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_herna'+id_reprocess_val).val(0);
                $('#flag_reprocess_herna'+id_reprocess_val).show();
                $('#flag_normal_herna'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_herna_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });




    $('.get_reprocess_probmpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_probmpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioprobmpi-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_probmpi'+id_reprocess_val).val(1);
                $('#flag_reprocess_probmpi'+id_reprocess_val).hide();
                $('#flag_normal_probmpi'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_probmpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_probmpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_probmpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioprobmpi-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_probmpi'+id_reprocess_val).val(0);
                $('#flag_reprocess_probmpi'+id_reprocess_val).show();
                $('#flag_normal_probmpi'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_probmpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });




    $('.get_reprocess_panmpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_panmpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#preciopanmpi-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_panmpi'+id_reprocess_val).val(1);
                $('#flag_reprocess_panmpi'+id_reprocess_val).hide();
                $('#flag_normal_panmpi'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_panmpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_panmpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_panmpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#preciopanmpi-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_panmpi'+id_reprocess_val).val(0);
                $('#flag_reprocess_panmpi'+id_reprocess_val).show();
                $('#flag_normal_panmpi'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_panmpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });




    $('.get_reprocess_extmpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_extmpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioextmpi-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_extmpi'+id_reprocess_val).val(1);
                $('#flag_reprocess_extmpi'+id_reprocess_val).hide();
                $('#flag_normal_extmpi'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_extmpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_extmpi').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_extmpi'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioextmpi-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_extmpi'+id_reprocess_val).val(0);
                $('#flag_reprocess_extmpi'+id_reprocess_val).show();
                $('#flag_normal_extmpi'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_extmpi_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });




    $('.get_reprocess_imgp').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_imgp'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioimgp-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_imgp'+id_reprocess_val).val(1);
                $('#flag_reprocess_imgp'+id_reprocess_val).hide();
                $('#flag_normal_imgp'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_imgp_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_imgp').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_imgp'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioimgp-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_imgp'+id_reprocess_val).val(0);
                $('#flag_reprocess_imgp'+id_reprocess_val).show();
                $('#flag_normal_imgp'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_imgp_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });


    $('.get_reprocess_imgm').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_imgm'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioimgm-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_imgm'+id_reprocess_val).val(1);
                $('#flag_reprocess_imgm'+id_reprocess_val).hide();
                $('#flag_normal_imgm'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_imgm_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_imgm').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_imgm'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioimgm-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_imgm'+id_reprocess_val).val(0);
                $('#flag_reprocess_imgm'+id_reprocess_val).show();
                $('#flag_normal_imgm'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_imgm_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });




    $('.get_reprocess_ots').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_ots'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_reprocesado',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorReproceso = primerResultado.reproceso;
                $('#precioots-'+id_reprocess_val).val(valorReproceso);
                $('#status_reprocess_val_ots'+id_reprocess_val).val(1);
                $('#flag_reprocess_ots'+id_reprocess_val).hide();
                $('#flag_normal_ots'+id_reprocess_val).show();
                console.log(valorReproceso);
                $('#recalc_ots_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
    $('.get_normal_ots').click(function(){
        var id_reprocess_val = $(this).attr("id");
        var rep_id_val = $('#reprocess_id_val_ots'+id_reprocess_val).val();
        console.log(rep_id_val);
        $.ajax({
            url: '<?= base_url() ?>Dashboard/busca_precionormal',
            method: 'get',
            data: { rep_id_val: rep_id_val },
            dataType: 'json',
            success: function(resultado) {
                var primerResultado = resultado[0];
                var valorPrecioNormal = primerResultado.precio;
                $('#precioots-'+id_reprocess_val).val(valorPrecioNormal);
                $('#status_reprocess_val_ots'+id_reprocess_val).val(0);
                $('#flag_reprocess_ots'+id_reprocess_val).show();
                $('#flag_normal_ots'+id_reprocess_val).hide();
                console.log(valorPrecioNormal);
                $('#recalc_ots_'+id_reprocess_val).trigger('click');
            },
            error: function() {
                console.log('Error en la solicitud AJAX');
            }
        });
    });
</script>













<script type="text/javascript">
    $(document).ready(function() {
        $("#guardatempentrada").click(function() {
            
            console.log("Intenta Guardar Entrada");

            var fecha_entrega = document.getElementById('fecha_entrega').value;
            var nombretienda = document.getElementById('tienda').value;
            var nombreusuario = document.getElementById('nombreusuario').value;
            var proveedor = document.getElementById('proveedor').value;
            var ordenpendiente = document.getElementById('ordenpendiente').value;
            var ccstatus = document.getElementById('ccstatus').value;
            var tipo_tienda = document.getElementById('tipo_tienda').value;
            var ubicacion_tienda = document.getElementById('ubicacion_tienda').value;

            if (ccstatus == '' || tipo_tienda == '' || ubicacion_tienda == '') {
                alert('no ha seleccionado la ubicacion o el tipo de tienda');
            } else {
                $('#loading_changes').css("display", "block");
                $('#loading_changes_btn').css("display", "none");
                var idnuevoent = [];
                $("input[name='idnuevoent[]']").each(function(indexf, elemf) {
                    idnuevoent.push(jQuery(this).val());
                });
                var piezaent = [];
                $("input[name='piezaent[]']").each(function(indexf, elemf) {
                    piezaent.push(jQuery(this).val());
                });
                var precioent = [];
                $("input[name='precioent[]']").each(function(indexf, elemf) {
                    precioent.push(jQuery(this).val());
                });
                var subtotalent = [];
                $("input[name='subtotalent[]']").each(function(indexf, elemf) {
                    subtotalent.push(jQuery(this).val());
                });
                var observacionesent = [];
                $("input[name='observacionesent[]']").each(function(indexf, elemf) {
                    observacionesent.push(jQuery(this).val());
                });
                var color_ent_ = [];
                $("input[name='color_ent_[]']").each(function(indexf, elemf) {
                    color_ent_.push(jQuery(this).val());
                });
                var reprocesstatusent = [];
                $("input[name='reprocesstatusent[]']").each(function(indexf, elemf) {
                    reprocesstatusent.push(jQuery(this).val());
                });
                var sku_ent = [];
                $("input[name='sku_ent[]']").each(function(indexf, elemf) {
                    sku_ent.push(jQuery(this).val());
                });


                var idnuevodcmpi = [];
                $("input[name='idnuevodcmpi[]']").each(function(indexf, elemf) {
                    idnuevodcmpi.push(jQuery(this).val());
                });
                var piezadcmpi = [];
                $("input[name='piezadcmpi[]']").each(function(indexf, elemf) {
                    piezadcmpi.push(jQuery(this).val());
                });
                var preciodcmpi = [];
                $("input[name='preciodcmpi[]']").each(function(indexf, elemf) {
                    preciodcmpi.push(jQuery(this).val());
                });
                var subtotaldcmpi = [];
                $("input[name='subtotaldcmpi[]']").each(function(indexf, elemf) {
                    subtotaldcmpi.push(jQuery(this).val());
                });
                var observacionesdcmpi = [];
                $("input[name='observacionesdcmpi[]']").each(function(indexf, elemf) {
                    observacionesdcmpi.push(jQuery(this).val());
                });
                var color_dcmpi_ = [];
                $("input[name='color_dcmpi_[]']").each(function(indexf, elemf) {
                    color_dcmpi_.push(jQuery(this).val());
                });
                var reprocesstatusdcmpi = [];
                $("input[name='reprocesstatusdcmpi[]']").each(function(indexf, elemf) {
                    reprocesstatusdcmpi.push(jQuery(this).val());
                });
                var sku_dcmpi = [];
                $("input[name='sku_dcmpi[]']").each(function(indexf, elemf) {
                    sku_dcmpi.push(jQuery(this).val());
                });


                var idnuevodcmpe = [];
                $("input[name='idnuevodcmpe[]']").each(function(indexf, elemf) {
                    idnuevodcmpe.push(jQuery(this).val());
                });
                var piezadcmpe = [];
                $("input[name='piezadcmpe[]']").each(function(indexf, elemf) {
                    piezadcmpe.push(jQuery(this).val());
                });
                var preciodcmpe = [];
                $("input[name='preciodcmpe[]']").each(function(indexf, elemf) {
                    preciodcmpe.push(jQuery(this).val());
                });
                var subtotaldcmpe = [];
                $("input[name='subtotaldcmpe[]']").each(function(indexf, elemf) {
                    subtotaldcmpe.push(jQuery(this).val());
                });
                var observacionesdcmpe = [];
                $("input[name='observacionesdcmpe[]']").each(function(indexf, elemf) {
                    observacionesdcmpe.push(jQuery(this).val());
                });
                var color_dcmpe_ = [];
                $("input[name='color_dcmpe_[]']").each(function(indexf, elemf) {
                    color_dcmpe_.push(jQuery(this).val());
                });
                var reprocesstatusdcmpe = [];
                $("input[name='reprocesstatusdcmpe[]']").each(function(indexf, elemf) {
                    reprocesstatusdcmpe.push(jQuery(this).val());
                });
                var sku_dcmpe = [];
                $("input[name='sku_dcmpe[]']").each(function(indexf, elemf) {
                    sku_dcmpe.push(jQuery(this).val());
                });


                var idnuevomhjmpi = [];
                $("input[name='idnuevomhjmpi[]']").each(function(indexf, elemf) {
                    idnuevomhjmpi.push(jQuery(this).val());
                });
                var piezamhjmpi = [];
                $("input[name='piezamhjmpi[]']").each(function(indexf, elemf) {
                    piezamhjmpi.push(jQuery(this).val());
                });
                var preciomhjmpi = [];
                $("input[name='preciomhjmpi[]']").each(function(indexf, elemf) {
                    preciomhjmpi.push(jQuery(this).val());
                });
                var subtotalmhjmpi = [];
                $("input[name='subtotalmhjmpi[]']").each(function(indexf, elemf) {
                    subtotalmhjmpi.push(jQuery(this).val());
                });
                var observacionesmhjmpi = [];
                $("input[name='observacionesmhjmpi[]']").each(function(indexf, elemf) {
                    observacionesmhjmpi.push(jQuery(this).val());
                });
                var color_mhjmpi_ = [];
                $("input[name='color_mhjmpi_[]']").each(function(indexf, elemf) {
                    color_mhjmpi_.push(jQuery(this).val());
                });
                var reprocesstatusmhjmpi = [];
                $("input[name='reprocesstatusmhjmpi[]']").each(function(indexf, elemf) {
                    reprocesstatusmhjmpi.push(jQuery(this).val());
                });
                var sku_mhjmpi = [];
                $("input[name='sku_mhjmpi[]']").each(function(indexf, elemf) {
                    sku_mhjmpi.push(jQuery(this).val());
                });


                var idnuevomhjmpe = [];
                $("input[name='idnuevomhjmpe[]']").each(function(indexf, elemf) {
                    idnuevomhjmpe.push(jQuery(this).val());
                });
                var piezamhjmpe = [];
                $("input[name='piezamhjmpe[]']").each(function(indexf, elemf) {
                    piezamhjmpe.push(jQuery(this).val());
                });
                var preciomhjmpe = [];
                $("input[name='preciomhjmpe[]']").each(function(indexf, elemf) {
                    preciomhjmpe.push(jQuery(this).val());
                });
                var subtotalmhjmpe = [];
                $("input[name='subtotalmhjmpe[]']").each(function(indexf, elemf) {
                    subtotalmhjmpe.push(jQuery(this).val());
                });
                var observacionesmhjmpe = [];
                $("input[name='observacionesmhjmpe[]']").each(function(indexf, elemf) {
                    observacionesmhjmpe.push(jQuery(this).val());
                });
                var color_mhjmpe_ = [];
                $("input[name='color_mhjmpe_[]']").each(function(indexf, elemf) {
                    color_mhjmpe_.push(jQuery(this).val());
                });
                var reprocesstatusmhjmpe = [];
                $("input[name='reprocesstatusmhjmpe[]']").each(function(indexf, elemf) {
                    reprocesstatusmhjmpe.push(jQuery(this).val());
                });
                var sku_mhjmpe = [];
                $("input[name='sku_mhjmpe[]']").each(function(indexf, elemf) {
                    sku_mhjmpe.push(jQuery(this).val());
                });


                var idnuevomhjmpje = [];
                $("input[name='idnuevomhjmpje[]']").each(function(indexf, elemf) {
                    idnuevomhjmpje.push(jQuery(this).val());
                });
                var piezamhjmpje = [];
                $("input[name='piezamhjmpje[]']").each(function(indexf, elemf) {
                    piezamhjmpje.push(jQuery(this).val());
                });
                var preciomhjmpje = [];
                $("input[name='preciomhjmpje[]']").each(function(indexf, elemf) {
                    preciomhjmpje.push(jQuery(this).val());
                });
                var subtotalmhjmpje = [];
                $("input[name='subtotalmhjmpje[]']").each(function(indexf, elemf) {
                    subtotalmhjmpje.push(jQuery(this).val());
                });
                var observacionesmhjmpje = [];
                $("input[name='observacionesmhjmpje[]']").each(function(indexf, elemf) {
                    observacionesmhjmpje.push(jQuery(this).val());
                });
                var color_mhjmpje_ = [];
                $("input[name='color_mhjmpje_[]']").each(function(indexf, elemf) {
                    color_mhjmpje_.push(jQuery(this).val());
                });
                var reprocesstatusmhjmpje = [];
                $("input[name='reprocesstatusmhjmpje[]']").each(function(indexf, elemf) {
                    reprocesstatusmhjmpje.push(jQuery(this).val());
                });
                var sku_mhjmpje = [];
                $("input[name='sku_mhjmpje[]']").each(function(indexf, elemf) {
                    sku_mhjmpje.push(jQuery(this).val());
                });


                var idnuevomhjmpli = [];
                $("input[name='idnuevomhjmpli[]']").each(function(indexf, elemf) {
                    idnuevomhjmpli.push(jQuery(this).val());
                });
                var piezamhjmpli = [];
                $("input[name='piezamhjmpli[]']").each(function(indexf, elemf) {
                    piezamhjmpli.push(jQuery(this).val());
                });
                var preciomhjmpli = [];
                $("input[name='preciomhjmpli[]']").each(function(indexf, elemf) {
                    preciomhjmpli.push(jQuery(this).val());
                });
                var subtotalmhjmpli = [];
                $("input[name='subtotalmhjmpli[]']").each(function(indexf, elemf) {
                    subtotalmhjmpli.push(jQuery(this).val());
                });
                var observacionesmhjmpli = [];
                $("input[name='observacionesmhjmpli[]']").each(function(indexf, elemf) {
                    observacionesmhjmpli.push(jQuery(this).val());
                });
                var color_mhjmpli_ = [];
                $("input[name='color_mhjmpli_[]']").each(function(indexf, elemf) {
                    color_mhjmpli_.push(jQuery(this).val());
                });
                var reprocesstatusmhjmpli = [];
                $("input[name='reprocesstatusmhjmpli[]']").each(function(indexf, elemf) {
                    reprocesstatusmhjmpli.push(jQuery(this).val());
                });
                var sku_mhjmpli = [];
                $("input[name='sku_mhjmpli[]']").each(function(indexf, elemf) {
                    sku_mhjmpli.push(jQuery(this).val());
                });


                var idnuevoimpi = [];
                $("input[name='idnuevoimpi[]']").each(function(indexf, elemf) {
                    idnuevoimpi.push(jQuery(this).val());
                });
                var piezaimpi = [];
                $("input[name='piezaimpi[]']").each(function(indexf, elemf) {
                    piezaimpi.push(jQuery(this).val());
                });
                var precioimpi = [];
                $("input[name='precioimpi[]']").each(function(indexf, elemf) {
                    precioimpi.push(jQuery(this).val());
                });
                var subtotalimpi = [];
                $("input[name='subtotalimpi[]']").each(function(indexf, elemf) {
                    subtotalimpi.push(jQuery(this).val());
                });
                var observacionesimpi = [];
                $("input[name='observacionesimpi[]']").each(function(indexf, elemf) {
                    observacionesimpi.push(jQuery(this).val());
                });
                var color_impi_ = [];
                $("input[name='color_impi_[]']").each(function(indexf, elemf) {
                    color_impi_.push(jQuery(this).val());
                });
                var reprocesstatusimpi = [];
                $("input[name='reprocesstatusimpi[]']").each(function(indexf, elemf) {
                    reprocesstatusimpi.push(jQuery(this).val());
                });
                var sku_impi = [];
                $("input[name='sku_impi[]']").each(function(indexf, elemf) {
                    sku_impi.push(jQuery(this).val());
                });


                var idnuevoimpe = [];
                $("input[name='idnuevoimpe[]']").each(function(indexf, elemf) {
                    idnuevoimpe.push(jQuery(this).val());
                });
                var piezaimpe = [];
                $("input[name='piezaimpe[]']").each(function(indexf, elemf) {
                    piezaimpe.push(jQuery(this).val());
                });
                var precioimpe = [];
                $("input[name='precioimpe[]']").each(function(indexf, elemf) {
                    precioimpe.push(jQuery(this).val());
                });
                var subtotalimpe = [];
                $("input[name='subtotalimpe[]']").each(function(indexf, elemf) {
                    subtotalimpe.push(jQuery(this).val());
                });
                var observacionesimpe = [];
                $("input[name='observacionesimpe[]']").each(function(indexf, elemf) {
                    observacionesimpe.push(jQuery(this).val());
                });
                var color_impe_ = [];
                $("input[name='color_impe_[]']").each(function(indexf, elemf) {
                    color_impe_.push(jQuery(this).val());
                });
                var reprocesstatusimpe = [];
                $("input[name='reprocesstatusimpe[]']").each(function(indexf, elemf) {
                    reprocesstatusimpe.push(jQuery(this).val());
                });
                var sku_impe = [];
                $("input[name='sku_impe[]']").each(function(indexf, elemf) {
                    sku_impe.push(jQuery(this).val());
                });


                var idnuevoimhe = [];
                $("input[name='idnuevoimhe[]']").each(function(indexf, elemf) {
                    idnuevoimhe.push(jQuery(this).val());
                });
                var piezaimhe = [];
                $("input[name='piezaimhe[]']").each(function(indexf, elemf) {
                    piezaimhe.push(jQuery(this).val());
                });
                var precioimhe = [];
                $("input[name='precioimhe[]']").each(function(indexf, elemf) {
                    precioimhe.push(jQuery(this).val());
                });
                var subtotalimhe = [];
                $("input[name='subtotalimhe[]']").each(function(indexf, elemf) {
                    subtotalimhe.push(jQuery(this).val());
                });
                var observacionesimhe = [];
                $("input[name='observacionesimhe[]']").each(function(indexf, elemf) {
                    observacionesimhe.push(jQuery(this).val());
                });
                var color_imhe_ = [];
                $("input[name='color_imhe_[]']").each(function(indexf, elemf) {
                    color_imhe_.push(jQuery(this).val());
                });
                var reprocesstatusimhe = [];
                $("input[name='reprocesstatusimhe[]']").each(function(indexf, elemf) {
                    reprocesstatusimhe.push(jQuery(this).val());
                });
                var sku_imhe = [];
                $("input[name='sku_imhe[]']").each(function(indexf, elemf) {
                    sku_imhe.push(jQuery(this).val());
                });


                var idnuevoinnpi = [];
                $("input[name='idnuevoinnpi[]']").each(function(indexf, elemf) {
                    idnuevoinnpi.push(jQuery(this).val());
                });
                var piezainnpi = [];
                $("input[name='piezainnpi[]']").each(function(indexf, elemf) {
                    piezainnpi.push(jQuery(this).val());
                });
                var precioinnpi = [];
                $("input[name='precioinnpi[]']").each(function(indexf, elemf) {
                    precioinnpi.push(jQuery(this).val());
                });
                var subtotalinnpi = [];
                $("input[name='subtotalinnpi[]']").each(function(indexf, elemf) {
                    subtotalinnpi.push(jQuery(this).val());
                });
                var observacionesinnpi = [];
                $("input[name='observacionesinnpi[]']").each(function(indexf, elemf) {
                    observacionesinnpi.push(jQuery(this).val());
                });
                var color_innpi_ = [];
                $("input[name='color_innpi_[]']").each(function(indexf, elemf) {
                    color_innpi_.push(jQuery(this).val());
                });
                var reprocesstatusinnpi = [];
                $("input[name='reprocesstatusinnpi[]']").each(function(indexf, elemf) {
                    reprocesstatusinnpi.push(jQuery(this).val());
                });
                var sku_innpi = [];
                $("input[name='sku_innpi[]']").each(function(indexf, elemf) {
                    sku_innpi.push(jQuery(this).val());
                });


                var idnuevoinnpe = [];
                $("input[name='idnuevoinnpe[]']").each(function(indexf, elemf) {
                    idnuevoinnpe.push(jQuery(this).val());
                });
                var piezainnpe = [];
                $("input[name='piezainnpe[]']").each(function(indexf, elemf) {
                    piezainnpe.push(jQuery(this).val());
                });
                var precioinnpe = [];
                $("input[name='precioinnpe[]']").each(function(indexf, elemf) {
                    precioinnpe.push(jQuery(this).val());
                });
                var subtotalinnpe = [];
                $("input[name='subtotalinnpe[]']").each(function(indexf, elemf) {
                    subtotalinnpe.push(jQuery(this).val());
                });
                var observacionesinnpe = [];
                $("input[name='observacionesinnpe[]']").each(function(indexf, elemf) {
                    observacionesinnpe.push(jQuery(this).val());
                });
                var color_innpe_ = [];
                $("input[name='color_innpe_[]']").each(function(indexf, elemf) {
                    color_innpe_.push(jQuery(this).val());
                });
                var reprocesstatusinnpe = [];
                $("input[name='reprocesstatusinnpe[]']").each(function(indexf, elemf) {
                    reprocesstatusinnpe.push(jQuery(this).val());
                });
                var sku_innpe = [];
                $("input[name='sku_innpe[]']").each(function(indexf, elemf) {
                    sku_innpe.push(jQuery(this).val());
                });


                var idnuevotnnbpi = [];
                $("input[name='idnuevotnnbpi[]']").each(function(indexf, elemf) {
                    idnuevotnnbpi.push(jQuery(this).val());
                });
                var piezatnnbpi = [];
                $("input[name='piezatnnbpi[]']").each(function(indexf, elemf) {
                    piezatnnbpi.push(jQuery(this).val());
                });
                var preciotnnbpi = [];
                $("input[name='preciotnnbpi[]']").each(function(indexf, elemf) {
                    preciotnnbpi.push(jQuery(this).val());
                });
                var subtotaltnnbpi = [];
                $("input[name='subtotaltnnbpi[]']").each(function(indexf, elemf) {
                    subtotaltnnbpi.push(jQuery(this).val());
                });
                var observacionestnnbpi = [];
                $("input[name='observacionestnnbpi[]']").each(function(indexf, elemf) {
                    observacionestnnbpi.push(jQuery(this).val());
                });
                var color_tnnbpi_ = [];
                $("input[name='color_tnnbpi_[]']").each(function(indexf, elemf) {
                    color_tnnbpi_.push(jQuery(this).val());
                });
                var reprocesstatustnnbpi = [];
                $("input[name='reprocesstatustnnbpi[]']").each(function(indexf, elemf) {
                    reprocesstatustnnbpi.push(jQuery(this).val());
                });
                var sku_tnnbpi = [];
                $("input[name='sku_tnnbpi[]']").each(function(indexf, elemf) {
                    sku_tnnbpi.push(jQuery(this).val());
                });


                var idnuevotnnbpe = [];
                $("input[name='idnuevotnnbpe[]']").each(function(indexf, elemf) {
                    idnuevotnnbpe.push(jQuery(this).val());
                });
                var piezatnnbpe = [];
                $("input[name='piezatnnbpe[]']").each(function(indexf, elemf) {
                    piezatnnbpe.push(jQuery(this).val());
                });
                var preciotnnbpe = [];
                $("input[name='preciotnnbpe[]']").each(function(indexf, elemf) {
                    preciotnnbpe.push(jQuery(this).val());
                });
                var subtotaltnnbpe = [];
                $("input[name='subtotaltnnbpe[]']").each(function(indexf, elemf) {
                    subtotaltnnbpe.push(jQuery(this).val());
                });
                var observacionestnnbpe = [];
                $("input[name='observacionestnnbpe[]']").each(function(indexf, elemf) {
                    observacionestnnbpe.push(jQuery(this).val());
                });
                var color_tnnbpe_ = [];
                $("input[name='color_tnnbpe_[]']").each(function(indexf, elemf) {
                    color_tnnbpe_.push(jQuery(this).val());
                });
                var reprocesstatustnnbpe = [];
                $("input[name='reprocesstatustnnbpe[]']").each(function(indexf, elemf) {
                    reprocesstatustnnbpe.push(jQuery(this).val());
                });
                var sku_tnnbpe = [];
                $("input[name='sku_tnnbpe[]']").each(function(indexf, elemf) {
                    sku_tnnbpe.push(jQuery(this).val());
                });


                var idnuevoherna = [];
                $("input[name='idnuevoherna[]']").each(function(indexf, elemf) {
                    idnuevoherna.push(jQuery(this).val());
                });
                var piezaherna = [];
                $("input[name='piezaherna[]']").each(function(indexf, elemf) {
                    piezaherna.push(jQuery(this).val());
                });
                var precioherna = [];
                $("input[name='precioherna[]']").each(function(indexf, elemf) {
                    precioherna.push(jQuery(this).val());
                });
                var subtotalherna = [];
                $("input[name='subtotalherna[]']").each(function(indexf, elemf) {
                    subtotalherna.push(jQuery(this).val());
                });
                var observacionesherna = [];
                $("input[name='observacionesherna[]']").each(function(indexf, elemf) {
                    observacionesherna.push(jQuery(this).val());
                });
                var color_herna_ = [];
                $("input[name='color_herna_[]']").each(function(indexf, elemf) {
                    color_herna_.push(jQuery(this).val());
                });
                var reprocesstatusherna = [];
                $("input[name='reprocesstatusherna[]']").each(function(indexf, elemf) {
                    reprocesstatusherna.push(jQuery(this).val());
                });
                var sku_herna = [];
                $("input[name='sku_herna[]']").each(function(indexf, elemf) {
                    sku_herna.push(jQuery(this).val());
                });


                var idnuevoprobmpi = [];
                $("input[name='idnuevoprobmpi[]']").each(function(indexf, elemf) {
                    idnuevoprobmpi.push(jQuery(this).val());
                });
                var piezaprobmpi = [];
                $("input[name='piezaprobmpi[]']").each(function(indexf, elemf) {
                    piezaprobmpi.push(jQuery(this).val());
                });
                var precioprobmpi = [];
                $("input[name='precioprobmpi[]']").each(function(indexf, elemf) {
                    precioprobmpi.push(jQuery(this).val());
                });
                var subtotalprobmpi = [];
                $("input[name='subtotalprobmpi[]']").each(function(indexf, elemf) {
                    subtotalprobmpi.push(jQuery(this).val());
                });
                var observacionesprobmpi = [];
                $("input[name='observacionesprobmpi[]']").each(function(indexf, elemf) {
                    observacionesprobmpi.push(jQuery(this).val());
                });
                var color_probmpi_ = [];
                $("input[name='color_probmpi_[]']").each(function(indexf, elemf) {
                    color_probmpi_.push(jQuery(this).val());
                });
                var reprocesstatusprobmpi = [];
                $("input[name='reprocesstatusprobmpi[]']").each(function(indexf, elemf) {
                    reprocesstatusprobmpi.push(jQuery(this).val());
                });
                var sku_probmpi = [];
                $("input[name='sku_probmpi[]']").each(function(indexf, elemf) {
                    sku_probmpi.push(jQuery(this).val());
                });


                var idnuevopanmpi = [];
                $("input[name='idnuevopanmpi[]']").each(function(indexf, elemf) {
                    idnuevopanmpi.push(jQuery(this).val());
                });
                var piezapanmpi = [];
                $("input[name='piezapanmpi[]']").each(function(indexf, elemf) {
                    piezapanmpi.push(jQuery(this).val());
                });
                var preciopanmpi = [];
                $("input[name='preciopanmpi[]']").each(function(indexf, elemf) {
                    preciopanmpi.push(jQuery(this).val());
                });
                var subtotalpanmpi = [];
                $("input[name='subtotalpanmpi[]']").each(function(indexf, elemf) {
                    subtotalpanmpi.push(jQuery(this).val());
                });
                var observacionespanmpi = [];
                $("input[name='observacionespanmpi[]']").each(function(indexf, elemf) {
                    observacionespanmpi.push(jQuery(this).val());
                });
                var color_panmpi_ = [];
                $("input[name='color_panmpi_[]']").each(function(indexf, elemf) {
                    color_panmpi_.push(jQuery(this).val());
                });
                var reprocesstatuspanmpi = [];
                $("input[name='reprocesstatuspanmpi[]']").each(function(indexf, elemf) {
                    reprocesstatuspanmpi.push(jQuery(this).val());
                });
                var sku_panmpi = [];
                $("input[name='sku_panmpi[]']").each(function(indexf, elemf) {
                    sku_panmpi.push(jQuery(this).val());
                });


                var idnuevoextmpi = [];
                $("input[name='idnuevoextmpi[]']").each(function(indexf, elemf) {
                    idnuevoextmpi.push(jQuery(this).val());
                });
                var piezaextmpi = [];
                $("input[name='piezaextmpi[]']").each(function(indexf, elemf) {
                    piezaextmpi.push(jQuery(this).val());
                });
                var precioextmpi = [];
                $("input[name='precioextmpi[]']").each(function(indexf, elemf) {
                    precioextmpi.push(jQuery(this).val());
                });
                var subtotalextmpi = [];
                $("input[name='subtotalextmpi[]']").each(function(indexf, elemf) {
                    subtotalextmpi.push(jQuery(this).val());
                });
                var observacionesextmpi = [];
                $("input[name='observacionesextmpi[]']").each(function(indexf, elemf) {
                    observacionesextmpi.push(jQuery(this).val());
                });
                var color_extmpi_ = [];
                $("input[name='color_extmpi_[]']").each(function(indexf, elemf) {
                    color_extmpi_.push(jQuery(this).val());
                });
                var reprocesstatusextmpi = [];
                $("input[name='reprocesstatusextmpi[]']").each(function(indexf, elemf) {
                    reprocesstatusextmpi.push(jQuery(this).val());
                });
                var sku_extmpi = [];
                $("input[name='sku_extmpi[]']").each(function(indexf, elemf) {
                    sku_extmpi.push(jQuery(this).val());
                });


                var idnuevoimgp = [];
                $("input[name='idnuevoimgp[]']").each(function(indexf, elemf) {
                    idnuevoimgp.push(jQuery(this).val());
                });
                var piezaimgp = [];
                $("input[name='piezaimgp[]']").each(function(indexf, elemf) {
                    piezaimgp.push(jQuery(this).val());
                });
                var precioimgp = [];
                $("input[name='precioimgp[]']").each(function(indexf, elemf) {
                    precioimgp.push(jQuery(this).val());
                });
                var subtotalimgp = [];
                $("input[name='subtotalimgp[]']").each(function(indexf, elemf) {
                    subtotalimgp.push(jQuery(this).val());
                });
                var observacionesimgp = [];
                $("input[name='observacionesimgp[]']").each(function(indexf, elemf) {
                    observacionesimgp.push(jQuery(this).val());
                });
                var color_imgp_ = [];
                $("input[name='color_imgp_[]']").each(function(indexf, elemf) {
                    color_imgp_.push(jQuery(this).val());
                });
                var reprocesstatusimgp = [];
                $("input[name='reprocesstatusimgp[]']").each(function(indexf, elemf) {
                    reprocesstatusimgp.push(jQuery(this).val());
                });
                var sku_imgp = [];
                $("input[name='sku_imgp[]']").each(function(indexf, elemf) {
                    sku_imgp.push(jQuery(this).val());
                });


                var idnuevoimgm = [];
                $("input[name='idnuevoimgm[]']").each(function(indexf, elemf) {
                    idnuevoimgm.push(jQuery(this).val());
                });
                var piezaimgm = [];
                $("input[name='piezaimgm[]']").each(function(indexf, elemf) {
                    piezaimgm.push(jQuery(this).val());
                });
                var precioimgm = [];
                $("input[name='precioimgm[]']").each(function(indexf, elemf) {
                    precioimgm.push(jQuery(this).val());
                });
                var subtotalimgm = [];
                $("input[name='subtotalimgm[]']").each(function(indexf, elemf) {
                    subtotalimgm.push(jQuery(this).val());
                });
                var observacionesimgm = [];
                $("input[name='observacionesimgm[]']").each(function(indexf, elemf) {
                    observacionesimgm.push(jQuery(this).val());
                });
                var color_imgm_ = [];
                $("input[name='color_imgm_[]']").each(function(indexf, elemf) {
                    color_imgm_.push(jQuery(this).val());
                });
                var reprocesstatusimgm = [];
                $("input[name='reprocesstatusimgm[]']").each(function(indexf, elemf) {
                    reprocesstatusimgm.push(jQuery(this).val());
                });
                var sku_imgm = [];
                $("input[name='sku_imgm[]']").each(function(indexf, elemf) {
                    sku_imgm.push(jQuery(this).val());
                });


                var idnuevoots = [];
                $("input[name='idnuevoots[]']").each(function(indexf, elemf) {
                    idnuevoots.push(jQuery(this).val());
                });
                var piezaots = [];
                $("input[name='piezaots[]']").each(function(indexf, elemf) {
                    piezaots.push(jQuery(this).val());
                });
                var precioots = [];
                $("input[name='precioots[]']").each(function(indexf, elemf) {
                    precioots.push(jQuery(this).val());
                });
                var subtotalots = [];
                $("input[name='subtotalots[]']").each(function(indexf, elemf) {
                    subtotalots.push(jQuery(this).val());
                });
                var observacionesots = [];
                $("input[name='observacionesots[]']").each(function(indexf, elemf) {
                    observacionesots.push(jQuery(this).val());
                });
                var color_ots_ = [];
                $("input[name='color_ots_[]']").each(function(indexf, elemf) {
                    color_ots_.push(jQuery(this).val());
                });
                var reprocesstatusots = [];
                $("input[name='reprocesstatusots[]']").each(function(indexf, elemf) {
                    reprocesstatusots.push(jQuery(this).val());
                });
                var sku_ots = [];
                $("input[name='sku_ots[]']").each(function(indexf, elemf) {
                    sku_ots.push(jQuery(this).val());
                });

                
                console.log("Guardando Datos...");

                $.ajax({
                    url: "<?= base_url() ?>Dashboard/setguardarantesgenerarcompra",
                    type: "post",
                    data: {
                        'idnuevoent[]': idnuevoent,
                        'piezaent[]': piezaent,
                        'precioent[]': precioent,
                        'subtotalent[]': subtotalent,
                        'observacionesent[]': observacionesent,
                        'color_ent_[]': color_ent_,
                        'reprocesstatusent[]': reprocesstatusent,
                        'sku_ent[]': sku_ent,

                        'idnuevodcmpi[]': idnuevodcmpi,
                        'piezadcmpi[]': piezadcmpi,
                        'preciodcmpi[]': preciodcmpi,
                        'subtotaldcmpi[]': subtotaldcmpi,
                        'observacionesdcmpi[]': observacionesdcmpi,
                        'color_dcmpi_[]': color_dcmpi_,
                        'reprocesstatusdcmpi[]': reprocesstatusdcmpi,
                        'sku_dcmpi[]': sku_dcmpi,

                        'idnuevodcmpe[]': idnuevodcmpe,
                        'piezadcmpe[]': piezadcmpe,
                        'preciodcmpe[]': preciodcmpe,
                        'subtotaldcmpe[]': subtotaldcmpe,
                        'observacionesdcmpe[]': observacionesdcmpe,
                        'color_dcmpe_[]': color_dcmpe_,
                        'reprocesstatusdcmpe[]': reprocesstatusdcmpe,
                        'sku_dcmpe[]': sku_dcmpe,

                        'idnuevomhjmpi[]': idnuevomhjmpi,
                        'piezamhjmpi[]': piezamhjmpi,
                        'preciomhjmpi[]': preciomhjmpi,
                        'subtotalmhjmpi[]': subtotalmhjmpi,
                        'observacionesmhjmpi[]': observacionesmhjmpi,
                        'color_mhjmpi_[]': color_mhjmpi_,
                        'reprocesstatusmhjmpi[]': reprocesstatusmhjmpi,
                        'sku_mhjmpi[]': sku_mhjmpi,

                        'idnuevomhjmpe[]': idnuevomhjmpe,
                        'piezamhjmpe[]': piezamhjmpe,
                        'preciomhjmpe[]': preciomhjmpe,
                        'subtotalmhjmpe[]': subtotalmhjmpe,
                        'observacionesmhjmpe[]': observacionesmhjmpe,
                        'color_mhjmpe_[]': color_mhjmpe_,
                        'reprocesstatusmhjmpe[]': reprocesstatusmhjmpe,
                        'sku_mhjmpe[]': sku_mhjmpe,

                        'idnuevomhjmpje[]': idnuevomhjmpje,
                        'piezamhjmpje[]': piezamhjmpje,
                        'preciomhjmpje[]': preciomhjmpje,
                        'subtotalmhjmpje[]': subtotalmhjmpje,
                        'observacionesmhjmpje[]': observacionesmhjmpje,
                        'color_mhjmpje_[]': color_mhjmpje_,
                        'reprocesstatusmhjmpje[]': reprocesstatusmhjmpje,
                        'sku_mhjmpje[]': sku_mhjmpje,

                        'idnuevomhjmpli[]': idnuevomhjmpli,
                        'piezamhjmpli[]': piezamhjmpli,
                        'preciomhjmpli[]': preciomhjmpli,
                        'subtotalmhjmpli[]': subtotalmhjmpli,
                        'observacionesmhjmpli[]': observacionesmhjmpli,
                        'color_mhjmpli_[]': color_mhjmpli_,
                        'reprocesstatusmhjmpli[]': reprocesstatusmhjmpli,
                        'sku_mhjmpli[]': sku_mhjmpli,

                        'idnuevoimpi[]': idnuevoimpi,
                        'piezaimpi[]': piezaimpi,
                        'precioimpi[]': precioimpi,
                        'subtotalimpi[]': subtotalimpi,
                        'observacionesimpi[]': observacionesimpi,
                        'color_impi_[]': color_impi_,
                        'reprocesstatusimpi[]': reprocesstatusimpi,
                        'sku_impi[]': sku_impi,

                        'idnuevoimpe[]': idnuevoimpe,
                        'piezaimpe[]': piezaimpe,
                        'precioimpe[]': precioimpe,
                        'subtotalimpe[]': subtotalimpe,
                        'observacionesimpe[]': observacionesimpe,
                        'color_impe_[]': color_impe_,
                        'reprocesstatusimpe[]': reprocesstatusimpe,
                        'sku_impe[]': sku_impe,

                        'idnuevoimhe[]': idnuevoimhe,
                        'piezaimhe[]': piezaimhe,
                        'precioimhe[]': precioimhe,
                        'subtotalimhe[]': subtotalimhe,
                        'observacionesimhe[]': observacionesimhe,
                        'color_imhe_[]': color_imhe_,
                        'reprocesstatusimhe[]': reprocesstatusimhe,
                        'sku_imhe[]': sku_imhe,

                        'idnuevoinnpi[]': idnuevoinnpi,
                        'piezainnpi[]': piezainnpi,
                        'precioinnpi[]': precioinnpi,
                        'subtotalinnpi[]': subtotalinnpi,
                        'observacionesinnpi[]': observacionesinnpi,
                        'color_innpi_[]': color_innpi_,
                        'reprocesstatusinnpi[]': reprocesstatusinnpi,
                        'sku_innpi[]': sku_innpi,

                        'idnuevoinnpe[]': idnuevoinnpe,
                        'piezainnpe[]': piezainnpe,
                        'precioinnpe[]': precioinnpe,
                        'subtotalinnpe[]': subtotalinnpe,
                        'observacionesinnpe[]': observacionesinnpe,
                        'color_innpe_[]': color_innpe_,
                        'reprocesstatusinnpe[]': reprocesstatusinnpe,
                        'sku_innpe[]': sku_innpe,

                        'idnuevotnnbpi[]': idnuevotnnbpi,
                        'piezatnnbpi[]': piezatnnbpi,
                        'preciotnnbpi[]': preciotnnbpi,
                        'subtotaltnnbpi[]': subtotaltnnbpi,
                        'observacionestnnbpi[]': observacionestnnbpi,
                        'color_tnnbpi_[]': color_tnnbpi_,
                        'reprocesstatustnnbpi[]': reprocesstatustnnbpi,
                        'sku_tnnbpi[]': sku_tnnbpi,

                        'idnuevotnnbpe[]': idnuevotnnbpe,
                        'piezatnnbpe[]': piezatnnbpe,
                        'preciotnnbpe[]': preciotnnbpe,
                        'subtotaltnnbpe[]': subtotaltnnbpe,
                        'observacionestnnbpe[]': observacionestnnbpe,
                        'color_tnnbpe_[]': color_tnnbpe_,
                        'reprocesstatustnnbpe[]': reprocesstatustnnbpe,
                        'sku_tnnbpe[]': sku_tnnbpe,

                        'idnuevoherna[]': idnuevoherna,
                        'piezaherna[]': piezaherna,
                        'precioherna[]': precioherna,
                        'subtotalherna[]': subtotalherna,
                        'observacionesherna[]': observacionesherna,
                        'color_herna_[]': color_herna_,
                        'reprocesstatusherna[]': reprocesstatusherna,
                        'sku_herna[]': sku_herna,

                        'idnuevoprobmpi[]': idnuevoprobmpi,
                        'piezaprobmpi[]': piezaprobmpi,
                        'precioprobmpi[]': precioprobmpi,
                        'subtotalprobmpi[]': subtotalprobmpi,
                        'observacionesprobmpi[]': observacionesprobmpi,
                        'color_probmpi_[]': color_probmpi_,
                        'reprocesstatusprobmpi[]': reprocesstatusprobmpi,
                        'sku_probmpi[]': sku_probmpi,

                        'idnuevopanmpi[]': idnuevopanmpi,
                        'piezapanmpi[]': piezapanmpi,
                        'preciopanmpi[]': preciopanmpi,
                        'subtotalpanmpi[]': subtotalpanmpi,
                        'observacionespanmpi[]': observacionespanmpi,
                        'color_panmpi_[]': color_panmpi_,
                        'reprocesstatuspanmpi[]': reprocesstatuspanmpi,
                        'sku_panmpi[]': sku_panmpi,

                        'idnuevoextmpi[]': idnuevoextmpi,
                        'piezaextmpi[]': piezaextmpi,
                        'precioextmpi[]': precioextmpi,
                        'subtotalextmpi[]': subtotalextmpi,
                        'observacionesextmpi[]': observacionesextmpi,
                        'color_extmpi_[]': color_extmpi_,
                        'reprocesstatusextmpi[]': reprocesstatusextmpi,
                        'sku_extmpi[]': sku_extmpi,

                        'idnuevoimgp[]': idnuevoimgp,
                        'piezaimgp[]': piezaimgp,
                        'precioimgp[]': precioimgp,
                        'subtotalimgp[]': subtotalimgp,
                        'observacionesimgp[]': observacionesimgp,
                        'color_imgp_[]': color_imgp_,
                        'reprocesstatusimgp[]': reprocesstatusimgp,
                        'sku_imgp[]': sku_imgp,

                        'idnuevoimgm[]': idnuevoimgm,
                        'piezaimgm[]': piezaimgm,
                        'precioimgm[]': precioimgm,
                        'subtotalimgm[]': subtotalimgm,
                        'observacionesimgm[]': observacionesimgm,
                        'color_imgm_[]': color_imgm_,
                        'reprocesstatusimgm[]': reprocesstatusimgm,
                        'sku_imgm[]': sku_imgm,

                        'idnuevoots[]': idnuevoots,
                        'piezaots[]': piezaots,
                        'precioots[]': precioots,
                        'subtotalots[]': subtotalots,
                        'observacionesots[]': observacionesots,
                        'color_ots_[]': color_ots_,
                        'reprocesstatusots[]': reprocesstatusots,
                        'sku_ots[]': sku_ots,

                        'ordenpendiente': ordenpendiente,
                        'fecha_entrega': fecha_entrega,
                        'nombretienda': nombretienda,
                        'nombreusuario': nombreusuario,
                        'proveedor': proveedor,
                        'ccstatus': ccstatus,
                        'tipo_tienda': tipo_tienda,
                        'ubicacion_tienda': ubicacion_tienda
                    },
                    success: function() {
                        console.log('Intento Exitoso!');
                        console.log('Datos Actualizados!');
                        $('#loading_changes').css("display", "none");
                        $('#loading_changes_btn').css("display", "block");
                        alert('Datos Actualizados!');
                    }
                })
            }
        })
        $(".getrowident").click(function() {
            var row_ident = $(this).attr("id");
            var piezaent = document.getElementById('piezaent-' + row_ident).value;
            var precioent = document.getElementById('precioent-' + row_ident).value;
            var precioformat = precioent.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesent = mxn.format(piezaent * parseFloat(precioformat));
            document.getElementById('tdsubtotalent-' + row_ident).innerHTML = valuesent + (' MXN');
            console.log(valuesent);
        })
        $(".getrowiddcmpi").click(function() {
            var row_iddcmpi = $(this).attr("id");
            var piezadcmpi = document.getElementById('piezadcmpi-' + row_iddcmpi).value;
            var preciodcmpi = document.getElementById('preciodcmpi-' + row_iddcmpi).value;
            var precioformat = preciodcmpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesdcmpi = mxn.format(piezadcmpi * parseFloat(precioformat));
            document.getElementById('tdsubtotaldcmpi-' + row_iddcmpi).innerHTML = valuesdcmpi + (' MXN');
            console.log(valuesdcmpi);
        })
        $(".getrowiddcmpe").click(function() {
            var row_iddcmpe = $(this).attr("id");
            var piezadcmpe = document.getElementById('piezadcmpe-' + row_iddcmpe).value;
            var preciodcmpe = document.getElementById('preciodcmpe-' + row_iddcmpe).value;
            var precioformat = preciodcmpe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesdcmpe = mxn.format(piezadcmpe * parseFloat(precioformat));
            document.getElementById('tdsubtotaldcmpe-' + row_iddcmpe).innerHTML = valuesdcmpe + (' MXN');
            console.log(valuesdcmpe);
        })
        $(".getrowidmhjmpi").click(function() {
            var row_idmhjmpi = $(this).attr("id");
            var piezamhjmpi = document.getElementById('piezamhjmpi-' + row_idmhjmpi).value;
            var preciomhjmpi = document.getElementById('preciomhjmpi-' + row_idmhjmpi).value;
            var precioformat = preciomhjmpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesmhjmpi = mxn.format(piezamhjmpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalmhjmpi-' + row_idmhjmpi).innerHTML = valuesmhjmpi + (' MXN');
            console.log(valuesmhjmpi);
        })
        $(".getrowidmhjmpe").click(function() {
            var row_idmhjmpe = $(this).attr("id");
            var piezamhjmpe = document.getElementById('piezamhjmpe-' + row_idmhjmpe).value;
            var preciomhjmpe = document.getElementById('preciomhjmpe-' + row_idmhjmpe).value;
            var precioformat = preciomhjmpe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesmhjmpe = mxn.format(piezamhjmpe * parseFloat(precioformat));
            document.getElementById('tdsubtotalmhjmpe-' + row_idmhjmpe).innerHTML = valuesmhjmpe + (' MXN');
            console.log(valuesmhjmpe);
        })
        $(".getrowidmhjmpje").click(function() {
            var row_idmhjmpje = $(this).attr("id");
            var piezamhjmpje = document.getElementById('piezamhjmpje-' + row_idmhjmpje).value;
            var preciomhjmpje = document.getElementById('preciomhjmpje-' + row_idmhjmpje).value;
            var precioformat = preciomhjmpje.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesmhjmpje = mxn.format(piezamhjmpje * parseFloat(precioformat));
            document.getElementById('tdsubtotalmhjmpje-' + row_idmhjmpje).innerHTML = valuesmhjmpje + (' MXN');
            console.log(valuesmhjmpje);
        })
        $(".getrowidmhjmpli").click(function() {
            var row_idmhjmpli = $(this).attr("id");
            var piezamhjmpli = document.getElementById('piezamhjmpli-' + row_idmhjmpli).value;
            var preciomhjmpli = document.getElementById('preciomhjmpli-' + row_idmhjmpli).value;
            var precioformat = preciomhjmpli.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesmhjmpli = mxn.format(piezamhjmpli * parseFloat(precioformat));
            document.getElementById('tdsubtotalmhjmpli-' + row_idmhjmpli).innerHTML = valuesmhjmpli + (' MXN');
            console.log(valuesmhjmpli);
        })
        $(".getrowidimpi").click(function() {
            var row_idimpi = $(this).attr("id");
            var piezaimpi = document.getElementById('piezaimpi-' + row_idimpi).value;
            var precioimpi = document.getElementById('precioimpi-' + row_idimpi).value;
            var precioformat = precioimpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesimpi = mxn.format(piezaimpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalimpi-' + row_idimpi).innerHTML = valuesimpi + (' MXN');
            console.log(valuesimpi);
        })
        $(".getrowidimpe").click(function() {
            var row_idimpe = $(this).attr("id");
            var piezaimpe = document.getElementById('piezaimpe-' + row_idimpe).value;
            var precioimpe = document.getElementById('precioimpe-' + row_idimpe).value;
            var precioformat = precioimpe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesimpe = mxn.format(piezaimpe * parseFloat(precioformat));
            document.getElementById('tdsubtotalimpe-' + row_idimpe).innerHTML = valuesimpe + (' MXN');
            console.log(valuesimpe);
        })
        $(".getrowidimhe").click(function() {
            var row_idimhe = $(this).attr("id");
            var piezaimhe = document.getElementById('piezaimhe-' + row_idimhe).value;
            var precioimhe = document.getElementById('precioimhe-' + row_idimhe).value;
            var precioformat = precioimhe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesimhe = mxn.format(piezaimhe * parseFloat(precioformat));
            document.getElementById('tdsubtotalimhe-' + row_idimhe).innerHTML = valuesimhe + (' MXN');
            console.log(valuesimhe);
        })
        $(".getrowidinnpi").click(function() {
            var row_idinnpi = $(this).attr("id");
            var piezainnpi = document.getElementById('piezainnpi-' + row_idinnpi).value;
            var precioinnpi = document.getElementById('precioinnpi-' + row_idinnpi).value;
            var precioformat = precioinnpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesinnpi = mxn.format(piezainnpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalinnpi-' + row_idinnpi).innerHTML = valuesinnpi + (' MXN');
            console.log(valuesinnpi);
        })
        $(".getrowidinnpe").click(function() {
            var row_idinnpe = $(this).attr("id");
            var piezainnpe = document.getElementById('piezainnpe-' + row_idinnpe).value;
            var precioinnpe = document.getElementById('precioinnpe-' + row_idinnpe).value;
            var precioformat = precioinnpe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesinnpe = mxn.format(piezainnpe * parseFloat(precioformat));
            document.getElementById('tdsubtotalinnpe-' + row_idinnpe).innerHTML = valuesinnpe + (' MXN');
            console.log(valuesinnpe);
        })
        $(".getrowidtnnbpi").click(function() {
            var row_idtnnbpi = $(this).attr("id");
            var piezatnnbpi = document.getElementById('piezatnnbpi-' + row_idtnnbpi).value;
            var preciotnnbpi = document.getElementById('preciotnnbpi-' + row_idtnnbpi).value;
            var precioformat = preciotnnbpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuestnnbpi = mxn.format(piezatnnbpi * parseFloat(precioformat));
            document.getElementById('tdsubtotaltnnbpi-' + row_idtnnbpi).innerHTML = valuestnnbpi + (' MXN');
            console.log(valuestnnbpi);
        })
        $(".getrowidtnnbpe").click(function() {
            var row_idtnnbpe = $(this).attr("id");
            var piezatnnbpe = document.getElementById('piezatnnbpe-' + row_idtnnbpe).value;
            var preciotnnbpe = document.getElementById('preciotnnbpe-' + row_idtnnbpe).value;
            var precioformat = preciotnnbpe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuestnnbpe = mxn.format(piezatnnbpe * parseFloat(precioformat));
            document.getElementById('tdsubtotaltnnbpe-' + row_idtnnbpe).innerHTML = valuestnnbpe + (' MXN');
            console.log(valuestnnbpe);
        })
        $(".getrowidherna").click(function() {
            var row_idherna = $(this).attr("id");
            var piezaherna = document.getElementById('piezaherna-' + row_idherna).value;
            var precioherna = document.getElementById('precioherna-' + row_idherna).value;
            var precioformat = precioherna.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesherna = mxn.format(piezaherna * parseFloat(precioformat));
            document.getElementById('tdsubtotalherna-' + row_idherna).innerHTML = valuesherna + (' MXN');
            console.log(valuesherna);
        })
        $(".getrowidprobmpi").click(function() {
            var row_idprobmpi = $(this).attr("id");
            var piezaprobmpi = document.getElementById('piezaprobmpi-' + row_idprobmpi).value;
            var precioprobmpi = document.getElementById('precioprobmpi-' + row_idprobmpi).value;
            var precioformat = precioprobmpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesprobmpi = mxn.format(piezaprobmpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalprobmpi-' + row_idprobmpi).innerHTML = valuesprobmpi + (' MXN');
            console.log(valuesprobmpi);
        })
        $(".getrowidpanmpi").click(function() {
            var row_idpanmpi = $(this).attr("id");
            var piezapanmpi = document.getElementById('piezapanmpi-' + row_idpanmpi).value;
            var preciopanmpi = document.getElementById('preciopanmpi-' + row_idpanmpi).value;
            var precioformat = preciopanmpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuespanmpi = mxn.format(piezapanmpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalpanmpi-' + row_idpanmpi).innerHTML = valuespanmpi + (' MXN');
            console.log(valuespanmpi);
        })
        $(".getrowidextmpi").click(function() {
            var row_idextmpi = $(this).attr("id");
            var piezaextmpi = document.getElementById('piezaextmpi-' + row_idextmpi).value;
            var precioextmpi = document.getElementById('precioextmpi-' + row_idextmpi).value;
            var precioformat = precioextmpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesextmpi = mxn.format(piezaextmpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalextmpi-' + row_idextmpi).innerHTML = valuesextmpi + (' MXN');
            console.log(valuesextmpi);
        })
        $(".getrowidimgp").click(function() {
            var row_idimgp = $(this).attr("id");
            var precioimgp = document.getElementById('precioimgp-' + row_idimgp).value;
            var precioformat = precioimgp.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesimgp = mxn.format(parseFloat(precioformat));
            document.getElementById('tdsubtotalimgp-' + row_idimgp).innerHTML = valuesimgp + (' MXN');
            document.getElementById('subtotalimgp-' + row_idimgp).value = parseFloat(precioformat);
            console.log(valuesimgp);
        })
        $(".getrowidimgm").click(function() {
            var row_idimgm = $(this).attr("id");
            var precioimgm = document.getElementById('precioimgm-' + row_idimgm).value;
            var precioformat = precioimgm.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesimgm = mxn.format(parseFloat(precioformat));
            document.getElementById('tdsubtotalimgm-' + row_idimgm).innerHTML = valuesimgm + (' MXN');
            document.getElementById('subtotalimgm-' + row_idimgm).value = parseFloat(precioformat);
            console.log(valuesimgm);
        })
        $(".getrowidots").click(function() {
            var row_idots = $(this).attr("id");
            var piezaots = document.getElementById('piezaots-' + row_idots).value;
            var precioots = document.getElementById('precioots-' + row_idots).value;
            var precioformat = precioots.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesots = mxn.format(piezaots * parseFloat(precioformat));
            document.getElementById('tdsubtotalots-' + row_idots).innerHTML = valuesots + (' MXN');
            console.log(valuesots);
        })








        $(".getrowident2").click(function() {
            var row_ident = $(this).attr("id");
            var split_row_ident = row_ident.replace("recalc_ent_", "");
            console.log(split_row_ident);
            var piezaent = document.getElementById('piezaent-' + split_row_ident).value;
            var precioent = document.getElementById('precioent-' + split_row_ident).value;
            var precioformat = precioent.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesent = mxn.format(piezaent * parseFloat(precioformat));
            document.getElementById('tdsubtotalent-' + split_row_ident).innerHTML = valuesent + (' MXN');
            console.log(valuesent);
            $('#piezaent-' + split_row_ident).trigger('input');
        });
        $(".getrowiddcmpi2").click(function() {
            
            var row_iddcmpi = $(this).attr("id");
            var split_row_iddcmpi = row_iddcmpi.replace("recalc_dcmpi_", "");
            console.log(split_row_iddcmpi);
            var piezadcmpi = document.getElementById('piezadcmpi-' + split_row_iddcmpi).value;
            var preciodcmpi = document.getElementById('preciodcmpi-' + split_row_iddcmpi).value;
            var precioformat = preciodcmpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesdcmpi = mxn.format(piezadcmpi * parseFloat(precioformat));
            document.getElementById('tdsubtotaldcmpi-' + split_row_iddcmpi).innerHTML = valuesdcmpi + (' MXN');
            console.log(valuesdcmpi);
            $('#piezadcmpi-' + split_row_iddcmpi).trigger('input');
        });
        $(".getrowiddcmpe2").click(function() {
            
            var row_iddcmpe = $(this).attr("id");
            var split_row_iddcmpe = row_iddcmpe.replace("recalc_dcmpe_", "");
            console.log(split_row_iddcmpe);
            var piezadcmpe = document.getElementById('piezadcmpe-' + split_row_iddcmpe).value;
            var preciodcmpe = document.getElementById('preciodcmpe-' + split_row_iddcmpe).value;
            var precioformat = preciodcmpe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesdcmpe = mxn.format(piezadcmpe * parseFloat(precioformat));
            document.getElementById('tdsubtotaldcmpe-' + split_row_iddcmpe).innerHTML = valuesdcmpe + (' MXN');
            console.log(valuesdcmpe);
            $('#piezadcmpe-' + split_row_iddcmpe).trigger('input');
        });
        $(".getrowidmhjmpi2").click(function() {
            
            var row_idmhjmpi = $(this).attr("id");
            var split_row_idmhjmpi = row_idmhjmpi.replace("recalc_mhjmpi_", "");
            console.log(split_row_idmhjmpi);
            var piezamhjmpi = document.getElementById('piezamhjmpi-' + split_row_idmhjmpi).value;
            var preciomhjmpi = document.getElementById('preciomhjmpi-' + split_row_idmhjmpi).value;
            var precioformat = preciomhjmpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesmhjmpi = mxn.format(piezamhjmpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalmhjmpi-' + split_row_idmhjmpi).innerHTML = valuesmhjmpi + (' MXN');
            console.log(valuesmhjmpi);
            $('#piezamhjmpi-' + split_row_idmhjmpi).trigger('input');
        });
        $(".getrowidmhjmpe2").click(function() {
            
            var row_idmhjmpe = $(this).attr("id");
            var split_row_idmhjmpe = row_idmhjmpe.replace("recalc_mhjmpe_", "");
            console.log(split_row_idmhjmpe);
            var piezamhjmpe = document.getElementById('piezamhjmpe-' + split_row_idmhjmpe).value;
            var preciomhjmpe = document.getElementById('preciomhjmpe-' + split_row_idmhjmpe).value;
            var precioformat = preciomhjmpe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesmhjmpe = mxn.format(piezamhjmpe * parseFloat(precioformat));
            document.getElementById('tdsubtotalmhjmpe-' + split_row_idmhjmpe).innerHTML = valuesmhjmpe + (' MXN');
            console.log(valuesmhjmpe);
            $('#piezamhjmpe-' + split_row_idmhjmpe).trigger('input');
        });
        $(".getrowidmhjmpje2").click(function() {
            
            var row_idmhjmpje = $(this).attr("id");
            var split_row_idmhjmpje = row_idmhjmpje.replace("recalc_mhjmpje_", "");
            console.log(split_row_idmhjmpje);
            var piezamhjmpje = document.getElementById('piezamhjmpje-' + split_row_idmhjmpje).value;
            var preciomhjmpje = document.getElementById('preciomhjmpje-' + split_row_idmhjmpje).value;
            var precioformat = preciomhjmpje.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesmhjmpje = mxn.format(piezamhjmpje * parseFloat(precioformat));
            document.getElementById('tdsubtotalmhjmpje-' + split_row_idmhjmpje).innerHTML = valuesmhjmpje + (' MXN');
            console.log(valuesmhjmpje);
            $('#piezamhjmpje-' + split_row_idmhjmpje).trigger('input');
        });
        $(".getrowidmhjmpli2").click(function() {
            
            var row_idmhjmpli = $(this).attr("id");
            var split_row_idmhjmpli = row_idmhjmpli.replace("recalc_mhjmpli_", "");
            console.log(split_row_idmhjmpli);
            var piezamhjmpli = document.getElementById('piezamhjmpli-' + split_row_idmhjmpli).value;
            var preciomhjmpli = document.getElementById('preciomhjmpli-' + split_row_idmhjmpli).value;
            var precioformat = preciomhjmpli.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesmhjmpli = mxn.format(piezamhjmpli * parseFloat(precioformat));
            document.getElementById('tdsubtotalmhjmpli-' + split_row_idmhjmpli).innerHTML = valuesmhjmpli + (' MXN');
            console.log(valuesmhjmpli);
            $('#piezamhjmpli-' + split_row_idmhjmpli).trigger('input');
        });
        $(".getrowidimpi2").click(function() {
            
            var row_idimpi = $(this).attr("id");
            var split_row_idimpi = row_idimpi.replace("recalc_impi_", "");
            console.log(split_row_idimpi);
            var piezaimpi = document.getElementById('piezaimpi-' + split_row_idimpi).value;
            var precioimpi = document.getElementById('precioimpi-' + split_row_idimpi).value;
            var precioformat = precioimpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesimpi = mxn.format(piezaimpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalimpi-' + split_row_idimpi).innerHTML = valuesimpi + (' MXN');
            console.log(valuesimpi);
            $('#piezaimpi-' + split_row_idimpi).trigger('input');
        });
        $(".getrowidimpe2").click(function() {
            
            var row_idimpe = $(this).attr("id");
            var split_row_idimpe = row_idimpe.replace("recalc_impe_", "");
            console.log(split_row_idimpe);
            var piezaimpe = document.getElementById('piezaimpe-' + split_row_idimpe).value;
            var precioimpe = document.getElementById('precioimpe-' + split_row_idimpe).value;
            var precioformat = precioimpe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesimpe = mxn.format(piezaimpe * parseFloat(precioformat));
            document.getElementById('tdsubtotalimpe-' + split_row_idimpe).innerHTML = valuesimpe + (' MXN');
            console.log(valuesimpe);
            $('#piezaimpe-' + split_row_idimpe).trigger('input');
        });
        $(".getrowidimhe2").click(function() {
            
            var row_idimhe = $(this).attr("id");
            var split_row_idimhe = row_idimhe.replace("recalc_imhe_", "");
            console.log(split_row_idimhe);
            var piezaimhe = document.getElementById('piezaimhe-' + split_row_idimhe).value;
            var precioimhe = document.getElementById('precioimhe-' + split_row_idimhe).value;
            var precioformat = precioimhe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesimhe = mxn.format(piezaimhe * parseFloat(precioformat));
            document.getElementById('tdsubtotalimhe-' + split_row_idimhe).innerHTML = valuesimhe + (' MXN');
            console.log(valuesimhe);
            $('#piezaimhe-' + split_row_idimhe).trigger('input');
        });
        $(".getrowidinnpi2").click(function() {
            
            var row_idinnpi = $(this).attr("id");
            var split_row_idinnpi = row_idinnpi.replace("recalc_innpi_", "");
            console.log(split_row_idinnpi);
            var piezainnpi = document.getElementById('piezainnpi-' + split_row_idinnpi).value;
            var precioinnpi = document.getElementById('precioinnpi-' + split_row_idinnpi).value;
            var precioformat = precioinnpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesinnpi = mxn.format(piezainnpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalinnpi-' + split_row_idinnpi).innerHTML = valuesinnpi + (' MXN');
            console.log(valuesinnpi);
            $('#piezainnpi-' + split_row_idinnpi).trigger('input');
        });
        $(".getrowidinnpe2").click(function() {
            
            var row_idinnpe = $(this).attr("id");
            var split_row_idinnpe = row_idinnpe.replace("recalc_innpe_", "");
            console.log(split_row_idinnpe);
            var piezainnpe = document.getElementById('piezainnpe-' + split_row_idinnpe).value;
            var precioinnpe = document.getElementById('precioinnpe-' + split_row_idinnpe).value;
            var precioformat = precioinnpe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesinnpe = mxn.format(piezainnpe * parseFloat(precioformat));
            document.getElementById('tdsubtotalinnpe-' + split_row_idinnpe).innerHTML = valuesinnpe + (' MXN');
            console.log(valuesinnpe);
            $('#piezainnpe-' + split_row_idinnpe).trigger('input');
        });
        $(".getrowidtnnbpi2").click(function() {
            
            var row_idtnnbpi = $(this).attr("id");
            var split_row_idtnnbpi = row_idtnnbpi.replace("recalc_tnnbpi_", "");
            console.log(split_row_idtnnbpi);
            var piezatnnbpi = document.getElementById('piezatnnbpi-' + split_row_idtnnbpi).value;
            var preciotnnbpi = document.getElementById('preciotnnbpi-' + split_row_idtnnbpi).value;
            var precioformat = preciotnnbpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuestnnbpi = mxn.format(piezatnnbpi * parseFloat(precioformat));
            document.getElementById('tdsubtotaltnnbpi-' + split_row_idtnnbpi).innerHTML = valuestnnbpi + (' MXN');
            console.log(valuestnnbpi);
            $('#piezatnnbpi-' + split_row_idtnnbpi).trigger('input');
        });
        $(".getrowidtnnbpe2").click(function() {
            
            var row_idtnnbpe = $(this).attr("id");
            var split_row_idtnnbpe = row_idtnnbpe.replace("recalc_tnnbpe_", "");
            console.log(split_row_idtnnbpe);
            var piezatnnbpe = document.getElementById('piezatnnbpe-' + split_row_idtnnbpe).value;
            var preciotnnbpe = document.getElementById('preciotnnbpe-' + split_row_idtnnbpe).value;
            var precioformat = preciotnnbpe.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuestnnbpe = mxn.format(piezatnnbpe * parseFloat(precioformat));
            document.getElementById('tdsubtotaltnnbpe-' + split_row_idtnnbpe).innerHTML = valuestnnbpe + (' MXN');
            console.log(valuestnnbpe);
            $('#piezatnnbpe-' + split_row_idtnnbpe).trigger('input');
        });
        $(".getrowidherna2").click(function() {
            
            var row_idherna = $(this).attr("id");
            var split_row_idherna = row_idherna.replace("recalc_herna_", "");
            console.log(split_row_idherna);
            var piezaherna = document.getElementById('piezaherna-' + split_row_idherna).value;
            var precioherna = document.getElementById('precioherna-' + split_row_idherna).value;
            var precioformat = precioherna.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesherna = mxn.format(piezaherna * parseFloat(precioformat));
            document.getElementById('tdsubtotalherna-' + split_row_idherna).innerHTML = valuesherna + (' MXN');
            console.log(valuesherna);
            $('#piezaherna-' + split_row_idherna).trigger('input');
        });
        $(".getrowidprobmpi2").click(function() {
            
            var row_idprobmpi = $(this).attr("id");
            var split_row_idprobmpi = row_idprobmpi.replace("recalc_probmpi_", "");
            console.log(split_row_idprobmpi);
            var piezaprobmpi = document.getElementById('piezaprobmpi-' + split_row_idprobmpi).value;
            var precioprobmpi = document.getElementById('precioprobmpi-' + split_row_idprobmpi).value;
            var precioformat = precioprobmpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesprobmpi = mxn.format(piezaprobmpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalprobmpi-' + split_row_idprobmpi).innerHTML = valuesprobmpi + (' MXN');
            console.log(valuesprobmpi);
            $('#piezaprobmpi-' + split_row_idprobmpi).trigger('input');
        });
        $(".getrowidpanmpi2").click(function() {
            
            var row_idpanmpi = $(this).attr("id");
            var split_row_idpanmpi = row_idpanmpi.replace("recalc_panmpi_", "");
            console.log(split_row_idpanmpi);
            var piezapanmpi = document.getElementById('piezapanmpi-' + split_row_idpanmpi).value;
            var preciopanmpi = document.getElementById('preciopanmpi-' + split_row_idpanmpi).value;
            var precioformat = preciopanmpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuespanmpi = mxn.format(piezapanmpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalpanmpi-' + split_row_idpanmpi).innerHTML = valuespanmpi + (' MXN');
            console.log(valuespanmpi);
            $('#piezapanmpi-' + split_row_idpanmpi).trigger('input');
        });
        $(".getrowidextmpi2").click(function() {
            
            var row_idextmpi = $(this).attr("id");
            var split_row_idextmpi = row_idextmpi.replace("recalc_extmpi_", "");
            console.log(split_row_idextmpi);
            var piezaextmpi = document.getElementById('piezaextmpi-' + split_row_idextmpi).value;
            var precioextmpi = document.getElementById('precioextmpi-' + split_row_idextmpi).value;
            var precioformat = precioextmpi.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesextmpi = mxn.format(piezaextmpi * parseFloat(precioformat));
            document.getElementById('tdsubtotalextmpi-' + split_row_idextmpi).innerHTML = valuesextmpi + (' MXN');
            console.log(valuesextmpi);
            $('#piezaextmpi-' + split_row_idextmpi).trigger('input');
        });
        $(".getrowidimgp2").click(function() {
            
            var row_idimgp = $(this).attr("id");
            var split_row_idimgp = row_idimgp.replace("recalc_imgp_", "");
            console.log(split_row_idimgp);
            //var piezaimgp = document.getElementById('piezaimgp-' + split_row_idimgp).value;
            var precioimgp = document.getElementById('precioimgp-' + split_row_idimgp).value;
            var precioformat = precioimgp.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesimgp = mxn.format(precioformat);
            document.getElementById('tdsubtotalimgp-' + split_row_idimgp).innerHTML = valuesimgp + (' MXN');
            console.log(valuesimgp);
            $('#precioimgp-' + split_row_idimgp).trigger('input');
        });
        $(".getrowidimgm2").click(function() {
            
            var row_idimgm = $(this).attr("id");
            var split_row_idimgm = row_idimgm.replace("recalc_imgm_", "");
            console.log(split_row_idimgm);
            //var piezaimgm = document.getElementById('piezaimgm-' + split_row_idimgm).value;
            var precioimgm = document.getElementById('precioimgm-' + split_row_idimgm).value;
            var precioformat = precioimgm.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesimgm = mxn.format(precioformat);
            document.getElementById('tdsubtotalimgm-' + split_row_idimgm).innerHTML = valuesimgm + (' MXN');
            console.log(valuesimgm);
            $('#precioimgm-' + split_row_idimgm).trigger('input');
        });
        $(".getrowidots2").click(function() {
            
            var row_idots = $(this).attr("id");
            var split_row_idots = row_idots.replace("recalc_ots_", "");
            console.log(split_row_idots);
            var piezaots = document.getElementById('piezaots-' + split_row_idots).value;
            var precioots = document.getElementById('precioots-' + split_row_idots).value;
            var precioformat = precioots.replaceAll(',', '').replaceAll('$', '');
            var mxn = new Intl.NumberFormat("es-MX", {
                style: "currency",
                currency: "MXN"
            })
            var valuesots = mxn.format(piezaots * parseFloat(precioformat));
            document.getElementById('tdsubtotalots-' + split_row_idots).innerHTML = valuesots + (' MXN');
            console.log(valuesots);
            $('#piezaots-' + split_row_idots).trigger('input');
        });


        //******************SKUS VALUES***************** */
        $('#change_sku_values_cc31').on('click', function() {
            $('#ccstatus').val(31);
            $('#contenidotablaentrada tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotabladcmpi tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotabladcmpe tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablamhjmpi tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablamhjmpe tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablamhjmpje tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablamhjmpli tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablaimpi tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablaimpe tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablaimhe tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablainnpi tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablainnpe tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablatnnbpi tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablatnnbpe tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablaherna tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablaprobmpi tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablapanmpi tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablaextmpi tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablaimgp tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablaimgm tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            $('#contenidotablaots tr').each(function() {
                var cc31v = $(this).find('.skuvaluecc31').val();
                var cc31rv = $(this).find('.skuvaluecc31r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc31v == '' && cc31rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc31v);
                }
            });
            var cuentacontable = $('#ccstatus').val();
            var tipo_tienda = $('#tipo_tienda').val();
            var ubicacion_tienda = $('#ubicacion_tienda').val();
            $('#replicacuentacontable').val(cuentacontable);
            $('#replicatipotienda').val(tipo_tienda);
            $('#replicaubicacion').val(ubicacion_tienda);
        });
        $('#change_sku_values_cc33').on('click', function() {
            $('#ccstatus').val(33);
            $('#contenidotablaentrada tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotabladcmpi tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotabladcmpe tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablamhjmpi tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablamhjmpe tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablamhjmpje tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablamhjmpli tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablaimpi tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablaimpe tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablaimhe tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablainnpi tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablainnpe tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablatnnbpi tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablatnnbpe tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablaherna tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablaprobmpi tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablapanmpi tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablaextmpi tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablaimgp tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablaimgm tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            $('#contenidotablaots tr').each(function() {
                var cc33v = $(this).find('.skuvaluecc33').val();
                var cc33rv = $(this).find('.skuvaluecc33r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc33v == '' && cc33rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc33v);
                }
            });
            var cuentacontable = $('#ccstatus').val();
            var tipo_tienda = $('#tipo_tienda').val();
            var ubicacion_tienda = $('#ubicacion_tienda').val();
            $('#replicacuentacontable').val(cuentacontable);
            $('#replicatipotienda').val(tipo_tienda);
            $('#replicaubicacion').val(ubicacion_tienda);
        });
        $('#change_sku_values_cc34').on('click', function() {
            $('#ccstatus').val(34);
            $('#contenidotablaentrada tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotabladcmpi tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotabladcmpe tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablamhjmpi tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablamhjmpe tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablamhjmpje tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablamhjmpli tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablaimpi tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablaimpe tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablaimhe tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablainnpi tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablainnpe tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablatnnbpi tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablatnnbpe tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablaherna tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablaprobmpi tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablapanmpi tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablaextmpi tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablaimgp tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablaimgm tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            $('#contenidotablaots tr').each(function() {
                var cc34v = $(this).find('.skuvaluecc34').val();
                var cc34rv = $(this).find('.skuvaluecc34r').val();
                var activof = $(this).find('.skuvalueactivof').val();
                if (cc34v == '' && cc34rv == ''){
                    $(this).find('.skuvalueinsert').val(activof);
                }else{
                    $(this).find('.skuvalueinsert').val(cc34v);
                }
            });
            var cuentacontable = $('#ccstatus').val();
            var tipo_tienda = $('#tipo_tienda').val();
            var ubicacion_tienda = $('#ubicacion_tienda').val();
            $('#replicacuentacontable').val(cuentacontable);
            $('#replicatipotienda').val(tipo_tienda);
            $('#replicaubicacion').val(ubicacion_tienda);
        });
        $('#limpia_skus_vals').on('click', function (){
            $('#ccstatus').val('');
            $('#contenidotablaentrada tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotabladcmpi tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotabladcmpe tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablamhjmpi tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablamhjmpe tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablamhjmpje tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablamhjmpli tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablaimpi tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablaimpe tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablaimhe tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablainnpi tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablainnpe tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablatnnbpi tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablatnnbpe tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablaherna tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablaprobmpi tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablapanmpi tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablaextmpi tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablaimgp tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablaimgm tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#contenidotablaots tr').each(function() {
                $(this).find('.skuvalueinsert').val('');
            });
            $('#replicacuentacontable').val('');
            $('#replicatipotienda').val('');
            $('#replicaubicacion').val('');
        });
    })
    $('.check_isfijor').click(function (){ //traer skus de reprocesos cuando se selecciona la bandera roja
        var isfijo = $(this).closest('tr').find('.isfijoval').attr('isfijo');//como mencionamos si es 1, es activo fijo, si no, no
        var cc31rv = $(this).closest('tr').find('.skuvaluecc31r').val();
        var cc33rv = $(this).closest('tr').find('.skuvaluecc33r').val();
        var cc34rv = $(this).closest('tr').find('.skuvaluecc34r').val();
        var ccstatus = $('#ccstatus').val();//trae valor de cuenta contable
        if(ccstatus == ''){ //si no se ha seleccionado cuenta contable
            console.log('seleccione cc');// no interccambia sku de reproceso
        }else{//si hay cuenta contable activa
            if(isfijo == '1'){// si es activo fijo
                console.log('no se cambia rep');//se queda con el valor de AC.F.
            }else{//si no es activo fijo
                if(ccstatus == '31'){//si la cuenta contable es 31
                    $(this).closest('tr').find('.skuvalueinsert').val(cc31rv);//cambia sku de reproceso de de la cuenta contable 31
                }else if(ccstatus == '33'){//si la cuenta contable es 33
                    $(this).closest('tr').find('.skuvalueinsert').val(cc33rv);//cambia sku de reproceso de de la cuenta contable 33
                }else if(ccstatus == '34'){//si la cuenta contable es 34
                    $(this).closest('tr').find('.skuvalueinsert').val(cc34rv);//cambia sku de reproceso de de la cuenta contable 34
                }else{}
            }
        }
    });
    $('.check_isfijo').click(function (){ //traer skus normales cuando se selecciona la bandera azul
        var isfijo = $(this).closest('tr').find('.isfijoval').attr('isfijo');//como mencionamos si es 1, es activo fijo, si no, no
        var cc31v = $(this).closest('tr').find('.skuvaluecc31').val();
        var cc33v = $(this).closest('tr').find('.skuvaluecc33').val();
        var cc34v = $(this).closest('tr').find('.skuvaluecc34').val();
        var ccstatus = $('#ccstatus').val();//trae valor de cuenta contable
        if(ccstatus == ''){ //si no se ha seleccionado cuenta contable
            console.log('seleccione cc');// no interccambia sku normal
        }else{//si hay cuenta contable activa
            if(isfijo == '1'){// si es activo fijo
                console.log('no se cambia rep');//se queda con el valor de AC.F.
            }else{//si no es activo fijo
                if(ccstatus == '31'){//si la cuenta contable es 31
                    $(this).closest('tr').find('.skuvalueinsert').val(cc31v);//cambia sku de reproceso de de la cuenta contable 31
                }else if(ccstatus == '33'){//si la cuenta contable es 33
                    $(this).closest('tr').find('.skuvalueinsert').val(cc33v);//cambia sku de reproceso de de la cuenta contable 33
                }else if(ccstatus == '34'){//si la cuenta contable es 34
                    $(this).closest('tr').find('.skuvalueinsert').val(cc34v);//cambia sku de reproceso de de la cuenta contable 34
                }else{}
            }
        }
    });
</script>
<style>
    /* Estilo para los radio buttons */
    .radio-btn {
        opacity: 0;
    }

    .radio-btn+label {
        position: relative;
        padding-left: 30px;
        cursor: pointer;
        font-size: 16px;
        line-height: 1.5;
        color: #333;
        display: inline-block;
    }

    .radio-btn+label:before {
        content: '';
        position: absolute;
        left: 0;
        top: 2px;
        width: 20px;
        height: 20px;
        border: 2px solid #3498db;
        border-radius: 50%;
        background-color: #fff;
        transition: background 0.3s;
    }

    .radio-btn:checked+label:before {
        background-color: #3498db;
        border-color: #3498db;
    }

    .radio-label {
        margin-left: 10px;
    }
</style>